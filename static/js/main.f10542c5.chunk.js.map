{"version":3,"sources":["assets/chessdrillslogo.png","firebase.js","utils/streak.js","utils/accountSync.js","auth/AuthProvider.js","components/TopNav.js","openings/londonLines.js","openings/openingCatalog.js","openings/sicilianDefenseLines.js","openings/ruyLopezLines.js","openings/friedLiverAttackLines.js","openings/staffordGambitLines.js","openings/caroKannLines.js","openings/queensGambitAcceptedLines.js","openings/queensGambitDeclinedLines.js","openings/italianGameLines.js","openings/kingsIndianDefenseLines.js","openings/frenchDefenseLines.js","openings/englundGambitLines.js","openings/englishOpeningLines.js","openings/scotchGameLines.js","theme/boardThemes.js","components/Home.js","components/About.js","components/Board.js","components/Settings.js","components/Practice.js","utils/activityDays.js","components/openingTrainer/otUtils.js","utils/lineIndex.js","components/openingTrainer/practicePicker.js","components/openingTrainer/otStorage.js","components/openingTrainer/OpeningTrainerCustomModal.js","components/openingTrainer/OpeningTrainerConfetti.js","utils/periodKeys.js","components/OpeningTrainer.js","components/StreakModal.js","auth/ProtectedRoute.js","components/Login.js","components/Signup.js","components/Profile.js","components/Leaderboards.js","components/DiscordCallback.js","components/PublicProfile.js","utils/cloudSync.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","process","authDomain","projectId","appId","auth","getAuth","db","getFirestore","functions","getFunctions","LS_KEY","pad2","n","String","padStart","ymdLocal","date","arguments","length","undefined","Date","y","getFullYear","m","getMonth","d","getDate","concat","loadRaw","s","window","localStorage","getItem","JSON","parse","_","notifyUpdated","detail","dispatchEvent","CustomEvent","getStreakState","today","raw","current","best","lastCompletedDate","completedToday","last","Number","weekdayNameLocal","toLocaleDateString","weekday","getDay","markLineCompletedTodayDetailed","before","state","didMarkToday","continued","newBest","yesterday","ymd","deltaDays","split","map","dt","setDate","addDaysLocal","nextCurrent","nextBest","Math","max","obj","setItem","stringify","saveRaw","after","loadLS","key","fallback","text","safeJsonParse","saveLS","value","asObj","v","isYmd","test","async","syncAccountFromLocalAndCloud","user","uid","ref","doc","localDailyStreak","localProgress","lines","openings","localSettings","localCustomReps","localLearnProgress","localActivityDays","snap","getDoc","remote","exists","data","remoteDailyStreak","dailyStreak","remoteProgress","progress","remoteSettings","settings","remoteCustomReps","Array","isArray","customReps","remoteLearnProgress","learnProgress","remoteActivityDays","activityDays","mergedDailyStreak","localRaw","remoteRaw","l","r","lLast","rLast","lBest","rBest","lCur","rCur","mergeDailyStreak","mergedProgress","out","rLines","Object","keys","forEach","openingKey","bucket","lineId","a","b","merged","timesSeen","timesCompleted","timesClean","lastResult","rOpenings","_objectSpread","totalCompleted","totalClean","bestStreak","todayKey","streak","mergeProgress","mergedSettings","mergeSettings","mergedCustomReps","item","id","values","mergeCustomReps","mergedLearnProgress","lOpenings","Set","lo","ro","outOpening","lastPlayedAt","lLines","timesFailed","lastSeenAt","lastFailedAt","mergeLearnProgress","mergedActivityDays","k","mergeActivityDays","displayName","email","setDoc","updatedAt","serverTimestamp","merge","AuthContext","createContext","AuthProvider","_ref","children","setUser","useState","authLoading","setAuthLoading","syncing","setSyncing","userDoc","setUserDoc","userDocLoading","setUserDocLoading","useEffect","unsub","onAuthStateChanged","u","Event","off","onSnapshot","signUp","password","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","signOut","firebaseSignOut","membershipTier","membershipActive","isMember","useMemo","React","createElement","Provider","useAuth","useContext","wittySubtitles","TopNav","props","title","hideHero","subtitle","setSubtitle","setStreak","menuOpen","setMenuOpen","ctaLabel","setCtaLabel","menuWrapRef","useRef","floor","random","isLoggedIn","variants","A","B","stored","refresh","addEventListener","onVis","document","visibilityState","t","setInterval","removeEventListener","clearInterval","onDocMouseDown","e","contains","target","onKeyDown","profileHref","Fragment","className","Link","to","aria-label","src","logo","alt","pathname","from","reason","onClick","role","active","aria-hidden","type","onToggleMenu","aria-haspopup","aria-expanded","onJoinDiscord","open","location","href","_res$data","redirectUri","CHESSDRILLS_BASE_URL","fn","httpsCallable","res","url","startsWith","alert","showSpeedDrill","onSpeedDrill","OPENING_CATALOG","description","category","name","moves","explanations","accent","badge","access","earlyAccessUntil","position","orientation","playerColor","seoText","OPENING_SETS","reduce","acc","o","label","BOARD_THEMES","chesscom","lightSquareStyle","backgroundColor","darkSquareStyle","lichess","darkblue","purpleblack","PIECE_THEMES","default","wikipedia","alpha","highcontrast","OPENINGS","_previewFenCache","Map","_tokenizePgnLike","trim","filter","Boolean","push","_extractMovesFromLine","line","join","san","pgn","sequence","_getPreviewFenForOpening","opening","stableBase","stableKey","has","get","game","Chess","plies","min","i","mv","move","sloppy","fen","set","signature","slice","_safeJsonParse","_deriveCompletedCount","total","statsMap","completed","stats","snapBoardWidth","round","Home","Component","constructor","super","handleResize","this","setState","viewportW","innerWidth","updateHeroBoardWidth","el","heroFrameRef","available","clientWidth","next","heroBoardW","getHeroBoardWidth","w","clamped","onSearchChange","search","goToOpening","history","encodeURIComponent","goToCreateCustomRep","toggleFilters","filtersOpen","toggleFilter","group","filters","startFirstAvailable","progressOpenings","bestTs","p","lp","ts","renderHeroBoard","theme","boardTheme","boardW","Chessboard","assign","draggable","showNotation","width","totalLines","renderCard","perOpening","pct","tabIndex","preventDefault","style","empty","parsed","_loadProgress","_loadLearnProgress","defaults","showConfetti","playSounds","_loadSettings","createRef","color","white","black","new","inProgress","componentDidMount","setTimeout","componentWillUnmount","render","q","toLowerCase","searchFiltered","includes","anyChecked","some","colorActive","progressActive","deriveProgress","isCompleted","isNew","withMeta","ori","idx","sort","sorted","x","getStatsFor","getLastPlayedAtFor","pTs","lTs","isCompletedOpening","isStartedOpening","isNewOpening","recommended","height","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinejoin","strokeLinecap","placeholder","onChange","charAt","toUpperCase","checked","About","busy","setBusy","selectedPlan","setSelectedPlan","fromState","showLockedNote","selectPlan","plan","tier","go","hash","disabled","marginTop","orientations","Board","newPosition","randomGameIndex","PGNData","load_pgn","reset","randomMoveIndex","initMove","nextMove","lastFullMove","initMoveData","nextMoveData","nextMoveColor","squareStyles","answer","lastMove","makeInitMove","updateSquareStyling","undo","onDrop","sourceSquare","targetSquare","piece","timed","callbackDisableSettings","correctMoves","correct","selectedSquare","legalTargets","incorrect","allowDrag","_ref2","clearSelection","getLegalTargets","fromSquare","square","verbose","onSquareClick","targets","onSquareRightClick","onAnimationEnd","time","timerCount","interval","finalBoardProps","calcWidth","callbackEnd","componentDidUpdate","prevProps","renderSquareStyles","boxShadow","toSq","existing","dot","mergedBg","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","Timer","display","dims","base","screenWidth","screenHeight","preview","cap","previewMaxWidth","pieceTheme","entries","stripPieceProps","FontAwesomeIcon","icon","whiteCircle","blackCircle","Settings","onChangeOrientation","bind","onChangeNotation","event","callbackSettings","defaultChecked","Practice","loadSettings","disableSettings","class","todayYMD","day","getActivityDays","_unused","saveActivityDays","days","emitActivityUpdated","lastSoftMarkAt","lastRemoteWriteAt","tryWriteRemote","amount","currentUser","now","increment","markActivityToday","prev","vw","usable","X_SVG_DATA_URI","randInt","pickRandomLineId","excludeId","tries","sideForIndex","groupLines","cat","parts","categoryForLine","preferred","cats","ia","indexOf","ib","localeCompare","LINE_INDEX","openingSets","sets","byOpeningKey","orderedIdsByOpeningKey","ordered","buildLineIndex","getOrderedLineIds","index","clamp01","weightedPick","items","weightFn","weights","it","pickNextPracticeLineId","lineIds","getLineStats","lastLineId","forceRepeatLineId","excludeLineIds","idsAll","exclude","excludeSet","ids","size","scored","lowAccuracy","failedRecently","unseen","pool","recentlyFailed","_id","pick","saveProgress","ensureOpening","saveLearnProgress","ensureLearnOpening","getLearnLineStats","OpeningTrainerCustomModal","onMouseDown","onCancel","stopPropagation","error","onChangeName","movesText","onChangeMovesText","onSave","OpeningTrainerConfetti","pieces","left","delay","dur","rot","animationDelay","animationDuration","transform","dayKeyFromDate","isoWeekKeyFromDate","UTC","dayNum","getUTCDay","setUTCDate","getUTCDate","yearStart","getUTCFullYear","weekNo","ceil","monthKeyFromDate","CATALOG_OPENING_SETS","loadFreeDrillsMap","getFreeDrillsCount","incFreeDrillsCount","cur","saveFreeDrillsMap","_learnBagKey","_shuffleIds","j","tmp","_pickNextLearnFromBag","bag","order","_loadLearnBag","sa","sb","_sameIdSet","maxTries","candidate","_saveLearnBag","OpeningTrainer","_backfillActivityFromStreak","prototype","hasOwnProperty","call","isOpeningLocked","until","isNaN","getTime","maybeRedirectForLockedOpening","replace","enforceLearnGate","mode","gameMode","hasPaidAccess","_mobileBreakpointPx","_isMobileViewport","_computeMobileBoardSize","h","innerHeight","getH","getBoundingClientRect","topbarH","_mobileTopbarRef","pillsH","_mobilePillsRef","coachH","_mobileCoachRef","dockH","_mobileDockRef","safety","availH","stageSidePad","boardPad","availW","availH2","_onResizeMobileLayout","isMobile","mobileBoardSize","onWindowClick","settingsOpen","lineMenuOpen","mobileHeaderMenu","nodeType","parentElement","closest","_settingsAnchorEl","_linePickerAnchorEl","_desktopMenuEl","tag","tagName","isContentEditable","viewLive","viewBack","viewForward","code","repeat","solveArmed","playMoveForMe","onHint","getOpeningSet","london","openCustomModal","customModalOpen","customName","customMovesText","customError","closeCustomModal","saveCustomModal","nameRaw","splitMovesText","g","ok","validateSanMoves","nextLine","customLines","saveCustomLines","linePicker","resetLine","getLines","builtIn","customForOpening","getPlayerColor","getLine","find","getHintFromSquare","expectedSan","expected","stepIndex","turn","fromSq","showHint","hintFromSquare","helpUsed","viewing","flags","isCapture","playSfx","nextStep","viewIndex","viewFen","lastMistake","wrongAttempt","playAutoMovesIfNeeded","toggleSettingsOpen","toggleLineMenuOpen","setSetting","saveSettings","getPieceThemeUrl","_sfxLastAt","sfx","paused","pause","currentTime","play","catch","showStreakToast","_streakToastTimer","clearTimeout","streakToastOpen","streakToastText","openMemberGate","memberGateOpen","memberGateMode","closeMemberGate","goToUpgrade","goHome","navigate","closeMobileHeaderMenu","toggleMobileHeaderMenu","which","getFenAtIndex","getViewIndex","goToViewIndex","nextIndex","undoMistake","keepUnlocked","mistakeUnlocked","userHasPlayedThisLine","modePanelVisible","learnRewardPending","learnNextReady","_countedSeenForRun","bumpSeenForMode","startRandomLine","nextId","sessionLineId","practiceForceRepeat","drillRunDead","startLearnLine","startPracticeLine","opts","_reason","lineIdsRaw","prevPracticeLineId","safeNextId","shouldExcludeRecent","learnForceRepeat","recent","learnRecentLineIds","prevLearnLineId","pickNextLearnLineId","startLine","retryLine","setOpeningKey","nextKey","nextLines","orderedIdsRaw","orderedIds","setLinePicker","val","bumpSeen","bumpMistake","patch","bumpCompleted","wasClean","bumpLearnSeen","bumpLearnMistake","bumpLearnCompleted","bumpMistakeForMode","bumpCompletedForMode","didAutoMove","lastAutoMove","onCompletedLine","_autoNextTimer","_confettiTimer","streakResult","nextStreak","drillStreak","drillBestAllTime","statsNow","loadDrillStats","getTodayKey","weekKey","getIsoWeekKey","monthKey","getMonthKey","bestDay","bestWeek","bestMonth","dayKey","nextStats","bestAllTime","saveDrillStats","maybeWriteDrillStatsToFirestore","wantsConfetti","confettiActive","promotion","touchActivityToday","playedSAN","played","explanation","_ref3","stripMovePrefix","head","sanitizeExplanation","esc","reSan","RegExp","renderCoachBubble","unlocked","coachIndex","renderCoachArea","doneYourMoves","totalYourMoves","canUndo","top","right","maxHeight","overflowY","padding","borderRadius","background","border","zIndex","setGameMode","grouped","arr","symbol","nextMode","writeDrillStatsToFirestore","drillLeaderboard","renderModePanel","username","_lbUserCache","un","dn","em","packBase","score","writes","Promise","all","_openCustomOnMount","firstSetKey","params","URLSearchParams","fromHome","firstLinesBuiltIn","customAll","loadCustomLines","customForFirst","firstLines","firstId","loadProgress","loadLearnProgress","DEFAULT_THEME","drillStats","capture","Audio","illegal","moveSelf","moveOpponent","preload","volume","prevState","lineChanged","stepChanged","menuChanged","requestAnimationFrame","nextExpected","coachExpected","boardFen","canViewBack","canViewForward","side","countMovesForSide","countDoneMovesForSide","yourProgressPct","aria-modal","fontWeight","letterSpacing","maxWidth","textAlign","inset","bottom","OpeningTrainerWithAuth","StreakModal","setOpen","setData","onUpdated","headline","sub","bestLine","ProtectedRoute","component","rest","_objectWithoutProperties","_excluded","Route","Redirect","Login","setEmail","setPassword","setError","isMountedRef","labelStyle","marginBottom","inputStyle","outline","buttonStyle","cursor","opacity","minHeight","margin","onSubmit","err","message","autoComplete","required","safeWriteOnboarding","ProgressBar","step","overflow","transition","OptionPill","selected","alignItems","gap","justifyContent","marginLeft","PathChart","path","ys","points","minY","maxY","xScale","yScale","toFixed","dashed","without","fontSize","x1","x2","y1","y2","offset","stopColor","strokeDasharray","cx","cy","in2w","textAnchor","Signup","gateReason","initialOnboarding","safeReadOnboarding","setStep","ratingBand","setRatingBand","motivation","setMotivation","goal","setGoal","bands","under400","r400_800","r800_1200","r1200_1600","r1600_2000","r2000plus","computePathFromRating","completedAt","cardStyle","h1Style","lineHeight","subStyle","primaryBtn","ghostBtn","smallLinkStyle","errorStyle","saveDraft","skipToSignup","content","currentTarget","onMouseUp","AVATAR_KEY","KONAMI_KEYS","loadSecretUnlocked","saveAvatar","dataUrl","removeItem","loadLocalSettings","saveLocalSettings","normalizeUsername","ymdFromDate","addDays","activityLevel","count","buildHeatmap","daysMap","weeks","setHours","start","startOfWeekSunday","columns","weekStart","cells","isFuture","level","monthLabels","lastMonthKey","ws","mon","toLocaleString","month","weekIndex","leftPx","widthPx","Profile","setDisplayName","setUsername","userData","setUserData","activityTick","setActivityTick","billingBusy","setBillingBusy","billingError","setBillingError","profileError","setProfileError","editingUsername","setEditingUsername","editingDisplayName","setEditingDisplayName","setBoardTheme","setPieceTheme","secretUnlocked","setSecretUnlocked","avatarDataUrl","setAvatarDataUrl","previewWidth","setPreviewWidth","boardPreviewRef","konamiRef","longPressTimerRef","longPressFiredRef","avatarInputRef","unlockSecretRef","membershipPlan","update","ResizeObserver","observe","disconnect","usernameInputRef","displayNameInputRef","heatmapScrollRef","unlockSecret","saveSecretUnlocked","syncPublicProfile","runTransaction","tx","matchesSecret","normalizeSecretInput","beginLongPress","prompt","promptForSecret","cancelLongPress","onAct","loadAvatar","st","recalc","scrollLeft","scrollWidth","remoteTheme","remoteAvatar","avatar","remotePieceTheme","focus","resizeImageToDataUrl","useCallback","file","maxSize","resolve","reject","reader","FileReader","onerror","Error","onload","img","Image","w0","h0","scale","canvas","ctx","getContext","drawImage","toDataURL","result","readAsDataURL","publicRef","accept","f","files","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","click","openAvatarPicker","userSelect","WebkitUserSelect","touchAction","objectFit","userRef","usernameRef","existingUid","publicBadge","msg","localDays","remoteDays","any","col","c","lab","nextTheme","onChangeBoardTheme","nextPieceTheme","onChangePieceTheme","safeName","Leaderboards","period","setPeriod","rows","setRows","loading","setLoading","collectionName","getCollectionName","alive","query","collection","orderBy","limit","getDocs","docSnap","scopeKey","leaderboardScopeKey","snapKey","snapshotStorageKey","prevRanks","loadRankSnapshot","scoped","ranksNow","enriched","rank","delta","prevRank","nextRank","formatDelta","tierForScore","ranksByUid","saveRankSnapshot","load","meRank","meScore","rivals","findIndex","endIdx","scopeLabel","isMe","abs","CANONICAL_REDIRECT_URI","DiscordCallback","useHistory","status","setStatus","ranRef","oauth","URL","codeQ","searchParams","stateQ","qIdx","qs","sp","codeH","stateH","parseOAuthParams","origin","details","whiteSpace","flexWrap","openDiscord","backToTrainer","PublicProfile","useParams","profile","setProfile","boardWrapRef","boardWidth","setBoardWidth","setIsMobile","mq","matchMedia","apply","matches","addListener","removeListener","membershipStatus","getMembershipStatus","profileData","CELL","GAP","endDate","cell","endWeekStart","loadCustomReps","loadActivityDays","writeUserPatch","CloudSyncInstaller","getCurrentUser","lastWriteAt","pendingTimer","schedule","onStreak","onProgress","onLearnProgress","onCustom","onActivity","installCloudSync","App","HashRouter","basename","exact","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","console"],"mappings":"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AQ,gDACR,YAAe,2EACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,MACA,MACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,SAEF,aAAgB,CACd,wEACA,+DACA,sEACA,oEACA,kEACA,2DACA,uEACA,kDACA,2DACA,4EACA,gEACA,4DACA,8EACA,uDACA,2DACA,wEACA,qDACA,0DACA,kEACA,gEACA,gEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,iCACR,YAAe,2EACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,OACA,KACA,OACA,OACA,QAEF,aAAgB,CACd,iCACA,mCACA,oDACA,qDACA,mDACA,4EACA,2CACA,uDACA,gEACA,0DACA,uEACA,gEACA,mFACA,wEACA,gEACA,0EACA,4EACA,mDACA,mEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qBACR,YAAe,oEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,QAEF,aAAgB,CACd,4BACA,yBACA,4CACA,gDACA,qCACA,gEACA,uEACA,+DACA,qDACA,2DACA,4EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,sCACR,YAAe,qDACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,OACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,KACA,QAEF,aAAgB,CACd,2CACA,gCACA,uCACA,gDACA,qCACA,iDACA,yDACA,4CACA,kDACA,8CACA,kDACA,iDACA,gEACA,+CACA,2DACA,6DACA,6EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,oCACR,YAAe,oFACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,MACA,OACA,OACA,QACA,OACA,OACA,MACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,uEACA,kDACA,qDACA,2EACA,6DACA,sDACA,iDACA,wFAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,mCACR,YAAe,6DACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,QACA,OACA,OACA,MACA,SAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,sCACA,mDACA,8CACA,8CACA,4CACA,mEACA,6CACA,uDACA,wDACA,gDACA,sCACA,qDAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,yBACR,YAAe,mEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,QACA,MACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,sCACA,mDACA,8CACA,2BACA,4CACA,0CACA,kDACA,2CACA,sDACA,qEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,0BACR,YAAe,mEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,OACA,QACA,MACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,4CACA,kDACA,sCACA,sEACA,+CACA,mFAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qBACR,YAAe,8DACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,MACA,OACA,OACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,4CACA,mDACA,4EACA,+FAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,wBACR,YAAe,6EACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,MACA,KACA,MACA,KACA,MACA,MACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,4CACA,kDACA,0BACA,sCACA,0CACA,4CACA,8CACA,0CACA,4BACA,kDACA,4CACA,+DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,4BACR,YAAe,+DACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,MACA,MACA,KACA,KACA,MACA,KACA,KACA,MACA,MAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,4CACA,kDACA,0BACA,sCACA,0CACA,4CACA,uCACA,oDACA,0BACA,2CACA,wCACA,yFACA,0CACA,qEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,+BACR,YAAe,kEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,OACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,sCACA,mDACA,8CACA,2BACA,0DACA,iDACA,2CACA,0CACA,0CACA,6EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,8BACR,YAAe,sEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,OACA,KACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,sCACA,mDACA,2CACA,yCACA,mDACA,+CACA,4CACA,mCACA,wCACA,+CACA,8CACA,+EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,oCACR,YAAe,yEACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,MACA,KACA,OACA,OACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,4CACA,kDACA,0BACA,sCACA,0CACA,4CACA,2BACA,wDACA,gDACA,yDACA,6CACA,oEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,gCACR,YAAe,8DACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,OACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,qCACA,mDACA,4CACA,8CACA,4CACA,4CACA,2CACA,yDACA,2BACA,qDAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,gCACR,YAAe,sDACf,MAAS,CACP,KACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,QAEF,aAAgB,CACd,4BACA,yBACA,wBACA,gDACA,qCACA,+CACA,4CACA,sCACA,mDACA,8CACA,2BACA,mDACA,uDACA,0CACA,mFN3jBF2M,OAAQ,OACRC,MAAO,KACPC,OAAQ,OACRC,iBAAkB,KAClBC,SAAU,QACVC,YAAa,QACbC,YAAa,KAEf,CACEnO,IAAK,MACLoJ,MAAO,+BACPoE,YACE,4GACFtM,MOxHqC,CACvC,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,2CACR,YAAe,uEACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,QACA,OACA,MACA,OACA,OACA,MACA,OACA,MACA,MACA,QACA,MACA,OAEF,aAAgB,CACd,+CACA,gDACA,oDACA,iEACA,4DACA,iEACA,yDACA,qDACA,iDACA,4DACA,sDACA,6CACA,sDACA,gEACA,wDACA,oEACA,yDACA,sDACA,8DACA,uDACA,0EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,2CACR,YAAe,2EACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,2DACA,8CACA,2DACA,gEACA,mEACA,oDACA,2DACA,uFACA,wDACA,kDACA,mDACA,iEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qCACR,YAAe,2DACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,OACA,OACA,KACA,OACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,0DACA,oDACA,4CACA,sCACA,8CACA,4CACA,qDACA,iEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qCACR,YAAe,4EACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,OACA,OACA,MACA,KACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,0CACA,gDACA,2CACA,oCACA,0CACA,6DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,wCACR,YAAe,0DACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,KACA,MACA,KACA,OACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,8BACA,4CACA,4BACA,8CACA,2CACA,8CACA,0CACA,2BACA,kCACA,+CACA,+BACA,kCACA,4BACA,kDACA,yBACA,gCACA,sCACA,0DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qBACR,YAAe,uDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,OACA,OACA,MAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,uCACA,oDACA,4CACA,sCACA,8CACA,yEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,yBACR,YAAe,uEACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,OACA,MACA,KACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,4BACA,8CACA,8BACA,mDACA,yBACA,wCACA,yBACA,6DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,oBACR,YAAe,wDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,KACA,QACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,oCACA,yDACA,0CACA,oCACA,yBACA,4FAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,2BACR,YAAe,yDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,KACA,MACA,OACA,KACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,8BACA,4CACA,4BACA,8CACA,2CACA,8CACA,0CACA,2BACA,iDACA,2BACA,0CACA,kCACA,mCACA,kEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,iCACR,YAAe,sEACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,OACA,MAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,6CACA,4EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,iCACR,YAAe,mDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,KACA,KACA,OACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,8BACA,4CACA,4BACA,8CACA,2CACA,8CACA,0CACA,2BACA,kCACA,+CACA,+BACA,kCACA,oDACA,4CACA,6CACA,mDAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,4BACR,YAAe,2DACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,OACA,OACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,8CACA,4CACA,2CACA,yDACA,2BACA,4CACA,mCACA,8DACA,uCACA,6DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,wCACR,YAAe,2DACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,KACA,OACA,OACA,MACA,MACA,MACA,MACA,KACA,MACA,OACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,gDACA,mCACA,0CACA,oCACA,8CACA,2CACA,2BACA,4CACA,mCACA,2BACA,sCACA,8CACA,4CACA,gFAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,mCACR,YAAe,uDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,KACA,OACA,OACA,MACA,QACA,OACA,MACA,OACA,MACA,QACA,QAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,uCACA,+BACA,sCACA,gCACA,4BACA,2CACA,+BACA,2CACA,2CACA,8CACA,kCACA,iDAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,oCACR,YAAe,mDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,KACA,OACA,OACA,OACA,MACA,OACA,OACA,QACA,MACA,OACA,MACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,uCACA,+BACA,sCACA,gCACA,2CACA,8CACA,0CACA,8CACA,+CACA,8CACA,wCACA,wCACA,qCACA,8DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,4BACR,YAAe,uDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,mDACA,oCACA,iCACA,wDACA,0CACA,2CACA,yBACA,4CACA,0CACA,8EAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,qCACR,YAAe,kDACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,KACA,OACA,OACA,MACA,MACA,OACA,KACA,MACA,OACA,OACA,OACA,MACA,OACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,mDACA,6CACA,4CACA,2CACA,8CACA,gCACA,sCACA,uCACA,0CACA,2CACA,0CACA,0CACA,6CACA,6DAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,sCACR,YAAe,kEACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,KACA,OACA,OACA,KACA,MACA,OACA,OACA,OACA,MACA,QACA,OACA,MACA,MACA,MACA,MACA,KACA,OACA,MACA,OACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,qCACA,6CACA,gCACA,+BACA,0CACA,oCACA,mCACA,2CACA,sCACA,8CACA,2CACA,0CACA,kCACA,sCACA,2BACA,0CACA,0CACA,2BACA,qCACA,kCACA,0CACA,kCACA,0CACA,kEAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,yBACR,YAAe,8DACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,QACA,OACA,MACA,OACA,OACA,MACA,KACA,MACA,MACA,OAEF,aAAgB,CACd,4BACA,0BACA,wBACA,+BACA,8CACA,oCACA,yDACA,yBACA,gCACA,0CACA,oCACA,2BACA,oCACA,+CACA,4CACA,mCACA,gDACA,4CACA,qDAGJ,CACE,SAAY,0BACZ,GAAM,4BACN,KAAQ,kCACR,YAAe,gFACf,MAAS,CACP,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,KACA,OACA,QAEF,aAA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","file":"static/js/main.f10542c5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chessdrillslogo.48a60fec.png\";","// src/firebase.js\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore, serverTimestamp } from \"firebase/firestore\";\nimport { getFunctions } from \"firebase/functions\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\nexport const app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const functions = getFunctions(app);\nexport { serverTimestamp };\n","// src/utils/streak.js\nconst LS_KEY = \"chessdrills.daily_streak.v1\";\n\nfunction pad2(n) {\n  return String(n).padStart(2, \"0\");\n}\n\n// Local date key YYYY-MM-DD\nexport function ymdLocal(date = new Date()) {\n  const y = date.getFullYear();\n  const m = pad2(date.getMonth() + 1);\n  const d = pad2(date.getDate());\n  return `${y}-${m}-${d}`;\n}\n\nfunction addDaysLocal(ymd, deltaDays) {\n  const [y, m, d] = String(ymd || \"\").split(\"-\").map(Number);\n  const dt = new Date(y, (m || 1) - 1, d || 1);\n  dt.setDate(dt.getDate() + deltaDays);\n  return ymdLocal(dt);\n}\n\nfunction loadRaw() {\n  try {\n    const s = window.localStorage.getItem(LS_KEY);\n    if (!s) return null;\n    return JSON.parse(s);\n  } catch (_) {\n    return null;\n  }\n}\n\nfunction saveRaw(obj) {\n  try {\n    window.localStorage.setItem(LS_KEY, JSON.stringify(obj));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction notifyUpdated(detail) {\n  try {\n    window.dispatchEvent(new CustomEvent(\"streak:updated\", { detail }));\n  } catch (_) {\n    // ignore\n  }\n}\n\nexport function getStreakState() {\n  const today = ymdLocal();\n  const raw = loadRaw();\n\n  if (!raw || typeof raw !== \"object\") {\n    return {\n      current: 0,\n      best: 0,\n      lastCompletedDate: null,\n      completedToday: false,\n      today: today\n    };\n  }\n\n  const last = raw.lastCompletedDate || null;\n  const current = Number(raw.current) || 0;\n  const best = Number(raw.best) || 0;\n\n  return {\n    current: current,\n    best: best,\n    lastCompletedDate: last,\n    completedToday: last === today,\n    today: today\n  };\n}\n\nfunction weekdayNameLocal(date = new Date()) {\n  try {\n    return date.toLocaleDateString(undefined, { weekday: \"long\" });\n  } catch (_) {\n    // fallback\n    const names = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    return names[date.getDay()] || \"Today\";\n  }\n}\n\n// Use this when you need to know if we should show a \"streak popup\".\n// Returns:\n// - state: latest streak state after the operation\n// - didMarkToday: true only on the first completed line of the day\n// - continued: true if today continued yesterday's streak\n// - newBest: true if best streak increased\nexport function markLineCompletedTodayDetailed() {\n  const today = ymdLocal();\n  const before = getStreakState();\n\n  // Already counted today, do nothing\n  if (before.completedToday) {\n    return {\n      state: before,\n      didMarkToday: false,\n      continued: false,\n      newBest: false\n    };\n  }\n\n  const raw = loadRaw() || {\n    current: 0,\n    best: 0,\n    lastCompletedDate: null\n  };\n\n  const yesterday = addDaysLocal(today, -1);\n\n  let nextCurrent = 1;\n  const continued = raw.lastCompletedDate === yesterday;\n  if (continued) {\n    nextCurrent = (Number(raw.current) || 0) + 1;\n  }\n\n  const nextBest = Math.max(Number(raw.best) || 0, nextCurrent);\n  const newBest = nextBest > (Number(raw.best) || 0);\n\n  const next = {\n    current: nextCurrent,\n    best: nextBest,\n    lastCompletedDate: today\n  };\n\n  saveRaw(next);\n\n  const after = getStreakState();\n  const detail = {\n    current: after.current,\n    best: after.best,\n    continued: continued,\n    newBest: newBest,\n    today: after.today,\n    weekday: weekdayNameLocal(new Date())\n  };\n\n  notifyUpdated(detail);\n\n  return {\n    state: after,\n    didMarkToday: true,\n    continued: continued,\n    newBest: newBest\n  };\n}\n\n// Backward compatible helper if you already used this name elsewhere.\nexport function markLineCompletedToday() {\n  return markLineCompletedTodayDetailed().state;\n}\n\n// Testing helper\nexport function resetStreak() {\n  try {\n    window.localStorage.removeItem(LS_KEY);\n  } catch (_) {\n    // ignore\n  }\n  notifyUpdated({\n    current: 0,\n    best: 0,\n    continued: false,\n    newBest: false,\n    today: ymdLocal(),\n    weekday: weekdayNameLocal(new Date())\n  });\n}\n","import { db, serverTimestamp } from \"../firebase\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\n\n// LocalStorage keys used in your app\nconst LS_DAILY_STREAK_KEY = \"chessdrills.daily_streak.v1\";\nconst LS_PROGRESS_KEY = \"notation_trainer_opening_progress_v2\";\nconst LS_SETTINGS_KEY = \"notation_trainer_opening_settings_v1\";\nconst LS_CUSTOM_REPS_KEY = \"notation_trainer_custom_lines_v1\";\nconst LS_LEARN_PROGRESS_KEY = \"notation_trainer_learn_progress_v1\";\nconst LS_ACTIVITY_DAYS_KEY = \"chessdrills.activity_days.v1\";\n\nfunction safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction loadLS(key, fallback) {\n  try {\n    const raw = window.localStorage.getItem(key);\n    if (!raw) return fallback;\n    return safeJsonParse(raw, fallback);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction saveLS(key, value) {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  } catch (_) {}\n}\n\nfunction asObj(v) {\n  return v && typeof v === \"object\" ? v : {};\n}\n\nfunction isYmd(s) {\n  return typeof s === \"string\" && /^\\d{4}-\\d{2}-\\d{2}$/.test(s);\n}\n\nfunction mergeDailyStreak(localRaw, remoteRaw) {\n  const l = asObj(localRaw);\n  const r = asObj(remoteRaw);\n\n  const lLast = isYmd(l.lastCompletedDate) ? l.lastCompletedDate : null;\n  const rLast = isYmd(r.lastCompletedDate) ? r.lastCompletedDate : null;\n\n  const lBest = Number(l.best) || 0;\n  const rBest = Number(r.best) || 0;\n\n  const lCur = Number(l.current) || 0;\n  const rCur = Number(r.current) || 0;\n\n  let lastCompletedDate = null;\n  let current = 0;\n\n  // Pick the newer completion date if available\n  if (lLast && rLast) {\n    if (lLast > rLast) {\n      lastCompletedDate = lLast;\n      current = lCur;\n    } else if (rLast > lLast) {\n      lastCompletedDate = rLast;\n      current = rCur;\n    } else {\n      lastCompletedDate = lLast;\n      current = Math.max(lCur, rCur);\n    }\n  } else if (lLast) {\n    lastCompletedDate = lLast;\n    current = lCur;\n  } else if (rLast) {\n    lastCompletedDate = rLast;\n    current = rCur;\n  }\n\n  const best = Math.max(lBest, rBest, current);\n\n  return {\n    current: current,\n    best: best,\n    lastCompletedDate: lastCompletedDate\n  };\n}\n\nfunction mergeProgress(localRaw, remoteRaw) {\n  const l = asObj(localRaw);\n  const r = asObj(remoteRaw);\n\n  const out = {\n    lines: asObj(l.lines),\n    openings: asObj(l.openings)\n  };\n\n  // Merge line stats by max counters\n  const rLines = asObj(r.lines);\n  Object.keys(rLines).forEach((openingKey) => {\n    if (!out.lines[openingKey]) out.lines[openingKey] = {};\n    const bucket = asObj(rLines[openingKey]);\n\n    Object.keys(bucket).forEach((lineId) => {\n      const a = asObj(out.lines[openingKey][lineId]);\n      const b = asObj(bucket[lineId]);\n\n      const merged = {\n        timesSeen: Math.max(Number(a.timesSeen) || 0, Number(b.timesSeen) || 0),\n        timesCompleted: Math.max(Number(a.timesCompleted) || 0, Number(b.timesCompleted) || 0),\n        timesClean: Math.max(Number(a.timesClean) || 0, Number(b.timesClean) || 0),\n        lastResult:\n          (Number(a.timesCompleted) || 0) >= (Number(b.timesCompleted) || 0)\n            ? (a.lastResult || null)\n            : (b.lastResult || null)\n      };\n\n      out.lines[openingKey][lineId] = merged;\n    });\n  });\n\n  // Merge per-opening totals and best streaks\n  const rOpenings = asObj(r.openings);\n  Object.keys(rOpenings).forEach((openingKey) => {\n    const a = asObj(out.openings[openingKey]);\n    const b = asObj(rOpenings[openingKey]);\n\n    out.openings[openingKey] = {\n      ...a,\n      ...b,\n      totalCompleted: Math.max(Number(a.totalCompleted) || 0, Number(b.totalCompleted) || 0),\n      totalClean: Math.max(Number(a.totalClean) || 0, Number(b.totalClean) || 0),\n      bestStreak: Math.max(Number(a.bestStreak) || 0, Number(b.bestStreak) || 0),\n      // These are volatile day-by-day; keep the local day context if present\n      todayKey: a.todayKey || b.todayKey || null,\n      completedToday: Number(a.completedToday) || 0,\n      streak: Number(a.streak) || 0\n    };\n  });\n\n  return out;\n}\n\n\nfunction mergeLearnProgress(localRaw, remoteRaw) {\n  const l = asObj(localRaw);\n  const r = asObj(remoteRaw);\n\n  const out = { openings: {} };\n\n  const lOpenings = asObj(l.openings);\n  const rOpenings = asObj(r.openings);\n\n  const keys = new Set([...Object.keys(rOpenings), ...Object.keys(lOpenings)]);\n  keys.forEach((openingKey) => {\n    const lo = asObj(lOpenings[openingKey]);\n    const ro = asObj(rOpenings[openingKey]);\n\n    const outOpening = { lines: {}, lastPlayedAt: null };\n\n    // Prefer the latest lastPlayedAt timestamp (or keep null)\n    const lLast = lo.lastPlayedAt ? Number(lo.lastPlayedAt) : null;\n    const rLast = ro.lastPlayedAt ? Number(ro.lastPlayedAt) : null;\n    if (lLast != null || rLast != null) {\n      if (lLast == null) outOpening.lastPlayedAt = rLast;\n      else if (rLast == null) outOpening.lastPlayedAt = lLast;\n      else outOpening.lastPlayedAt = Math.max(lLast, rLast);\n    }\n\n    const lLines = asObj(lo.lines);\n    const rLines = asObj(ro.lines);\n    const lineIds = new Set([...Object.keys(rLines), ...Object.keys(lLines)]);\n\n    lineIds.forEach((lineId) => {\n      const a = asObj(rLines[lineId]);\n      const b = asObj(lLines[lineId]);\n\n      const merged = {\n        timesSeen: Math.max(Number(a.timesSeen) || 0, Number(b.timesSeen) || 0),\n        timesCompleted: Math.max(Number(a.timesCompleted) || 0, Number(b.timesCompleted) || 0),\n        timesClean: Math.max(Number(a.timesClean) || 0, Number(b.timesClean) || 0),\n        timesFailed: Math.max(Number(a.timesFailed) || 0, Number(b.timesFailed) || 0),\n        lastResult: (b.lastSeenAt && (!a.lastSeenAt || Number(b.lastSeenAt) > Number(a.lastSeenAt))) ? (b.lastResult || \"\") : (a.lastResult || \"\"),\n        lastSeenAt: Math.max(Number(a.lastSeenAt) || 0, Number(b.lastSeenAt) || 0) || null,\n        lastFailedAt: Math.max(Number(a.lastFailedAt) || 0, Number(b.lastFailedAt) || 0) || null\n      };\n\n      outOpening.lines[lineId] = merged;\n    });\n\n    out.openings[openingKey] = outOpening;\n  });\n\n  return out;\n}\n\nfunction mergeCustomReps(localRaw, remoteRaw) {\n  const l = Array.isArray(localRaw) ? localRaw : [];\n  const r = Array.isArray(remoteRaw) ? remoteRaw : [];\n\n  const map = {};\n\n  // Prefer local first, then fill missing from remote\n  for (const item of l) {\n    if (!item || !item.id) continue;\n    map[item.id] = item;\n  }\n  for (const item of r) {\n    if (!item || !item.id) continue;\n    if (!map[item.id]) map[item.id] = item;\n  }\n\n  return Object.values(map);\n}\n\nfunction mergeActivityDays(localRaw, remoteRaw) {\n  const l = asObj(localRaw);\n  const r = asObj(remoteRaw);\n\n  const out = { ...r };\n  Object.keys(l).forEach((k) => {\n    const a = Number(out[k]) || 0;\n    const b = Number(l[k]) || 0;\n    out[k] = Math.max(a, b);\n  });\n\n  return out;\n}\n\nfunction mergeSettings(localRaw, remoteRaw) {\n  const l = asObj(localRaw);\n  const r = asObj(remoteRaw);\n\n  // If remote exists, prefer it. Otherwise keep local.\n  const rHasAny = Object.keys(r).length > 0;\n  return rHasAny ? r : l;\n}\n\nexport async function syncAccountFromLocalAndCloud(user) {\n  if (!user || !user.uid) return null;\n\n  const uid = user.uid;\n  const ref = doc(db, \"users\", uid);\n\n  // Load local snapshots\n  const localDailyStreak = loadLS(LS_DAILY_STREAK_KEY, { current: 0, best: 0, lastCompletedDate: null });\n  const localProgress = loadLS(LS_PROGRESS_KEY, { lines: {}, openings: {} });\n  const localSettings = loadLS(LS_SETTINGS_KEY, {});\n  const localCustomReps = loadLS(LS_CUSTOM_REPS_KEY, []);\n  const localLearnProgress = loadLS(LS_LEARN_PROGRESS_KEY, { openings: {} });\n  const localActivityDays = loadLS(LS_ACTIVITY_DAYS_KEY, {});\n\n  // Load remote\n  const snap = await getDoc(ref);\n  const remote = snap.exists() ? asObj(snap.data()) : {};\n\n  const remoteDailyStreak = asObj(remote.dailyStreak);\n  const remoteProgress = asObj(remote.progress);\n  const remoteSettings = asObj(remote.settings);\n  const remoteCustomReps = Array.isArray(remote.customReps) ? remote.customReps : [];\n  const remoteLearnProgress = asObj(remote.learnProgress);\n  const remoteActivityDays = asObj(remote.activityDays);\n\n  // Merge\n  const mergedDailyStreak = mergeDailyStreak(localDailyStreak, remoteDailyStreak);\n  const mergedProgress = mergeProgress(localProgress, remoteProgress);\n  const mergedSettings = mergeSettings(localSettings, remoteSettings);\n  const mergedCustomReps = mergeCustomReps(localCustomReps, remoteCustomReps);\n  const mergedLearnProgress = mergeLearnProgress(localLearnProgress, remoteLearnProgress);\n  const mergedActivityDays = mergeActivityDays(localActivityDays, remoteActivityDays);\n\n  // Write merged back to local\n  saveLS(LS_DAILY_STREAK_KEY, mergedDailyStreak);\n  saveLS(LS_PROGRESS_KEY, mergedProgress);\n  saveLS(LS_SETTINGS_KEY, mergedSettings);\n  saveLS(LS_CUSTOM_REPS_KEY, mergedCustomReps);\n  saveLS(LS_LEARN_PROGRESS_KEY, mergedLearnProgress);\n  saveLS(LS_ACTIVITY_DAYS_KEY, mergedActivityDays);\n\n  // Update remote (also store profile fields here)\n  const displayName = user.displayName || \"\";\n  const email = user.email || \"\";\n\n  await setDoc(\n    ref,\n    {\n      uid: uid,\n      email: email,\n      displayName: displayName,\n      dailyStreak: mergedDailyStreak,\n      progress: mergedProgress,\n      settings: mergedSettings,\n      customReps: mergedCustomReps,\n      learnProgress: mergedLearnProgress,\n      activityDays: mergedActivityDays,\n      updatedAt: serverTimestamp()\n    },\n    { merge: true }\n  );\n\n  return {\n    dailyStreak: mergedDailyStreak,\n    progress: mergedProgress,\n    settings: mergedSettings,\n    customReps: mergedCustomReps\n  };\n}","import React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { auth, db } from \"../firebase\";\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { syncAccountFromLocalAndCloud } from \"../utils/accountSync\";\nimport {\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut as firebaseSignOut\n} from \"firebase/auth\";\n\nconst AuthContext = createContext(null);\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [authLoading, setAuthLoading] = useState(true);\n  const [syncing, setSyncing] = useState(false);\n  const [userDoc, setUserDoc] = useState(null);\n  const [userDocLoading, setUserDocLoading] = useState(true);\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, async (u) => {\n      setUser(u || null);\n      setAuthLoading(false);\n\n      if (u && u.uid) {\n        try {\n          setSyncing(true);\n          await syncAccountFromLocalAndCloud(u);\n\n          // Let the app know data may have changed locally after sync\n          try {\n            window.dispatchEvent(new Event(\"account:synced\"));\n            window.dispatchEvent(new Event(\"streak:updated\"));\n          } catch (_) {}\n        } finally {\n          setSyncing(false);\n        }\n      }\n    });\n\n    return () => unsub();\n  }, [])\n\n  useEffect(() => {\n    if (!user || !user.uid) {\n      setUserDoc(null);\n      setUserDocLoading(false);\n      return;\n    }\n\n    setUserDocLoading(true);\n\n    const ref = doc(db, \"users\", user.uid);\n    const off = onSnapshot(\n      ref,\n      (snap) => {\n        setUserDoc(snap.exists() ? snap.data() : null);\n        setUserDocLoading(false);\n      },\n      () => {\n        setUserDoc(null);\n        setUserDocLoading(false);\n      }\n    );\n\n    return () => off();\n  }, [user]);\n\n\nconst signUp = (email, password) => {\n  return createUserWithEmailAndPassword(\n    auth,\n    String(email || \"\"),\n    String(password || \"\")\n  );\n};\n\nconst signIn = (email, password) => {\n  return signInWithEmailAndPassword(\n    auth,\n    String(email || \"\"),\n    String(password || \"\")\n  );\n};\n\n\nconst signOut = () => firebaseSignOut(auth);\n\n  const membershipTier = (userDoc && userDoc.membershipTier) || \"free\";\n  const membershipActive = !!(userDoc && userDoc.membershipActive);\n  const isMember = membershipActive && (membershipTier === \"member\" || membershipTier === \"lifetime\");\n\n\n  const value = useMemo(() => {\n    return {\n      user,\n      authLoading,\n      syncing,\n      userDoc,\n      userDocLoading,\n      membershipTier,\n      membershipActive,\n      isMember,\n      signUp,\n      signIn,\n      signOut\n    };\n  }, [user, authLoading, syncing, userDoc, userDocLoading, membershipTier, membershipActive, isMember]);\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n","// TopNav.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { httpsCallable } from \"firebase/functions\";\nimport { functions } from \"../firebase\";\nimport './TopNav.css';\nimport { getStreakState } from '../utils/streak';\nimport { useAuth } from \"../auth/AuthProvider\";\nimport logo from \"../assets/chessdrillslogo.png\";\n\nconst DISCORD_INVITE_URL = \"https://discord.gg/BtCHkuDqJq\";\nconst CHESSDRILLS_BASE_URL = \"https://chessdrills.net\";\n\nconst wittySubtitles = [\n  \"Because guessing on move six is not a plan\",\n  \"So your openings stop collapsing by move ten\",\n  \"Memorize first, improvise later\",\n  \"Make the first ten moves feel automatic\",\n  \"So the opening feels familiar instead of stressful\",\n  \"Build muscle memory before the clock starts ticking\",\n  \"Confidence starts before move one\",\n  \"Drills now so the middlegame feels easier\",\n  \"Turn preparation into a quiet advantage\",\n  \"Openings that feel boring to practice and great to play\",\n  \"Because clarity beats scrambling\",\n  \"Get comfortable early and play better later\",\n  \"Less thinking early, more thinking where it matters\",\n  \"Drills now, blunders later\",\n];\n\nfunction TopNav(props) {\n  const title = props.title || 'Chess Opening Drills';\n  const hideHero = props.hideHero !== false;\n\n  const [subtitle, setSubtitle] = useState('');\n  const [streak, setStreak] = useState(() => getStreakState());\n\n  const { user, signOut, isMember } = useAuth();\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [ctaLabel, setCtaLabel] = useState('Start for free');\n  const menuWrapRef = useRef(null);\n\n  useEffect(() => {\n    setSubtitle(wittySubtitles[Math.floor(Math.random() * wittySubtitles.length)]);\n  }, []);\n\n  useEffect(() => {\n    // A/B test label copy for the CTA\n    if (isMember) return;\n\n    const isLoggedIn = !!user;\n    const key = isLoggedIn\n      ? 'chessdrills.cta.startfree.freeuser.v1'\n      : 'chessdrills.cta.startfree.loggedout.v1';\n\n    const variants = isLoggedIn\n      ? { A: 'Upgrade', B: 'Go Premium' }\n      : { A: 'Start for free', B: 'Create free account' };\n\n    let v = 'A';\n    try {\n      const stored = window.localStorage.getItem(key);\n      if (stored === 'A' || stored === 'B') {\n        v = stored;\n      } else {\n        v = Math.random() < 0.5 ? 'A' : 'B';\n        window.localStorage.setItem(key, v);\n      }\n    } catch (_) {\n      // ignore\n    }\n\n    setCtaLabel(variants[v] || variants.A);\n  }, [user, isMember]);\n\n  useEffect(() => {\n    const refresh = () => setStreak(getStreakState());\n\n    window.addEventListener(\"streak:updated\", refresh);\n\n    const onVis = () => {\n      if (document.visibilityState === \"visible\") refresh();\n    };\n    document.addEventListener(\"visibilitychange\", onVis);\n\n    const t = setInterval(refresh, 60000);\n\n    return () => {\n      window.removeEventListener(\"streak:updated\", refresh);\n      document.removeEventListener(\"visibilitychange\", onVis);\n      clearInterval(t);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!menuOpen) return;\n\n    const onDocMouseDown = (e) => {\n      if (!menuWrapRef.current) return;\n      if (!menuWrapRef.current.contains(e.target)) {\n        setMenuOpen(false);\n      }\n    };\n\n    const onKeyDown = (e) => {\n      if (e.key === \"Escape\") setMenuOpen(false);\n    };\n\n    document.addEventListener(\"mousedown\", onDocMouseDown);\n    document.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", onDocMouseDown);\n      document.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [menuOpen]);\n\n  const profileHref = user ? \"/profile\" : \"/signup\";\n\n  const onToggleMenu = () => {\n    if (!user) return;\n    setMenuOpen((v) => !v);\n  };\n\nconst onJoinDiscord = () => {\n  try {\n    window.open(DISCORD_INVITE_URL, \"_blank\", \"noopener,noreferrer\");\n  } catch (e) {\n    window.location.href = DISCORD_INVITE_URL;\n  }\n};\n\nconst onLinkDiscord = async () => {\n  if (!user) return;\n  try {\n    setMenuOpen(false);\n\n    // Backend should return a Discord OAuth URL that redirects back to #/discord.\n    const redirectUri = CHESSDRILLS_BASE_URL + \"/#/discord\";\n    const fn = httpsCallable(functions, \"getDiscordOAuthUrl\");\n    const res = await fn({ redirectUri });\n    const url = res?.data?.url;\n\n    if (typeof url === \"string\" && url.startsWith(\"http\")) {\n      window.location.href = url;\n      return;\n    }\n\n    // Safe fallback: at least send them to the server so they can see an error message there.\n    window.location.href = redirectUri;\n  } catch (e) {\n    // Do not hard crash nav if functions are not deployed yet.\n    alert(\"Discord linking is not available yet.\");\n  }\n};\n\n  const onSignOut = async () => {\n    try {\n      setMenuOpen(false);\n      await signOut();\n    } catch (e) {\n      // silent\n    }\n  };\n\n  return (\n    <>\n      <div className=\"topnav\">\n        <div className=\"topnav-inner\">\n          <Link to=\"/\" className=\"topnav-logo-link\" aria-label=\"Home\">\n            <img src={logo} alt=\"chessdrills.net\" className=\"topnav-logo\" />\n          </Link>\n\n          <div className=\"topnav-actions\">\n            <div className=\"topnav-right\" ref={menuWrapRef}>\n              {(!user || !isMember) && (\n        <Link\n          to={\n            user\n              ? { pathname: \"/about\", state: { from: \"topnav\", reason: \"upgrade_cta\" } }\n              : { pathname: \"/signup\", state: { from: \"topnav\", reason: \"start_free\" } }\n          }\n          className=\"topnav-button topnav-startfree topnav-startfree-pulse\"\n          onClick={() => setMenuOpen(false)}\n        >\n          {ctaLabel}\n        </Link>\n      )}\n\n      <div className=\"topnav-streak\" title={streak.best ? `Best: ${streak.best}` : \"\"}>\n                <span className=\"topnav-streak-text\">\n                  <span role=\"img\" aria-label=\"streak\"></span> {streak.current || 0}\n                </span>\n              </div>\n\n              {user ? (\n                <div\n                  className={\n                    \"topnav-member-pill \" +\n                    (isMember ? \"member\" : \"free\")\n                  }\n                  title={\n                    isMember ? \"Member\" : \"Free\"\n                  }\n                >\n                  {isMember ? \"\" : \"\"}\n                </div>\n              ) : null}\n\n              <Link to=\"/leaderboards\" title=\"Leaderboards\" className=\"topnav-icon-link\" aria-label=\"Leaderboards\">\n                <div className={`topnav-profile ${props.active === \"leaderboards\" ? \"active\" : \"\"}`}>\n                  <span className=\"topnav-profile-icon\" aria-hidden=\"true\"></span>\n                </div>\n              </Link>\n\n              {user ? (\n                <>\n                  <button\n                    type=\"button\"\n                    className=\"topnav-profile topnav-profile-btn\"\n                    onClick={onToggleMenu}\n                    aria-haspopup=\"menu\"\n                    aria-expanded={menuOpen ? \"true\" : \"false\"}\n                    title=\"Profile\"\n                  >\n                    <span className=\"topnav-profile-icon\" aria-hidden=\"true\"></span>\n                  </button>\n\n                  {menuOpen ? (\n                    <div className=\"topnav-menu\" role=\"menu\">\n                      <Link\n                        to=\"/practice\"\n                        className=\"topnav-menu-item\"\n                        role=\"menuitem\"\n                        onClick={() => setMenuOpen(false)}\n                      >\n                        Notation Trainer\n                      </Link>\n\n                      <Link\n                        to=\"/openings\"\n                        className=\"topnav-menu-item\"\n                        role=\"menuitem\"\n                        onClick={() => setMenuOpen(false)}\n                      >\n                        Opening Trainer\n                      \n</Link>\n\n<button\n  type=\"button\"\n  className=\"topnav-menu-item\"\n  role=\"menuitem\"\n  onClick={onJoinDiscord}\n>\n  Join Discord\n</button>\n\n<button\n  type=\"button\"\n  className=\"topnav-menu-item\"\n  role=\"menuitem\"\n  onClick={onLinkDiscord}\n>\n  Link Discord\n</button>\n\n<Link\n  to={profileHref}\n                        className=\"topnav-menu-item\"\n                        role=\"menuitem\"\n                        onClick={() => setMenuOpen(false)}\n                      >\n                        My Profile\n                      </Link>\n\n                      <button\n                        type=\"button\"\n                        className=\"topnav-menu-item topnav-menu-danger\"\n                        role=\"menuitem\"\n                        onClick={onSignOut}\n                      >\n                        Log out\n                      </button>\n                    </div>\n                  ) : null}\n                </>\n              ) : (\n                <Link to={profileHref} className=\"topnav-profile-link\" title=\"Sign up\">\n                  <div className=\"topnav-profile\">\n                    <span className=\"topnav-profile-icon\" aria-hidden=\"true\"></span>\n                  </div>\n                </Link>\n              )}\n\n<Link\n  to=\"/about\"\n  title=\"About\"\n  className=\"topnav-icon-link\"\n>\n  <div className={`topnav-profile ${props.active === 'about' ? 'active' : ''}`}>\n    <span className=\"topnav-profile-icon\" aria-hidden=\"true\"></span>\n  </div>\n</Link>\n            </div>\n\n            {props.showSpeedDrill ? (\n              <button className=\"topnav-button primary\" onClick={props.onSpeedDrill}>\n                Start Notation Drill\n              </button>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n      {!hideHero ? (\n        <div className=\"page-hero\">\n          <h1>{title}</h1>\n          <p>{subtitle}</p>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\nexport default TopNav;\n","// src/openings/londonLines.js\n\n// SEO / page intro text for London System drills\nexport const londonSEOText = `\nThe London System is a solid, low theory chess opening for White starting with d4 and Bf4.\nIt focuses on reliable development, strong pawn structure, and repeatable move orders\nrather than sharp tactical battles.\n\nThis page is designed for players who already know the rules of chess and want to\nmemorize London System move orders through repetition. The drills emphasize correct\npiece placement, common setups, and typical early middlegame transitions.\n\nIf your London games fall apart because you forget the move order, these drills are\nmeant to lock the structure into memory rather than teach abstract strategy.\n`;\n\nexport const londonLines = [\n  // Categories: Classic London, Early ...c5 Systems, Anti-Bishop Ideas, Jobava, Aggressive Plans\n\n  {\n    category: \"Classic London\",\n    id: \"london-classic-solid-setup\",\n    name: \"London Classic: solid setup\",\n    description: \"Baseline London: develop naturally, meet ...Bd6 with Nbd2, and castle.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nbd2\", \"O-O\"],\n    explanations: [\n      \"Claim central space and keep flexible options for a London structure.\",\n      \"Black matches the center and contests d4.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Black develops and adds pressure to e4 and d5 squares.\",\n      \"Stabilize d4 and open lines for the light bishop and queen.\",\n      \"Black supports d5 and opens lines for the dark-squared bishop.\",\n      \"Develop and support the center.\",\n      \"Black often tries to trade the London bishop to reduce your pressure.\",\n      \"Support e4 ideas later, reinforce the center, and keep pieces coordinated.\",\n      \"Black finishes basic king safety and connects rooks.\"\n    ]\n  },\n\n  {\n    id: \"london-c3-nbd2\",\n    name: \"London with early c3 and Nbd2\",\n    description: \"Triangle structure: c3 supports d4 and keeps a slow, solid center.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"c3\", \"O-O\", \"Nbd2\"],\n    explanations: [\n      \"Take space and make ...e5 harder.\",\n      \"Black mirrors the central claim.\",\n      \"Commit to the London bishop placement early.\",\n      \"Black develops and contests the middle.\",\n      \"Reinforce d4 and open the diagonal for the f1 bishop.\",\n      \"Black supports d5 and prepares ...Bd6 or ...c5.\",\n      \"Develop and keep options for c4 or e3 structures.\",\n      \"Black wants to trade your active bishop on f4.\",\n      \"Build the London triangle, support d4, and reduce early tactics on b2.\",\n      \"Black secures the king and finishes basic development.\",\n      \"Develop while supporting e4 ideas and keeping pieces flexible.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-bf5\",\n    name: \"London vs early ...Bf5\",\n    description: \"Black mirrors the bishop. You develop calmly and prepare Bd3 ideas.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Bf5\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bd3\"],\n    explanations: [\n      \"Take the center first and define the structure.\",\n      \"Black matches the center and keeps symmetry.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Black mirrors, contesting your bishop and controlling e4.\",\n      \"Solidify the center and open your light bishop and queen.\",\n      \"Black supports d5 and keeps the option of ...Bd6.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black also develops and often aims for bishop trades.\",\n      \"Challenge the bishop on f5 and prepare a clear development plan.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-early-c5\",\n    name: \"London vs early ...c5\",\n    description: \"Meet the early pawn strike with simple development and support for d4.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Nc6\", \"Nbd2\"],\n    explanations: [\n      \"Establish central space so Black has to challenge it.\",\n      \"Black mirrors and keeps central tension.\",\n      \"Develop the bishop before committing to e3.\",\n      \"Black develops and eyes e4 and d5 squares.\",\n      \"Reinforce d4 and keep the structure stable.\",\n      \"Black strikes at d4 early, typical counterplay versus London setups.\",\n      \"Develop and prepare to support d4 against pressure.\",\n      \"Black adds more pressure on d4 and increases central control.\",\n      \"Support the center and prepare flexible recaptures and e4 later.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-c5-qb6\",\n    name: \"London vs ...c5 and ...Qb6\",\n    description: \"A common plan: Black hits b2 and d4. Nc3 is a direct practical defense.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Qb6\", \"Nc3\"],\n    explanations: [\n      \"Claim the center and invite a structured defense.\",\n      \"Black mirrors and supports central play.\",\n      \"London bishop out before e3 locks it in.\",\n      \"Black develops and adds central pressure.\",\n      \"Stabilize the center and open pieces.\",\n      \"Black attacks d4 and tries to open lines early.\",\n      \"Develop and keep your structure flexible.\",\n      \"Black attacks b2 and increases pressure on d4.\",\n      \"Defend d5 and b2 indirectly, develop, and keep central options.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-nh5\",\n    name: \"London vs early ...Nh5\",\n    description: \"Black tries to chase your bishop. Be5 is a direct, simple response.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"Nh5\", \"Be5\", \"Nd7\"],\n    explanations: [\n      \"Take central space and set up a stable structure.\",\n      \"Black matches the center and keeps symmetry.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and prepares to contest e4.\",\n      \"Support d4 and open the dark bishop and queen.\",\n      \"Black immediately targets the bishop on f4.\",\n      \"Keep the bishop on a useful diagonal and avoid being forced to retreat passively.\",\n      \"Black develops and supports potential ...f6 ideas later.\"\n    ]\n  },\n\n  {\n    id: \"london-early-dxc5\",\n    name: \"London with early dxc5\",\n    description: \"A practical capture to change the structure and force Black to react.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"dxc5\", \"e6\"],\n    explanations: [\n      \"Establish central presence.\",\n      \"Black mirrors and keeps central contact.\",\n      \"Develop the bishop before e3.\",\n      \"Black develops and contests the center.\",\n      \"Support d4 and open the light bishop and queen.\",\n      \"Black strikes at d4 and tries to open lines.\",\n      \"Take the c5 pawn to change the structure and reduce pressure on d4 for the moment.\",\n      \"Black supports the center and prepares to recapture or develop smoothly.\"\n    ]\n  },\n\n  {\n    id: \"london-exchange-cxd4\",\n    name: \"London vs ...cxd4 exchange\",\n    description: \"Black exchanges on d4. You recapture and keep development moving.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Nc6\", \"c3\", \"cxd4\", \"exd4\"],\n    explanations: [\n      \"Take the center and define the pawn structure.\",\n      \"Black mirrors and contests the center.\",\n      \"London bishop to an active square before e3.\",\n      \"Black develops and increases central influence.\",\n      \"Support d4 and prepare to recapture if exchanges happen.\",\n      \"Black attacks d4 and looks for early counterplay.\",\n      \"Develop and keep options for c4 or e3 structures.\",\n      \"Black develops and adds more pressure on the center.\",\n      \"Recapture cleanly, keep structure coherent, and open lines for your pieces.\",\n      \"Keep development consistent and the move order legal.\",\n      \"Keep development consistent and the move order legal.\"\n    ]\n  },\n\n  {\n    id: \"london-preserve-bishop-bg3\",\n    name: \"Preserve bishop vs ...Bd6\",\n    description: \"When Black plays ...Bd6, Bg3 avoids the bishop trade and keeps your pressure.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bg3\"],\n    explanations: [\n      \"Claim the center first.\",\n      \"Black matches and fights for central squares.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Black develops and contests e4.\",\n      \"Stabilize d4 and open your pieces.\",\n      \"Black supports d5 and opens their dark bishop.\",\n      \"Develop and support central play.\",\n      \"Black aims to trade off your London bishop.\",\n      \"Keep the bishop, avoid the trade, and maintain long-term pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-trade-bishop-bxd6\",\n    name: \"Trade bishop intentionally\",\n    description: \"Sometimes you accept the trade to simplify and play a straightforward structure.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bxd6\"],\n    explanations: [\n      \"Take the center and define the structure.\",\n      \"Black mirrors and contests central space.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and contests e4 and d5 squares.\",\n      \"Support d4 and open your light bishop and queen.\",\n      \"Black supports the center and prepares development.\",\n      \"Develop and keep your setup flexible.\",\n      \"Black offers a bishop trade to reduce your activity.\",\n      \"Trade on d6 if you prefer a simpler position and clear plans.\"\n    ]\n  },\n\n  {\n    id: \"london-early-h3\",\n    name: \"London with early h3\",\n    description: \"A slow move to limit ...Bg4 pins and prepare safe kingside development.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"h3\"],\n    explanations: [\n      \"Take central space and keep flexible development.\",\n      \"Black matches the center and keeps contact.\",\n      \"Develop the bishop before the structure is fixed.\",\n      \"Black develops and contests key central squares.\",\n      \"Reinforce d4 and open lines for pieces.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and support the center.\",\n      \"Black often wants to trade the London bishop.\",\n      \"Reduce ...Bg4 pins and give your kingside pieces more freedom.\"\n    ]\n  },\n\n  {\n    id: \"london-early-ne5\",\n    name: \"London with early Ne5\",\n    description: \"An aggressive outpost idea: Ne5 pressures c6 and f7 and can support kingside play.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Ne5\"],\n    explanations: [\n      \"Take the center and claim space.\",\n      \"Black mirrors and contests d4.\",\n      \"Develop actively before e3 locks the bishop.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open your light bishop and queen.\",\n      \"Black supports d5 and prepares to develop pieces.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black aims to trade off your active bishop.\",\n      \"Centralize and create a useful outpost that can support an e4 break or kingside plans.\"\n    ]\n  },\n\n  {\n    category: \"Jobava London\",\n    id: \"jobava-nc3-first\",\n    name: \"Jobava London: Nc3 first\",\n    description: \"Jobava style: Nc3 comes early, making the setup more direct and tactical.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"Nc3\", \"e6\", \"e3\", \"Bd6\"],\n    explanations: [\n      \"Take central space and keep options open.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop actively as in the London family.\",\n      \"Black develops and contests the center.\",\n      \"Develop aggressively and prepare quick piece coordination.\",\n      \"Black supports d5 and prepares ...Bd6.\",\n      \"Stabilize d4 and open lines for development.\",\n      \"Black aims to trade the bishop and reduce activity.\"\n    ]\n  },\n\n  {\n    id: \"jobava-vs-c5\",\n    name: \"Jobava vs ...c5\",\n    description: \"Black hits the center early. You keep development and structure stable.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"Nc3\", \"c5\", \"e3\", \"Nc6\"],\n    explanations: [\n      \"Claim the center and define a main structure.\",\n      \"Black matches the center.\",\n      \"Develop the bishop actively, keeping options for e3.\",\n      \"Black develops and contests central squares.\",\n      \"Develop early and increase central influence.\",\n      \"Black immediately pressures d4 and seeks counterplay.\",\n      \"Support d4 and open lines for development.\",\n      \"Black adds pressure on d4 and supports central play.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-bg4-pin\",\n    name: \"London vs ...Bg4 pin\",\n    description: \"Black pins early. You continue development and decide later how to respond.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"Bg4\", \"Nf3\", \"e6\", \"Nbd2\", \"Bd6\"],\n    explanations: [\n      \"Take central space and establish a stable base.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open the light bishop and queen.\",\n      \"Black supports d5 and prepares bishop development.\",\n      \"Develop and keep your c pawn flexible.\",\n      \"Black often tries to trade your bishop on f4.\",\n      \"Develop and prepare to unpin or support e4.\",\n      \"Black pins the knight and increases development pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-qb6-no-c5\",\n    name: \"London vs early ...Qb6 without c5\",\n    description: \"Black often uses ...c5 then ...Qb6 to pressure b2 and d4. Nc3 is a direct defense and develops a piece.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nc3\", \"Qb6\"],\n    explanations: [\n      \"Take the center and define the structure early.\",\n      \"Black matches and contests d4.\",\n      \"Develop actively before e3.\",\n      \"Black develops and fights for the center.\",\n      \"Support d4 and open lines for development.\",\n      \"Black plays ...c5 to hit d4 and open the diagonal for the queen.\",\n      \"Nc3 defends d5/e4 ideas and supports d5 and b5 squares while developing.\",\n      \"Now ...Qb6 is legal and adds pressure on b2 and d4.\"\n    ]\n  },\n\n  {\n    id: \"london-h4-idea\",\n    name: \"London with kingside expansion idea\",\n    description: \"h4 is a commitment. It tries to gain space and can support an attack, but it creates targets.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"h4\"],\n    explanations: [\n      \"Claim space and define a stable structure.\",\n      \"Black mirrors and contests the center.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and contests key squares.\",\n      \"Reinforce d4 and open the light bishop and queen.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and keep pawn structure options open.\",\n      \"Black aims to trade the bishop and reduce activity.\",\n      \"Gain kingside space and signal aggressive intentions, with the cost of weakening squares.\"\n    ]\n  },\n\n  {\n    id: \"london-long-castle-idea\",\n    name: \"London with long castle idea\",\n    description: \"A plan to castle long later. Qd2 connects pieces and supports queenside coordination.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nc3\", \"O-O\", \"Qd2\"],\n    explanations: [\n      \"Take the center and establish space.\",\n      \"Black mirrors and contests central squares.\",\n      \"Develop the bishop actively before e3.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open your light bishop and queen.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and keep your structure flexible.\",\n      \"Black aims for a bishop trade.\",\n      \"Develop and support central play, often preparing queenside coordination.\",\n      \"Black secures the king and completes basic development.\",\n      \"Connect pieces and keep the option of long castling in some structures.\"\n    ]\n  },\n\n  {\n    id: \"london-c4-transition\",\n    name: \"London into Colle-style center\",\n    description: \"c4 changes the structure toward Queen's Gambit style play and increases central tension.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"c4\"],\n    explanations: [\n      \"Establish a central pawn and claim space.\",\n      \"Black mirrors and contests the center.\",\n      \"London bishop out before e3 locks it in.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open lines for your pieces.\",\n      \"Black supports d5 and prepares development.\",\n      \"Develop and keep options open for c4 or e3.\",\n      \"Black aims to trade your bishop and reduce activity.\",\n      \"Increase central tension and transition into a more open center structure.\"\n    ]\n  },\n\n  {\n    id: \"london-e4-break-ne5-plan\",\n    name: \"London into e4 break\",\n    description: \"Ne5 often supports an e4 plan later and creates more active piece play.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nbd2\", \"O-O\", \"Ne5\"],\n    explanations: [\n      \"Take central space and define the structure.\",\n      \"Black mirrors and contests d4.\",\n      \"Develop actively before e3 locks the bishop.\",\n      \"Black develops and fights for central squares.\",\n      \"Stabilize d4 and open the light bishop and queen.\",\n      \"Black supports d5 and opens development options.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black aims to trade your active bishop.\",\n      \"Develop and prepare e4 ideas with better support.\",\n      \"Black completes king safety and development.\",\n      \"Create an outpost and support more active central play, often connected to an eventual e4 break.\"\n    ]\n  },\n\n\n\n  {\n    id: \"london-line-01-nb5-nc7-tactic\",\n    name: \"Tactic: Nb5 and Nc7+ fork\",\n    description: \"Sharp line where Nb5 and Nc7+ appear after early ...c5 and ...e5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"c5\",\"Nc3\",\"Nc6\",\"Nb5\",\"e5\",\"Bxe5\",\"Nxe5\",\"dxe5\",\"Ne4\",\"Qxd5\",\"Qxd5\",\"Nc7+\",\"Kd8\",\"Nxd5\",\"Be6\",\"c4\"],\n    explanations: [\n      \"Take space and keep a London structure available.\",\n      \"Black mirrors the center and keeps symmetry.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Develop and contest e4 and d5.\",\n      \"Support d4 and open the dark bishop and queen.\",\n      \"Immediate pressure on d4 and a typical counterpunch.\",\n      \"Defend d5 pressure points and add central control.\",\n      \"Add more pressure on d4 and support ...e5 ideas.\",\n      \"Aim at c7 and set up a concrete tactical threat.\",\n      \"Try to kick the bishop and open lines quickly.\",\n      \"Take the pawn while the tactics still hold.\",\n      \"Recover material and centralize a piece.\",\n      \"Remove the knight and open lines in the center.\",\n      \"Hit c3 and create threats against f2 and d2 squares.\",\n      \"Grab the pawn and steer into simplification.\",\n      \"Black trades queens to reduce tactics.\",\n      \"Fork check to win time and usually win material.\",\n      \"Step out of check, often forced.\",\n      \"Consolidate by taking material and stabilizing the position.\",\n      \"Develop and contest key central squares.\",\n      \"Gain space and limit Black's central breaks.\"\n    ]\n  },\n\n  {\n    id: \"london-line-02-ne5-bb5-simplify\",\n    name: \"Ne5 and Bb5+ simplification\",\n    description: \"Ne5 plus Bb5+ often forces a block and leads to clean trades.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Nbxd7\",\"Bxd6\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black matches the center.\",\n      \"Develop actively before committing to e3.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Solidify d5 and prepare ...Bd6.\",\n      \"Develop and keep king safety simple.\",\n      \"Challenge your bishop and develop a piece.\",\n      \"Use the outpost and put immediate questions to Black's setup.\",\n      \"Strike at d4 and try to generate counterplay.\",\n      \"Force a reply and reduce Black's flexibility.\",\n      \"Block and invite trades.\",\n      \"Trade off a defender and simplify.\",\n      \"Recapture while keeping development coherent.\",\n      \"Accept a trade to reach a straightforward structure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-03-qa5-nc7-fork\",\n    name: \"Qa5+ and Nc7+ fork motif\",\n    description: \"After ...Qa5+ and ...e5, the Nc7+ fork often decides the line quickly.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"c5\",\"Nf3\",\"Nc6\",\"Nc3\",\"Nf6\",\"Nb5\",\"Qa5+\",\"c3\",\"e5\",\"Nxe5\",\"c4\",\"Nxc4\",\"dxc4\",\"Nc7+\"],\n    explanations: [\n      \"Take the center and keep London options.\",\n      \"Black mirrors and contests central space.\",\n      \"Develop the bishop before e3 locks it in.\",\n      \"Support d5 and open lines for Black's dark bishop.\",\n      \"Stabilize d4 and prepare development.\",\n      \"Attack d4 and start counterplay.\",\n      \"Develop and guard central squares.\",\n      \"Add pressure on d4 and support ...e5.\",\n      \"Increase control of d5 and e4 and support Nb5 ideas.\",\n      \"Develop and contest the center.\",\n      \"Aim directly at c7 and set up tactics.\",\n      \"Check plus pressure on c3 and a2, also nudging you into c3.\",\n      \"Block the check and hold the d4 structure together.\",\n      \"Strike the center and try to punish the Nb5 setup.\",\n      \"Take the pawn and keep tactics alive.\",\n      \"Gain space and hit the knight on d3 and b3 squares later.\",\n      \"Recover a pawn and keep the knight active.\",\n      \"Black takes back and opens the d file and diagonal.\",\n      \"Fork check that usually wins material or forces an awkward king move.\"\n    ]\n  },\n\n  {\n    id: \"london-line-04-qa5-qxd5-hit\",\n    name: \"Qa5+ and Qxd5 grab\",\n    description: \"A sharp Nb5 line where White often wins a pawn with Qxd5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c5\",\"e3\",\"Nc6\",\"Nc3\",\"Nf6\",\"Nb5\",\"Qa5+\",\"c3\",\"e5\",\"Bxe5\",\"Nxe5\",\"dxe5\",\"Nd7\",\"Qxd5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Pressure d4 early.\",\n      \"Support d4 and open your pieces.\",\n      \"Add pressure on d4 and support ...e5.\",\n      \"Develop and keep Nb5 tactics available.\",\n      \"Develop and contest e4.\",\n      \"Put pressure on c7 and threaten tactics.\",\n      \"Check that also hits c3 ideas.\",\n      \"Block the check and stabilize the center.\",\n      \"Strike at the bishop and center.\",\n      \"Take while the tactic works.\",\n      \"Black recovers and centralizes.\",\n      \"Remove the knight and open lines.\",\n      \"Re-route to recapture or cover key squares.\",\n      \"Grab the pawn and reduce Black's initiative.\"\n    ]\n  },\n\n  {\n    id: \"london-line-05-f6-e5-gambit\",\n    name: \"...f6 and ...e5 gambit idea\",\n    description: \"Black tries to force open play with ...f6 and ...e5. White takes and simplifies.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"f6\",\"Nf3\",\"e5\",\"dxe5\",\"fxe5\",\"Nxe5\",\"Nxe5\",\"Bxe5\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop before e3 locks the bishop.\",\n      \"Support ...e5 and develop a piece.\",\n      \"Solidify d4 and open your pieces.\",\n      \"Support ...e5 but weaken dark squares and king safety.\",\n      \"Develop and prepare to meet ...e5.\",\n      \"Challenge the center immediately.\",\n      \"Accept the challenge and remove central tension.\",\n      \"Black recaptures and opens the f file.\",\n      \"Take the pawn and hit c6 and f7 squares.\",\n      \"Black trades to reduce White activity.\",\n      \"Recapture with the bishop and keep a clean position.\"\n    ]\n  },\n\n  {\n    id: \"london-line-06-ne5-bxf4-nxc5\",\n    name: \"Ne5 line with ...Bxf4 and Nxc5+\",\n    description: \"A forcing variation where Black takes on f4 and White picks up c5 with check.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Bxf4\",\"Nxc5+\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Solidify d5 and open Black's bishop.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge the bishop and develop.\",\n      \"Centralize and create direct pressure.\",\n      \"Strike at d4 and create counterplay.\",\n      \"Force a response and improve your piece activity.\",\n      \"Block and offer trades.\",\n      \"Trade a piece to simplify.\",\n      \"Black grabs the bishop, removing a key London piece.\",\n      \"Win the c5 pawn with check and gain tempo.\"\n    ]\n  },\n\n  {\n    id: \"london-line-07-king-attack-sac\",\n    name: \"Kingside attack: Bxh7+ sac line\",\n    description: \"A concrete attacking line with Bxh7+ and a follow-up attack on the king.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"O-O\",\"Nd2\",\"c5\",\"c3\",\"Nc6\",\"Bd3\",\"Bxe5\",\"dxe5\",\"Nd7\",\"Nf3\",\"Qc7\",\"Bxh7+\",\"Kxh7\",\"Ng5+\",\"Kg6\",\"Qc2+\",\"f5\",\"exf6+\",\"Kxf6\",\"Nh7+\",\"Kf7\",\"Bxc7\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop the bishop before e3.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Solidify d5 and prepare development.\",\n      \"Develop and keep king safety options.\",\n      \"Challenge your bishop and develop.\",\n      \"Centralize and point pieces toward the kingside.\",\n      \"Black secures the king.\",\n      \"Support e4 ideas and keep pieces coordinated.\",\n      \"Strike at d4 and open lines.\",\n      \"Support d4 and control central squares.\",\n      \"Develop and add pressure on d4 and e5.\",\n      \"Aim at h7 and build attacking chances.\",\n      \"Black removes the knight to reduce pressure.\",\n      \"Keep a strong pawn center and open the d file.\",\n      \"Reposition to challenge e5 and defend key squares.\",\n      \"Re-develop and keep the attack alive.\",\n      \"Support ...Nxe5 ideas and defend h7 indirectly.\",\n      \"Sacrifice for king exposure if the follow-up is known.\",\n      \"Accept the sacrifice and step onto an exposed square.\",\n      \"Force the king to move and keep initiative.\",\n      \"King runs forward to avoid immediate mates.\",\n      \"Bring the queen in with check and keep threats going.\",\n      \"Block lines and try to kick attackers away.\",\n      \"Open lines and keep forcing play.\",\n      \"Black takes and tries to stabilize with extra material.\",\n      \"Keep checking to avoid losing momentum.\",\n      \"King heads back toward safety.\",\n      \"Pick up material while the king is still awkward.\"\n    ]\n  },\n\n  {\n    id: \"london-line-08-f5-long-castle\",\n    name: \"Long castle plan into ...f5\",\n    description: \"Both sides commit: White castles long, Black plays ...f5 and clamps the center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"e6\",\"Nbd2\",\"Bd6\",\"Ne5\",\"O-O\",\"c3\",\"Ne4\",\"Nxe4\",\"dxe4\",\"Qc2\",\"f5\",\"O-O-O\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop the bishop before locking it in.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Develop and support ...e5 or ...c5.\",\n      \"Develop and prepare to castle.\",\n      \"Solidify d5 and open development.\",\n      \"Support e4 ideas and keep options flexible.\",\n      \"Challenge your bishop and develop.\",\n      \"Centralize and define the plan.\",\n      \"Black secures the king.\",\n      \"Support d4 and reduce tactical hits on b2.\",\n      \"Black grabs the outpost and trades pieces.\",\n      \"Remove the centralized knight.\",\n      \"Black recaptures and opens central files.\",\n      \"Support e4 pressure and prepare kingside or queenside plans.\",\n      \"Fix the center and claim space on the kingside.\",\n      \"Commit to opposite-side castling and a more concrete game.\"\n    ]\n  },\n\n  {\n    id: \"london-line-09-c6-qb3-queen-trade\",\n    name: \"c6 and Qb3 queen trade\",\n    description: \"A common practical line: Qb3 invites a queen trade and leads to a minority structure.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Nf6\",\"c4\",\"Bf5\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and keeps symmetry.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Solid support for d5 and prepare ...Bf5.\",\n      \"Support d4 and open your pieces.\",\n      \"Develop and contest e4.\",\n      \"Increase central tension and shift toward QG structures.\",\n      \"Develop and contest your bishop's diagonal.\",\n      \"Pressure b7 and d5 and ask an early question.\",\n      \"Meet the pressure and offer simplification.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to reduce complexity.\",\n      \"Recapture and accept doubled pawns for structure and open a file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-10-mirror-bf5-c4\",\n    name: \"Mirror bishops with early c4\",\n    description: \"Symmetry with ...Bf5. White plays c4 and heads into a Queen's Gambit style center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"e6\",\"Nc3\",\"Nf6\",\"e3\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black mirrors and fights for e4.\",\n      \"Increase central tension and challenge d5 directly.\",\n      \"Support d5 and open the dark bishop.\",\n      \"Develop and add control of d5.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\"\n    ]\n  },\n\n  {\n    id: \"london-line-11-qg4-bishop-trade\",\n    name: \"Early Qg4 and bishop trade\",\n    description: \"A forcing line where Qg4 provokes ...Bxf4 and then queens trade quickly.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"Bxf4\",\"Qxg7\",\"Qf6\",\"Qxf6\",\"Nxf6\",\"exf4\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop the bishop before e3.\",\n      \"Support d5 and open lines.\",\n      \"Stabilize the center and open pieces.\",\n      \"Challenge your bishop and develop.\",\n      \"Directly pressure g7 and force Black to decide.\",\n      \"Black trades off your bishop to remove pressure.\",\n      \"Grab the pawn and force further simplification.\",\n      \"Offer a queen trade and defend key squares.\",\n      \"Take the trade to avoid drifting into tactics you do not know.\",\n      \"Black recaptures and develops.\",\n      \"Restore material balance and open the e file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-12-qh5-qxe5-check\",\n    name: \"Qh5+ and Qxe5+\",\n    description: \"A forcing check line that punishes ...f6 with immediate queen activity.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"f6\",\"e3\",\"e5\",\"dxe5\",\"fxe5\",\"Qh5+\",\"g6\",\"Qxe5+\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Support ...e5 but weaken the king and dark squares.\",\n      \"Keep the structure solid and open the queen.\",\n      \"Black tries to blow the center open.\",\n      \"Remove the pawn and open lines.\",\n      \"Recapture and open the f file.\",\n      \"Immediate check to exploit the weakened dark squares.\",\n      \"Block the check but weaken more squares.\",\n      \"Win the pawn and keep the king under pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-13-qf3-b5-queen-take\",\n    name: \"Qf3 and ...b5 structure hit\",\n    description: \"Black grabs space with ...b5. White uses Qf3 to target f5 and b7 patterns.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Rxb8\",\"Qxf5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Black mirrors and contests e4.\",\n      \"Challenge d5 and open the game.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture c4 and open pieces.\",\n      \"Support the extra pawn and gain queenside space.\",\n      \"Target f5 and prepare tactical pressure.\",\n      \"Support b5 and prepare ...e6 or ...Nf6.\",\n      \"Remove the defender on b8 and simplify.\",\n      \"Recapture and open the rook file.\",\n      \"Win the bishop if it is pinned to the king or tactically loose.\"\n    ]\n  },\n\n  {\n    id: \"london-line-14-qxa8-grab\",\n    name: \"Qxa8 grab line\",\n    description: \"A greedy tactical line where White can take on a8 if Black's coordination breaks.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase central tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Pressure f5 and watch tactical targets.\",\n      \"Support b5 and prepare development.\",\n      \"Remove the rook's defender and simplify.\",\n      \"Black grabs material and disrupts your queenside.\",\n      \"Check while picking up material and keeping initiative.\",\n      \"Block the check and keep pieces connected.\",\n      \"Take the rook if it is actually available and safe.\"\n    ]\n  },\n\n  {\n    id: \"london-line-15-bf5-b6-nb5-rc1\",\n    name: \"...b6 and Nb5 into Rc1\",\n    description: \"Black defends with ...b6. White uses Nb5 and Rc1 to pressure c7 and the c file.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Bd6\",\"Bxd6\",\"cxd6\",\"Rc1\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop actively.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Develop and contest your bishop.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5 early.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and keep a central pawn presence.\",\n    ]\n  },\n\n  {\n    id: \"london-line-11-ne5-bb5-pin-tactic\",\n    name: \"Ne5 Bb5+ forcing tactic\",\n    description: \"Ne5 combined with Bb5+ creates pins and tactical opportunities on c7.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Bxf4\",\"Nxc5+\"],\n    explanations: [\n      \"Claim central space and define a London structure.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop actively before e3.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Black supports d5 and prepares ...Bd6.\",\n      \"Develop and prepare to castle.\",\n      \"Black challenges your bishop on f4.\",\n      \"Establish an outpost and increase pressure on c6 and f7.\",\n      \"Black strikes at d4 for counterplay.\",\n      \"Pin the knight on c6 and increase tactical pressure.\",\n      \"Black blocks the check and tries to resolve the pin.\",\n      \"Trade knights to simplify while maintaining pressure.\",\n      \"Black takes your bishop but leaves tactical vulnerabilities.\",\n      \"Fork check that wins a pawn and maintains initiative.\"\n    ]\n  },\n\n  {\n    id: \"london-line-12-qg4-sac-line\",\n    name: \"Qg4 forcing line with bishop sac\",\n    description: \"Aggressive Qg4 leads to complications and potential material imbalance.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"Bxf4\",\"Qxg7\",\"Qf6\",\"Qxf6\",\"Nxf6\",\"exf4\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop before e3.\",\n      \"Black supports d5 and opens lines.\",\n      \"Stabilize d4 and open development.\",\n      \"Black challenges your bishop.\",\n      \"Attack g7 and force Black to make decisions.\",\n      \"Black trades bishops but weakens g7.\",\n      \"Capture the pawn and threaten rook.\",\n      \"Black offers queen trade to reduce pressure.\",\n      \"Simplify to an endgame with material advantage.\",\n      \"Black recaptures and develops.\",\n      \"Recover the bishop and open the e-file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-13-qh5-check-exploit\",\n    name: \"Qh5+ against ...f6 weakness\",\n    description: \"Exploit the weakened dark squares after ...f6 with immediate queen activity.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"f6\",\"e3\",\"e5\",\"dxe5\",\"fxe5\",\"Qh5+\",\"g6\",\"Qxe5+\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively before e3.\",\n      \"Weakening move to prepare ...e5, but creates dark-square weaknesses.\",\n      \"Support d4 and prepare development.\",\n      \"Black tries to open the center.\",\n      \"Accept the challenge and remove central tension.\",\n      \"Black recaptures and opens the f-file.\",\n      \"Immediate check exploiting the weakened dark squares around Black's king.\",\n      \"Block the check but further weakens dark squares.\",\n      \"Win the pawn back with check, gaining tempo and material.\"\n    ]\n  },\n\n  {\n    id: \"london-line-14-qf3-bxb8-tactic\",\n    name: \"Qf3 with Bxb8 tactic\",\n    description: \"Qf3 targets f5 and supports tactical ideas like Bxb8.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Rxb8\",\"Qxf5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture c4 and open the bishop.\",\n      \"Support the pawn on c4 and gain queenside space.\",\n      \"Target the bishop on f5 and pressure c6/b7.\",\n      \"Support b5 and prepare ...e6 or development.\",\n      \"Remove the knight that defends key squares and can lead to tactical shots.\",\n      \"Black recaptures, leaving the queen on f5 potentially undefended.\",\n      \"Capture the bishop if it's pinned or tactically vulnerable.\"\n    ]\n  },\n\n  {\n    id: \"london-line-15-qxa8-raid\",\n    name: \"Qxa8 queen raid tactic\",\n    description: \"A tactical sequence where White's queen infiltrates to a8.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Pressure f5 and prepare tactics.\",\n      \"Support b5 and prepare development.\",\n      \"Remove defender of a8 and create tactical opportunities.\",\n      \"Black grabs material but loses coordination.\",\n      \"Check that wins back material and disrupts Black's position.\",\n      \"Black blocks but leaves the a8 rook vulnerable.\",\n      \"Capture the rook if the tactics work in your favor.\"\n    ]\n  },\n\n  {\n    id: \"london-line-16-bf5-b6-structure\",\n    name: \"London vs ...Bf5 and ...b6\",\n    description: \"Black plays ...b6 to support ...Bb7. White develops with pressure on c7.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Bd6\",\"Bxd6\",\"cxd6\",\"Rc1\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and maintain central presence.\",\n      \"Jump into c7, putting pressure on Black's position.\",\n      \"Black challenges your bishop.\",\n      \"Trade bishops to simplify.\",\n      \"Black recaptures, creating an isolated pawn.\",\n      \"Control the c-file and pressure c7.\"\n    ]\n  },\n\n  {\n    id: \"london-line-17-qxa8-tactic-extended\",\n    name: \"Extended Qxa8 tactic\",\n    description: \"Similar to line 15 but shows the tactical sequence in more detail.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase tension.\",\n      \"Black takes the pawn.\",\n      \"Prepare to recapture c4 and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Target f5 and prepare tactics.\",\n      \"Support b5 and prepare ...e6.\",\n      \"Remove the knight defending a8.\",\n      \"Black takes the knight but loses coordination.\",\n      \"Check that wins material and creates threats.\",\n      \"Black blocks the check but leaves a8 vulnerable.\",\n      \"Capture the rook if the tactics work.\"\n    ]\n  },\n\n  {\n    id: \"london-line-18-qxa4-after-nb5\",\n    name: \"Qa4 after Nb5 pressure\",\n    description: \"Nb5 creates threats, and Qa4 increases queenside pressure.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Na6\",\"Qa4\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and maintain central presence.\",\n      \"Jump into c7, threatening the rook and creating pressure.\",\n      \"Black defends c7 with the knight.\",\n      \"Pin the knight on a6 and increase queenside pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-19-bg4-sac-line\",\n    name: \"Bg4 pin and sac line\",\n    description: \"Black pins with ...Bg4, White responds with aggressive play and a bishop sac.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"Bg4\",\"Bb5\",\"e6\",\"h3\",\"Bh5\",\"g4\",\"Bg6\",\"Ne5\",\"Bd6\",\"Nxc6\",\"bxc6\",\"Bxc6+\",\"Ke7\",\"Bxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight on f3.\",\n      \"Pin the knight on c6 and create threats.\",\n      \"Support d5 and open the bishop.\",\n      \"Challenge the bishop and gain space.\",\n      \"Retreat and maintain the pin.\",\n      \"Attack the bishop and gain kingside space.\",\n      \"Retreat to a safer square.\",\n      \"Centralize and create threats.\",\n      \"Black challenges your bishop.\",\n      \"Remove the defender of a8.\",\n      \"Black recaptures.\",\n      \"Check that wins material.\",\n      \"Black moves the king, the only legal move.\",\n      \"Capture the rook and gain material advantage.\"\n    ]\n  },\n\n  {\n    id: \"london-line-20-kingside-attack-detailed\",\n    name: \"Detailed kingside attack with sacs\",\n    description: \"A complex attacking line with multiple sacrifices on the kingside.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"O-O\",\"Nd2\",\"c5\",\"c3\",\"Nc6\",\"Bd3\",\"Qc7\",\"Ndf3\",\"Nd7\",\"Ng5\",\"g6\",\"Nxh7\",\"Kxh7\",\"Qh5+\",\"Kg8\",\"Nxg6\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black supports d5 and opens lines.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge your bishop.\",\n      \"Centralize and create threats.\",\n      \"Black castles to safety.\",\n      \"Support e4 ideas and prepare kingside play.\",\n      \"Black strikes at d4.\",\n      \"Support d4 and control central squares.\",\n      \"Black develops and adds pressure.\",\n      \"Aim at h7 and build attacking chances.\",\n      \"Black defends e5 and connects rooks.\",\n      \"Reposition the knight for kingside attack.\",\n      \"Black repositions to challenge e5.\",\n      \"Direct attack on h7 and f7.\",\n      \"Black defends h7 but weakens dark squares.\",\n      \"Sacrifice to open the king.\",\n      \"Black takes the knight.\",\n      \"Bring the queen into the attack.\",\n      \"Black retreats the king.\",\n      \"Continue the attack with another sacrifice.\"\n    ]\n  },\n\n  {\n    id: \"london-line-21-bxc4-recapture\",\n    name: \"Bxc4 recapture line\",\n    description: \"Simple recapture of the pawn on c4 with the bishop.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"Bf5\",\"c4\",\"dxc4\",\"Bxc4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes the pawn.\",\n      \"Recapture the pawn and develop the bishop to an active square.\"\n    ]\n  },\n\n  {\n    id: \"london-line-22-nc3-after-c4\",\n    name: \"Nc3 development after c4\",\n    description: \"Standard development with Nc3 after playing c4.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Nc3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Develop and increase control of central squares.\"\n    ]\n  },\n\n  {\n    id: \"london-line-23-qb3-queen-trade-no-nf6\",\n    name: \"Qb3 queen trade without ...Nf6\",\n    description: \"Similar to line 9 but Black develops ...Bf5 before ...Nf6.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Support d5 and prepare ...Bf5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns for open file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-24-bf5-c6-qb6-trade\",\n    name: \"London vs ...Bf5 and ...c6\",\n    description: \"Black plays ...c6 and ...Bf5, leading to queen trade possibilities.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"c6\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and prepare ...e6.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns.\"\n    ]\n  },\n\n  {\n    id: \"london-line-25-ne5-nbd7-development\",\n    name: \"Ne5 with ...Nbd7 response\",\n    description: \"Black responds to Ne5 with ...Nbd7, challenging the outpost.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Nf6\",\"Nf3\",\"Bd6\",\"Ne5\",\"Nbd7\",\"Nd2\",\"O-O\",\"Bd3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black supports d5 and opens lines.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge your bishop.\",\n      \"Establish an outpost.\",\n      \"Black challenges the knight on e5.\",\n      \"Support the knight on e5 and prepare f4 or other ideas.\",\n      \"Black castles to safety.\",\n      \"Develop the bishop to an active square.\"\n    ]\n  },\n\n  {\n    id: \"london-line-26-qb3-queen-trade-standard\",\n    name: \"Standard Qb3 queen trade\",\n    description: \"Common queen trade line in London vs ...Bf5 setups.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Nf6\",\"c4\",\"Bf5\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Support d5 and prepare ...Bf5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black develops and contests e4.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns.\"\n    ]\n  },\n\n  {\n    id: \"london-line-27-bxc4-recursive\",\n    name: \"Bxc4 recapture in mirror bishop line\",\n    description: \"Recapturing on c4 with the bishop in symmetrical structures.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"e6\",\"Bxc4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes the pawn.\",\n      \"Support d4 and open pieces.\",\n      \"Support d5 and open lines.\",\n      \"Recapture the pawn and develop the bishop.\"\n    ]\n  },\n\n  {\n    id: \"london-line-28-long-castle-f5-clamp\",\n    name: \"Long castle vs ...f5 clamp\",\n    description: \"Opposite-side castling with Black clamping the center with ...f5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"e6\",\"Nbd2\",\"Bd6\",\"Ne5\",\"O-O\",\"c3\",\"Ne4\",\"Nxe4\",\"dxe4\",\"Qc2\",\"f5\",\"O-O-O\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Black supports d5 and opens lines.\",\n      \"Support e4 ideas and keep options flexible.\",\n      \"Challenge your bishop.\",\n      \"Establish an outpost.\",\n      \"Black castles to safety.\",\n      \"Support d4 and reduce tactics.\",\n      \"Black grabs an outpost and offers trades.\",\n      \"Remove the centralized knight.\",\n      \"Black recaptures and opens the center.\",\n      \"Support e4 and prepare kingside play.\",\n      \"Black clamps the center and gains kingside space.\",\n      \"Castle queenside and prepare for opposite-side attacks.\"\n    ]\n  },\n\n  {\n    id: \"london-line-29-qg4-g6-response\",\n    name: \"Qg4 met with ...g6\",\n    description: \"Black responds to Qg4 with ...g6, forcing the queen to move.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"g6\",\"Qf3\",\"Bxf4\",\"Qxf4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black supports d5 and opens lines.\",\n      \"Stabilize the center and open pieces.\",\n      \"Challenge your bishop.\",\n      \"Attack g7 and force a response.\",\n      \"Black defends g7 and forces the queen to move.\",\n      \"Retreat the queen to a safe square.\",\n      \"Black trades bishops.\",\n      \"Recapture with the queen, maintaining control of key squares.\"\n    ]\n  },\n\n  {\n    id: \"london-line-30-c3-support-system\",\n    name: \"c3 support system with Nbd2\",\n    description: \"Solid setup with c3 and Nbd2 supporting the center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"c5\",\"Nbd2\",\"Nc6\",\"c3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black supports d5 and opens lines.\",\n      \"Develop and prepare to castle.\",\n      \"Black strikes at d4.\",\n      \"Support the center and prepare e4 ideas.\",\n      \"Black develops and adds pressure on d4.\",\n      \"Support d4 and create a solid pawn structure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-31-bg4-pin-with-a6\",\n    name: \"...Bg4 pin with ...a6 preparatory\",\n    description: \"Black plays ...a6 before ...Bg4, preventing Bb5 ideas.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"a6\",\"Nf3\",\"Nf6\",\"Bd3\",\"Bg4\",\"Nbd2\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Prevent Bb5 ideas and prepare ...b5.\",\n      \"Develop and prepare to castle.\",\n      \"Black develops and contests e4.\",\n      \"Develop the bishop to an active square.\",\n      \"Pin the knight on f3.\",\n      \"Develop and prepare to break the pin with h3 or other means.\"\n    ]\n  },\n\n  {\n    id: \"london-line-32-bg4-pin-bxf3-trade\",\n    name: \"...Bg4 pin with ...Bxf3 trade\",\n    description: \"Black trades bishop for knight to double White's pawns.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"Bg4\",\"Bb5\",\"e6\",\"h3\",\"Bxf3\",\"Qxf3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight on f3.\",\n      \"Pin the knight on c6 and create threats.\",\n      \"Support d5 and open lines.\",\n      \"Challenge the bishop.\",\n      \"Black trades bishop for knight, doubling White's pawns.\",\n      \"Recapture with the queen, maintaining control of the center.\"\n    ]\n  },\n\n  {\n    id: \"london-line-33-mirror-bf5-full-development\",\n    name: \"Full development vs ...Bf5 mirror\",\n    description: \"Complete development against Black's symmetrical ...Bf5 setup.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"e6\",\"Nc3\",\"Nf6\",\"e3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Develop and increase control of central squares.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces, completing the basic London setup.\"\n    ]\n  }\n];","import { londonLines } from \"./londonLines\";\nimport { sicilianDefenseLines } from \"./sicilianDefenseLines\";\nimport { ruyLopezLines } from \"./ruyLopezLines\";\nimport { friedLiverAttackLines } from \"./friedLiverAttackLines\";\nimport { staffordGambitLines } from \"./staffordGambitLines\";\nimport { caroKannLines, caroKannSEOText } from \"./caroKannLines\";\nimport { queensGambitAcceptedLines } from \"./queensGambitAcceptedLines\";\nimport { queensGambitDeclinedLines } from \"./queensGambitDeclinedLines\";\nimport { italianGameLines } from \"./italianGameLines\";\nimport { kingsIndianDefenseLines } from \"./kingsIndianDefenseLines\";\nimport { frenchDefenseLines } from \"./frenchDefenseLines\";\nimport { englundGambitLines } from \"./englundGambitLines\";\nimport { englishOpeningLines } from \"./englishOpeningLines\";\nimport { scotchGameLines } from \"./scotchGameLines\";\n\nexport const OPENING_CATALOG = [\n  {\n    key: \"london\",\n    title: \"London\",\n    description:\n      \"A popular 1.d4 opening for White with a reputation for solidity, focusing on reliable structures and clear repeatable plans\",\n    lines: londonLines,\n    accent: \"gold\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"sicilian\",\n    title: \"Sicilian Defense\",\n    description:\n      \"Arising after 1.e4 c5, it is a dynamic opening that leads to sharp, unbalanced play and was a favorite weapon of champions like Fischer and Kasparov.\",\n    lines: sicilianDefenseLines,\n    accent: \"purple\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"ruy\",\n    title: \"Ruy Lopez\",\n    description:\n      \"A legendary battleground of chess history, rich in strategy and theory, where the world's strongest players have tested ideas for over a century and tiny advantages are fought for with ruthless precision.\",\n    lines: ruyLopezLines,\n    accent: \"blue\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"friedliver\",\n    title: \"Fried Liver Attack\",\n    description:\n      \"A sharp and entertaining way to attack the king, built around sacrificing a knight on f7 and dragging Black into tactical chaos before they know what hit them.\",\n    lines: friedLiverAttackLines,\n    accent: \"red\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"stafford\",\n    title: \"Stafford Gambit\",\n    description:\n      \"A tricky gambit after 1.e4 e5 2.Nf3 Nf6 3.Nxe5 Nc6, where Black sacrifices a pawn for rapid development and dangerous traps.\",\n    lines: staffordGambitLines,\n    accent: \"green\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"carokann\",\n    title: \"Caro-Kann Defense\",\n    description:\n      \"A solid defense to 1.e4. Black aims for a resilient pawn structure and safe development while still keeping counterplay.\",\n    lines: caroKannLines,\n    seoText: caroKannSEOText,\n    accent: \"orange\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"qga\",\n    title: \"Queens Gambit Accepted\",\n    description:\n      \"Black accepts the c4 pawn early and White aims to build a strong center and regain the pawn with development.\",\n    lines: queensGambitAcceptedLines,\n    accent: \"pink\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"qgd\",\n    title: \"Queens Gambit Declined\",\n    description:\n      \"Black declines the gambit and builds a sturdy structure, leading to strategic games with long-term plans.\",\n    lines: queensGambitDeclinedLines,\n    accent: \"rose\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"italian\",\n    title: \"Italian Game\",\n    description:\n      \"A classical 1.e4 opening that focuses on quick development and direct pressure on f7, leading to rich, tactical play.\",\n    lines: italianGameLines,\n    accent: \"teal\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"kingsindian\",\n    title: \"King's Indian Defense\",\n    description:\n      \"A fighting defense against 1.d4 where Black allows White space early, then strikes back with pawn breaks and kingside play.\",\n    lines: kingsIndianDefenseLines,\n    accent: \"indigo\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"french\",\n    title: \"French Defense\",\n    description:\n      \"A resilient response to 1.e4 where Black builds a strong pawn chain and aims for counterplay against White's center.\",\n    lines: frenchDefenseLines,\n    accent: \"slate\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"englund\",\n    title: \"Englund Gambit\",\n    description:\n      \"A wild gambit against 1.d4 where Black sacrifices early material for quick development and cheap tactics.\",\n    lines: englundGambitLines,\n    accent: \"gray\",\n    badge: null,\n    access: \"free\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"black\",\n    playerColor: \"b\"\n  },\n  {\n    key: \"english\",\n    title: \"English Opening\",\n    description: \"A flexible 1.c4 opening for White that can transpose into many structures.\",\n    lines: englishOpeningLines,\n    accent: \"cyan\",\n    badge: \"New\",\n    access: \"signup\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  },\n  {\n    key: \"scotchgame\",\n    title: \"Scotch Game\",\n    description:\n      \"The Scotch Game is an 1.e4 opening that feels like a cheat code. It is simple to learn, crushes new players, but it scales extremely well and remains a serious weapon at every level.\",\n    lines: scotchGameLines,\n    accent: \"amber\",\n    badge: \"New\",\n    access: \"signup\",\n    earlyAccessUntil: null,\n    position: \"start\",\n    orientation: \"white\",\n    playerColor: \"w\"\n  }\n];\n\nexport const OPENING_SETS = OPENING_CATALOG.reduce((acc, o) => {\n  acc[o.key] = {\n    key: o.key,\n    label: o.title,\n    playerColor: o.playerColor,\n    lines: o.lines,\n    badge: o.badge,\n    access: o.access,\n    earlyAccessUntil: o.earlyAccessUntil,\n    seoText: o.seoText\n  };\n  return acc;\n}, {});\n","// src/openings/sicilianDefenseLines.js\n\n// SEO / page intro text for Sicilian Defense drills\nexport const sicilianSEOText = `\nThe Sicilian Defense is the most popular response to 1.e4 and leads to unbalanced,\ndynamic positions. This opening emphasizes asymmetrical pawn structures, active\npiece play, and precise move orders.\n\nThis page provides Sicilian Defense opening drills for players who want to memorize\ncommon setups and early continuations without wading through dense theory.\nThe focus is on repetition of correct moves rather than deep analysis.\n\nThese drills are best suited for players who already play the Sicilian and want\ntheir openings to survive beyond the first few moves in real games.\n`;\n\n\nexport const sicilianDefenseLines = [\n  // Categories: Open Sicilian, Anti-Sicilian, Closed Sicilian, Grand Prix, Moscow/Rossolimo\n\n  {\n    category: \"Open Sicilian\",\n    id: \"sicilian-open-mainline-classical\",\n    name: \"Open Sicilian: Classical setup\",\n    description: \"Mainline Open Sicilian: develop normally with ...d6, ...Nf6, ...Nc6.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"Nc6\", \"Be3\", \"e6\", \"f3\", \"Be7\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes central space and opens lines for pieces quickly.\",\n      \"Sicilian. Fight for d4 without mirroring with ...e5, and create imbalance.\",\n      \"Develop and attack d4 and e5 squares, also supports the d4 push.\",\n      \"Support ...c5 structure and prepare ...Nf6 without allowing e5 tactics.\",\n      \"White challenges the center directly and opens lines.\",\n      \"Accept the open game and force the typical Open Sicilian structure.\",\n      \"White recaptures with a piece for development and central presence.\",\n      \"Hit e4 and develop, making White show how they defend the center.\",\n      \"Defend e4 and develop, enabling aggressive setups.\",\n      \"Develop, add more pressure on d4 and e5, and keep flexible plans.\",\n      \"Develop and support a common kingside attack or long castle plan.\",\n      \"Solidify dark squares and open the dark bishop.\",\n      \"Reinforce e4 and support a later g4 or Be3 setup.\",\n      \"Develop and prepare to castle safely.\",\n      \"Connect pieces and prepare long castling or pressure on d6.\",\n      \"King safety and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-scheveningen\",\n    name: \"Open Sicilian: Scheveningen structure\",\n    description: \"Open Sicilian with ...e6 and ...d6, flexible and solid but watch kingside attacks.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"e6\", \"Be3\", \"a6\", \"f3\", \"Be7\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes space and sets up fast development.\",\n      \"Create asymmetry and contest d4 immediately.\",\n      \"Develop and prepare d4.\",\n      \"Support the center and keep control of e5.\",\n      \"White goes for the Open Sicilian.\",\n      \"Force the open center and typical Sicilian piece play.\",\n      \"White recaptures with development.\",\n      \"Pressure e4 and develop.\",\n      \"Defend e4 and increase central control.\",\n      \"Build the Scheveningen pawn shape and open the dark bishop.\",\n      \"Natural development and a common English Attack setup.\",\n      \"Useful luft and stops Nb5 while preparing queenside play.\",\n      \"Reinforce e4 and support g4 in some lines.\",\n      \"Develop and prepare to castle.\",\n      \"Support long castle and coordinate pressure on the kingside.\",\n      \"Castle and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-najdorf-basic\",\n    name: \"Open Sicilian: Najdorf with 6...a6\",\n    description: \"Najdorf marker move ...a6 after standard development.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"a6\", \"Be3\", \"e5\", \"f3\", \"Be7\", \"Qd2\", \"Be6\"],\n    explanations: [\n      \"White claims the center and opens lines.\",\n      \"Sicilian. Fight for d4 with an unbalanced pawn structure.\",\n      \"Develop and prepare the Open Sicilian.\",\n      \"Support ...c5 and prevent early e5 tactics.\",\n      \"White commits to open central play.\",\n      \"Exchange in the center and create imbalanced positions.\",\n      \"White recaptures with development.\",\n      \"Attack e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Najdorf. Stop Nb5 ideas and keep ...e5 or ...e6 flexible.\",\n      \"English Attack style development.\",\n      \"Najdorf often chooses ...e5 to gain space and hit the knight.\",\n      \"Support the center and prepare g4 ideas.\",\n      \"Keep structure flexible and open the dark bishop.\",\n      \"Prepare long castle and coordinate attack.\",\n      \"Develop and prepare to castle.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-dragon-basic\",\n    name: \"Open Sicilian: Dragon setup\",\n    description: \"Dragon: play ...g6 and fianchetto the dark bishop, sharp opposite-side castling often happens.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\", \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\"],\n    explanations: [\n      \"White claims the center and opens development lanes.\",\n      \"Fight for d4 with asymmetry.\",\n      \"Develop and prepare d4.\",\n      \"Support ...c5 and keep e5 controlled.\",\n      \"Open Sicilian structure.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with a piece and centralizes.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon. Prepare ...Bg7 for pressure on the long diagonal.\",\n      \"Yugoslav Attack setup, aiming for opposite side castling.\",\n      \"Complete the fianchetto and pressure the center.\",\n      \"Reinforce e4 and support the kingside pawn storm ideas.\",\n      \"Castle and bring the rook into play on the f file later.\",\n      \"Connect pieces and prepare long castling.\",\n      \"Develop and add pressure on d4.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-accelerated-dragon-basic\",\n    name: \"Accelerated Dragon\",\n    description: \"Accelerated Dragon: skip ...d6 early, play ...Nc6 and ...g6 quickly.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"Nc6\", \"d4\", \"cxd4\", \"Nxd4\", \"g6\", \"Nc3\", \"Bg7\", \"Be3\", \"Nf6\", \"f3\", \"d6\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes space and threatens quick development.\",\n      \"Sicilian. Contest d4 and avoid symmetry.\",\n      \"Develop and prepare d4.\",\n      \"Develop immediately and pressure d4, aiming for ...g6 next.\",\n      \"White opens the center.\",\n      \"Exchange and create open play.\",\n      \"White recaptures and centralizes.\",\n      \"Accelerated Dragon plan, aiming for ...Bg7.\",\n      \"Develop and reinforce central control.\",\n      \"Complete fianchetto and pressure the long diagonal.\",\n      \"Develop and prepare aggressive setups.\",\n      \"Develop and hit e4.\",\n      \"Reinforce e4 and limit ...Ng4.\",\n      \"Solidify the center and support ...Bg7 pressure.\",\n      \"Prepare long castling and coordinate pieces.\",\n      \"Castle and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-sveshnikov-skeleton\",\n    name: \"Sveshnikov skeleton\",\n    description: \"Sveshnikov: early ...e5 after ...Nc6 and ...Nf6, very theory heavy but consistent plans.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"Nc6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"e5\", \"Ndb5\", \"d6\", \"Bg5\", \"a6\", \"Na3\", \"b5\"],\n    explanations: [\n      \"White claims space and opens lines.\",\n      \"Sicilian. Fight for d4 with asymmetry.\",\n      \"Develop and aim for d4.\",\n      \"Develop and pressure d4.\",\n      \"White opens the center.\",\n      \"Exchange and create open lines.\",\n      \"White recaptures with a piece.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Sveshnikov marker. Grab space and hit the d4 knight.\",\n      \"Typical. White jumps into b5 to target d6 and c7 squares.\",\n      \"Hold e5 and stop immediate tactics on d6.\",\n      \"Pin the knight and increase pressure on the center.\",\n      \"Kick the b5 knight support squares and prepare ...b5.\",\n      \"Re-route the knight to c4 or b5 in some lines.\",\n      \"Gain queenside space and support ...b4 ideas.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-kan-basic\",\n    name: \"Kan Sicilian\",\n    description: \"Kan: ...e6 early, flexible development and often ...Qc7.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"e6\", \"d4\", \"cxd4\", \"Nxd4\", \"a6\", \"Nc3\", \"Qc7\", \"Be2\", \"Nf6\", \"O-O\", \"d6\", \"Be3\", \"b5\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian. Contest d4 and avoid symmetry.\",\n      \"Develop and prepare d4.\",\n      \"Kan style. Support d5 breaks later and open the dark bishop.\",\n      \"Open Sicilian attempt.\",\n      \"Accept the open center.\",\n      \"White recaptures and develops.\",\n      \"Flexible. Prevent Nb5 ideas and prepare ...Qc7 or ...b5.\",\n      \"Develop and keep pressure on the center.\",\n      \"Typical Kan idea, supporting ...d5 and queenside play.\",\n      \"Develop and prepare safe castling.\",\n      \"Develop and hit e4.\",\n      \"Castle and complete basic king safety.\",\n      \"Stabilize the center and open the dark bishop.\",\n      \"Develop and support central control.\",\n      \"Queenside expansion, gaining space and supporting ...Bb7.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-taimanov-basic\",\n    name: \"Taimanov setup\",\n    description: \"Taimanov: ...e6 and ...Qc7 is a common plan, flexible piece placement.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"e6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nc6\", \"Nc3\", \"Qc7\", \"Be3\", \"a6\", \"Be2\", \"Nf6\", \"O-O\", \"d6\"],\n    explanations: [\n      \"White claims the center.\",\n      \"Sicilian structure to fight for d4.\",\n      \"Develop and set up d4.\",\n      \"Keep options open and prepare ...d5 in some lines.\",\n      \"Open center and gain space.\",\n      \"Exchange in the center.\",\n      \"White develops with recapture.\",\n      \"Develop and pressure d4.\",\n      \"Defend and develop.\",\n      \"Typical Taimanov idea, supporting ...d5 and coordinating pieces.\",\n      \"Natural development, supports Qd2 and long castle ideas.\",\n      \"Flexible, prevents Nb5 and supports queenside expansion.\",\n      \"Develop and prepare to castle safely.\",\n      \"Develop and pressure e4.\",\n      \"Castle and connect rooks.\",\n      \"Solidify the center and prepare ...Be7 and ...O-O.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-alapin-basic\",\n    name: \"Vs Alapin: 2.c3\",\n    description: \"Alapin (2.c3): respond with ...d5 to challenge the center directly.\",\n    moves: [\"e4\", \"c5\", \"c3\", \"d5\", \"exd5\", \"Qxd5\", \"d4\", \"Nf6\", \"Nf3\", \"e6\", \"Be2\", \"cxd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Qa5\"],\n    explanations: [\n      \"White claims the center.\",\n      \"Sicilian response, but White avoids the Open Sicilian with c3.\",\n      \"Alapin. White supports d4 and reduces your typical counterplay lines.\",\n      \"Direct counter in the center. Challenge e4 and punish slow play.\",\n      \"White usually takes to avoid losing central control.\",\n      \"Recapture with the queen, accepting early queen development for central pressure.\",\n      \"Take space and build a center with c3 support.\",\n      \"Develop and hit e4, also prepares ...cxd4.\",\n      \"Develop and support the center.\",\n      \"Prepare ...d5 or ...cxd4 and develop the dark bishop.\",\n      \"Quiet development and prepare to castle.\",\n      \"Challenge the center and open lines.\",\n      \"Recapture and keep a pawn center.\",\n      \"Check that develops a piece and forces a response.\",\n      \"Block the check and develop, defending the center.\",\n      \"Pressure c3 and a2, keep the queen active.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-grand-prix-basic\",\n    name: \"Vs Grand Prix: 2.Nc3 and 3.f4\",\n    description: \"Grand Prix attack structure: a common response is ...Nc6 and ...g6 with kingside control.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"Bb5\", \"Nd4\", \"O-O\", \"e6\", \"d3\", \"Ne7\", \"Qe1\", \"O-O\"],\n    explanations: [\n      \"White takes space and prepares quick kingside play.\",\n      \"Sicilian. Create imbalance and fight for d4.\",\n      \"White avoids Open Sicilian structures and keeps options for f4.\",\n      \"Develop and control key squares, especially d4 and e5.\",\n      \"Grand Prix. White goes for fast kingside attack ideas.\",\n      \"Solid plan. Prepare ...Bg7 and reduce white's direct kingside damage.\",\n      \"Develop and prepare to castle, keeping the attack flexible.\",\n      \"Complete the fianchetto and defend key squares.\",\n      \"Develop with pressure and provoke ...Nd4 ideas.\",\n      \"Jump into the center, hitting b5 and c2 squares.\",\n      \"Castle and keep the kingside attack options.\",\n      \"Solidify dark squares and prepare ...Nge7 or ...d5.\",\n      \"Lock the center and support Be3 or f5 play.\",\n      \"Flexible defense, supports ...d5 breaks and king safety.\",\n      \"Typical Grand Prix idea to swing queen toward h4.\",\n      \"Castle and finish development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-moscow-rossolimo-basic\",\n    name: \"Vs Bb5+: Moscow and Rossolimo\",\n    description: \"After 2.Nf3 d6 3.Bb5+ (Moscow) or 2...Nc6 3.Bb5 (Rossolimo), develop and get ready to unpin.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"Bb5+\", \"Bd7\", \"Bxd7+\", \"Qxd7\", \"O-O\", \"Nc6\", \"c4\", \"Nf6\", \"Nc3\", \"g6\", \"d3\", \"Bg7\"],\n    explanations: [\n      \"White claims space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare d4.\",\n      \"Moscow move order. Keep control of e5 and prepare development.\",\n      \"Check, aiming to disrupt development and sometimes trade pieces.\",\n      \"Block and offer a trade, reducing White's pressure.\",\n      \"White often takes to avoid retreating and to damage coordination.\",\n      \"Recapture and keep development moving.\",\n      \"Castle and keep a flexible structure.\",\n      \"Develop and contest d4.\",\n      \"Grab queenside space and fight for d5.\",\n      \"Develop and pressure e4.\",\n      \"Develop and reinforce the center.\",\n      \"Fianchetto plan for a solid setup.\",\n      \"Develop and support central control.\",\n      \"Complete fianchetto and pressure the diagonal.\"\n    ]\n  },\n\n\n\n  {\n    id: \"sicilian-dragon-yugoslav-rc8-nxe4-sac\",\n    name: \"Dragon Yugoslav: ...Rc8 and ...Nxe4 tactics\",\n    description: \"Yugoslav setup. Black expands with ...b5 and the exchange sacrifice ideas appear on d4.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"Kb1\", \"a5\", \"a4\", \"bxa4\", \"Nxa4\", \"Bxa4\",\n      \"Bxa4\", \"Rc4\", \"Bb3\", \"Nxe4\", \"fxe4\", \"Rxd4\"\n    ],\n    explanations: [\n      \"White grabs space and opens lines.\",\n      \"Sicilian, immediately fights for d4.\",\n      \"Develop and prepare d4.\",\n      \"Keep control of e5 and support the center.\",\n      \"White commits to the Open Sicilian.\",\n      \"Open the center on your terms.\",\n      \"White develops while recapturing.\",\n      \"Hit e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon structure, aiming for ...Bg7.\",\n      \"Yugoslav style, supports queenside castling and attacks.\",\n      \"Put the bishop on the long diagonal.\",\n      \"Reinforce e4 and stop ...Ng4 ideas.\",\n      \"Get king safety and connect rooks.\",\n      \"Prepare long castle and connect to kingside pressure.\",\n      \"Develop and pressure d4.\",\n      \"Add pressure on f7 and accelerate the attack.\",\n      \"Develop and connect rooks, also covers key squares.\",\n      \"White castles long and the game becomes race like.\",\n      \"Typical Dragon rook placement against c and c2 squares.\",\n      \"Keep bishop safe and keep pressure lines.\",\n      \"Remove the centralized knight and reduce white pressure.\",\n      \"White keeps a piece on the diagonal and recaptures.\",\n      \"Queenside expansion, also hits the bishop and opens files.\",\n      \"Standard safety move, avoid checks on a1 diagonal.\",\n      \"Keep expanding and support ...a4 or ...b4 ideas.\",\n      \"White tries to stop the pawn storm or force structure.\",\n      \"Accept, open a file and create targets.\",\n      \"White recaptures to remove the pawn and stabilize.\",\n      \"Trade off that knight and reduce defense.\",\n      \"White recaptures and keeps pieces active.\",\n      \"Rook lift to pressure and enable tactics on d4 and e4.\",\n      \"Retreat and keep bishop while avoiding tactics.\",\n      \"Tactical strike, grabbing central pawn and opening lines.\",\n      \"White accepts and opens the f file and center.\",\n      \"Follow up by winning material back or simplifying into advantage.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-h4-h5-qa5-rcx3\",\n    name: \"Dragon Yugoslav: ...Qa5 and ...Rxc3 sequence\",\n    description: \"Yugoslav attack line where Black hits c3 and the queen joins with checks and captures.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"hxg6\", \"fxg6\",\n      \"Bh6\", \"Bxh6\", \"Qxh6\", \"Rxc3\", \"bxc3\", \"Qxc3\", \"Nb3\", \"Rc8\"\n    ],\n    explanations: [\n      \"White takes space and aims for fast development.\",\n      \"Sicilian, create imbalance and fight for d4.\",\n      \"Develop and prepare d4.\",\n      \"Solid center support, control e5.\",\n      \"White opens the center.\",\n      \"Exchange and open lines for active play.\",\n      \"White centralizes a knight.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto plan.\",\n      \"Yugoslav setup, supports long castle and attack.\",\n      \"Bishop targets the long diagonal.\",\n      \"Reinforce e4 and limit ...Ng4.\",\n      \"King safety and rook connection.\",\n      \"Support queenside castling and connect to h6 ideas.\",\n      \"Develop and pressure d4.\",\n      \"Commit to opposite side castling.\",\n      \"Develop and connect pieces, support queenside play.\",\n      \"White starts pawn storm on the kingside.\",\n      \"Rook to c file, target c2 and support tactics.\",\n      \"White supports h5 and keeps space.\",\n      \"Centralize and hit key squares, also targets c4 and f3.\",\n      \"Continue the pawn storm and open lines.\",\n      \"Queen joins, pressures a2 and c3 and adds tactical threats.\",\n      \"White opens the h file and tries to expose the king.\",\n      \"Recapture and keep the f file structure, also open f file.\",\n      \"Trade the key Dragon bishop or force concessions.\",\n      \"Remove that attacker immediately.\",\n      \"White keeps attacking chances on the h file.\",\n      \"Typical exchange sacrifice idea on c3 to rip open lines.\",\n      \"Forced recapture, structure changes and b file opens.\",\n      \"Queen grabs material and keeps threats on a1 and d4.\",\n      \"Hit the queen and try to stabilize.\",\n      \"Consolidate and keep pressure on the c file.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-kb1-qa5-nd5-queen-trade\",\n    name: \"Dragon Yugoslav: Nd5 and queen trade sequence\",\n    description: \"Yugoslav line where White jumps Nd5 and Black simplifies into tactics and endgame pressure.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"Kb1\", \"Qa5\", \"Nd5\", \"Qxd2\",\n      \"Nxe7+\", \"Kh8\", \"Rxd2\", \"Rce8\", \"Nd5\", \"Nxd5\", \"exd5\", \"Nxf3\",\n      \"Nxf3\", \"Rxe3\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian structure and counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Hold e5 and support the center.\",\n      \"White opens the center.\",\n      \"Exchange to create the Open Sicilian structure.\",\n      \"White centralizes.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon plan, ...Bg7 next.\",\n      \"Yugoslav style attack prep.\",\n      \"Place bishop on the long diagonal.\",\n      \"Support e4 and limit ...Ng4.\",\n      \"King safety.\",\n      \"Prepare long castle and coordinate attack.\",\n      \"Develop and pressure d4.\",\n      \"Opposite side castling, race begins.\",\n      \"Develop and connect pieces.\",\n      \"White starts direct pawn storm.\",\n      \"Put rook on the c file for counterplay.\",\n      \"Support h5 and keep pressure.\",\n      \"Centralize and challenge key squares.\",\n      \"Improve king safety on the queenside.\",\n      \"Queen joins queenside pressure and checks threats.\",\n      \"White jumps in to create tactics and hit c7 and e7 squares.\",\n      \"Simplify by trading queens, reducing white attack speed.\",\n      \"Tactical check and fork ideas, force king response.\",\n      \"Step away from checks and keep pieces protected.\",\n      \"Recapture the queen and keep rooks connected.\",\n      \"Bring rook to e file and aim at e3 and e4 squares.\",\n      \"Recentralize, keep pressure and block some lines.\",\n      \"Remove the knight and simplify.\",\n      \"Recapture and open the e file and diagonal.\",\n      \"Tactic to win material or damage king safety.\",\n      \"Recapture and try to hold structure.\",\n      \"Grab pawn and keep initiative with active rook.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-qa5-nxf3-queen-exchange\",\n    name: \"Dragon Yugoslav: ...Nxf3 and queen exchange\",\n    description: \"Black uses ...Nxf3 and queen trades to convert tactical pressure into material.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"Kb1\", \"Nxf3\",\n      \"Nxf3\", \"Rxc3\", \"Qxc3\", \"Qxc3\", \"bxc3\", \"Bxg4\", \"Be2\", \"Nxe4\",\n      \"Bd4\", \"e5\", \"Bxa7\", \"Nxc3+\", \"Kb2\", \"Nxd1+\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay and imbalance.\",\n      \"Develop and prepare d4.\",\n      \"Solid, control e5.\",\n      \"Open center plan.\",\n      \"Exchange and open lines.\",\n      \"White develops by recapturing.\",\n      \"Hit e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto.\",\n      \"Yugoslav setup.\",\n      \"Bishop on long diagonal.\",\n      \"Support center and control g4.\",\n      \"King safety.\",\n      \"Support long castle and h6 ideas.\",\n      \"Develop and hit d4.\",\n      \"Commit to opposite side castling.\",\n      \"Develop and coordinate pieces.\",\n      \"Pawn storm attempt.\",\n      \"Counterplay on c file.\",\n      \"Support h5 push.\",\n      \"Centralize, hit c4 and f3 structures.\",\n      \"Open lines on kingside.\",\n      \"Queen activates against a2 and c3.\",\n      \"Safety move, reduce checks.\",\n      \"Remove defender and open lines for queen and rook.\",\n      \"White recaptures to avoid losing material.\",\n      \"Sacrifice on c3 to open the king and win structure.\",\n      \"White tries to keep material balanced and stop threats.\",\n      \"Trade queens to convert attack into endgame gains.\",\n      \"Forced recapture, structure changes.\",\n      \"Win pawn or remove attacker, reduce kingside pressure.\",\n      \"Develop and protect key squares.\",\n      \"Central pawn grab, also hits c3 weaknesses indirectly.\",\n      \"Try to anchor a piece and aim for activity.\",\n      \"Kick the bishop and gain central space.\",\n      \"Grab pawn, but it can be risky if pieces get trapped.\",\n      \"Fork and check to win material and simplify.\",\n      \"Move king and stay in game.\",\n      \"Win the rook, converting tactics into decisive material.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-hxg6-qa1-check\",\n    name: \"Dragon Yugoslav: ...Qa1+ and ...Qxd4+\",\n    description: \"Queen invades with checks after the c3 break and open diagonals.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"hxg6\", \"fxg6\",\n      \"Bh6\", \"Bxh6\", \"Qxh6\", \"Rxc3\", \"bxc3\", \"Qxc3\", \"g5\", \"Qa1+\",\n      \"Kd2\", \"Qxd4+\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Support center and control e5.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with development.\",\n      \"Attack e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto plan.\",\n      \"Yugoslav style setup.\",\n      \"Bishop on long diagonal.\",\n      \"Reinforce e4 and limit piece jumps.\",\n      \"King safety.\",\n      \"Prepare long castle and attack.\",\n      \"Develop and pressure d4.\",\n      \"Opposite side castling.\",\n      \"Develop and connect pieces.\",\n      \"Start pawn storm.\",\n      \"Counterplay against c2 and c3.\",\n      \"Support h5.\",\n      \"Centralize and threaten key squares.\",\n      \"Push for open lines.\",\n      \"Queen joins queenside threats.\",\n      \"Open lines to the king.\",\n      \"Recapture and keep structure while opening f file.\",\n      \"Trade off Dragon bishop or force weakening.\",\n      \"Remove the attacker.\",\n      \"Keep attack alive with queen on h file.\",\n      \"Break c3 to open the king and win material.\",\n      \"Forced structure change.\",\n      \"Queen penetrates and targets a1 and d4 lines.\",\n      \"Try to chase pieces and create threats.\",\n      \"Immediate invasion, check based on open diagonal.\",\n      \"King steps away and tries to survive.\",\n      \"Take central pawn with check, converting attack into material.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-h4-rc4-nxe4-sac\",\n    name: \"Dragon Yugoslav: h4 included before ...Nxe4\",\n    description: \"Same tactical theme as the earlier ...Rc4 ...Nxe4 line, but with h4 instead of Kb1.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a4\", \"bxa4\", \"Nxa4\", \"Bxa4\",\n      \"Bxa4\", \"Rc4\", \"Bb3\", \"Nxe4\", \"fxe4\", \"Rxd4\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Keep e5 under control.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White centralizes.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon fianchetto.\",\n      \"Yugoslav setup.\",\n      \"Bishop on long diagonal.\",\n      \"Support e4 and control g4.\",\n      \"King safety.\",\n      \"Prepare long castle.\",\n      \"Develop and pressure d4.\",\n      \"Add pressure and speed up attack.\",\n      \"Develop and coordinate pieces.\",\n      \"Opposite side castling.\",\n      \"Counterplay on c file.\",\n      \"Keep bishop safe.\",\n      \"Remove white knight and reduce central control.\",\n      \"White recaptures to keep presence.\",\n      \"Expansion and tempo on pieces.\",\n      \"White continues kingside pawn storm.\",\n      \"Push queenside pawns for attack.\",\n      \"White tries to slow down queenside play.\",\n      \"Open the a file and keep initiative.\",\n      \"White recaptures to stabilize.\",\n      \"Trade to reduce defense.\",\n      \"White keeps pieces active.\",\n      \"Rook lift for pressure and tactics.\",\n      \"Step away and keep bishop.\",\n      \"Tactical strike in the center.\",\n      \"White accepts and opens lines.\",\n      \"Follow up by taking the bishop or central pawn line, converting tactics.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-a4-a3-a2-b3-endgame-push\",\n    name: \"Dragon Yugoslav: queenside pawn break into endgame squeeze\",\n    description: \"Long line with queenside pawn breaks, queen safety moves, and converting to a passed pawn plan.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a3\", \"b4\", \"axb4\", \"axb4\",\n      \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\", \"exd5\", \"Qa5\", \"Qd4+\", \"Kg8\",\n      \"h5\", \"Bf5\", \"g4\", \"Bxc2\", \"Bxc2\", \"b3\", \"Rh2\", \"Rc7\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid and controls e5.\",\n      \"Open center plan.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with development.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon setup.\",\n      \"Yugoslav setup.\",\n      \"Bishop on diagonal.\",\n      \"Support e4 and slow ...Ng4.\",\n      \"King safety.\",\n      \"Prepare long castle and attack.\",\n      \"Develop and pressure d4.\",\n      \"Aggressive bishop placement.\",\n      \"Develop and coordinate.\",\n      \"Opposite side castling.\",\n      \"Rook on open file, typical Dragon play.\",\n      \"Keep bishop safe.\",\n      \"Trade off the central knight.\",\n      \"White recaptures to keep piece activity.\",\n      \"Expand and gain space, threaten to open files.\",\n      \"White keeps pawn storm plan.\",\n      \"Black expands on queenside, matching the race.\",\n      \"White prepares to meet ...b4 with axb4, also slow a pawn push.\",\n      \"Break open the queenside pawn structure.\",\n      \"White accepts to avoid getting locked up.\",\n      \"Black recaptures and opens the a file.\",\n      \"White jumps in to create tactics and simplify.\",\n      \"Remove the intruder.\",\n      \"White trades the Dragon bishop's partner and reduces pressure.\",\n      \"Recapture and keep king safe enough.\",\n      \"Open lines and create a pawn majority structure.\",\n      \"Queen activates and targets a2 and a3 squares.\",\n      \"White gives check and tries to force king placement.\",\n      \"Step out and avoid tactics.\",\n      \"White continues kingside pawn storm.\",\n      \"Activate bishop and hit c2 and e4 lines.\",\n      \"White tries to chase the bishop and keep attack going.\",\n      \"Tactic to win material and create threats.\",\n      \"White recaptures and tries to reduce damage.\",\n      \"Create a passed pawn and fix white pieces.\",\n      \"Defensive rook move, prepare to meet b pawn.\",\n      \"Consolidate and support the passed pawn plan.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-classical-sac-line-be2-qb6-queen-grab\",\n    name: \"Tactics: Be2 and ...Qb6 pawn grab\",\n    description: \"Sharp tactical sequence where the queen grabs b2 and lines open with checks.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"O-O\", \"Nc6\", \"f4\", \"Qb6\", \"Nf5\", \"Qxb2\",\n      \"Nxg7\", \"Qxc3\", \"Bd2\", \"Qd4+\", \"Kh1\", \"Kxg7\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid center support.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White develops by recapturing.\",\n      \"Develop and pressure e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon structure.\",\n      \"Quieter development, keep options open.\",\n      \"Fianchetto bishop, pressure on diagonal.\",\n      \"Support center and develop, watch tactics on b2.\",\n      \"King safety.\",\n      \"White also castles, reducing immediate mate threats.\",\n      \"Develop and pressure d4.\",\n      \"Space grab, also creates targets.\",\n      \"Pressure b2 and d4, typical tactical idea.\",\n      \"Jump in to create threats and hit e7 and g7 areas.\",\n      \"Queen grabs pawn, accepting risk for material.\",\n      \"White takes bishop, reducing dragon pressure.\",\n      \"Queen grabs c3 and hits multiple targets.\",\n      \"Try to trap or challenge the queen path.\",\n      \"Check to force king move and keep initiative.\",\n      \"Step away and avoid further checks.\",\n      \"Black recaptures, restoring material balance and ending the tactic.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-bb5-anti-sicilian-bc4-plan\",\n    name: \"Anti Sicilian: 3.Bc4 setup vs ...Nf6\",\n    description: \"Early Bc4 against the Sicilian, play normal development and castle.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"Bc4\", \"Nf6\", \"Nc3\", \"e6\", \"d3\", \"Be7\", \"Bg5\", \"O-O\", \"O-O\", \"a6\", \"Re1\", \"b5\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare central play.\",\n      \"Solid support and control e5.\",\n      \"Fast development aiming at f7 and quick plans.\",\n      \"Develop and hit e4.\",\n      \"Develop and defend e4.\",\n      \"Solid, open bishop and prepare ...d5 breaks later.\",\n      \"Keep center controlled and support e4.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight and increase pressure.\",\n      \"King safety and rook connection.\",\n      \"Castle and prepare central play.\",\n      \"Gain space and ask the bishop about its square, also supports ...b5.\",\n      \"Put rook on e-file, support e4-e5 breaks or tactics.\",\n      \"Queenside expansion and gain tempo on pieces.\"\n    ]\n  },\n\n  {\n  id: \"sicilian-dragon-yugoslav-h5-hxg6-continuation\",\n  name: \"Dragon Yugoslav: h5-hxg6 continuation after Qd4+\",\n  description: \"Dragon Yugoslav line with h5 push, ...Bf5 development, and hxg6 capture.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a3\", \"b4\", \"axb4\", \"axb4\",\n    \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\", \"exd5\", \"Qa5\", \"Qd4+\", \"Kg8\",\n    \"h5\", \"Bf5\", \"hxg6\", \"fxg6\"\n  ],\n  explanations: [\n    \"White claims the center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Solid support for the center.\",\n    \"Open the center.\",\n    \"Exchange and create open lines.\",\n    \"White recaptures and centralizes.\",\n    \"Pressure e4 and develop.\",\n    \"Defend e4 and develop.\",\n    \"Dragon fianchetto setup.\",\n    \"Yugoslav system, prepares queenside castling.\",\n    \"Bishop on the long diagonal.\",\n    \"Reinforce e4 and control g4 square.\",\n    \"King safety.\",\n    \"Connect rooks and prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement, eyes f7.\",\n    \"Develop and connect rooks.\",\n    \"Opposite side castling, race begins.\",\n    \"Counterplay on the c-file.\",\n    \"Retreat bishop to safety while keeping pressure.\",\n    \"Trade off the centralized knight.\",\n    \"White recaptures to maintain piece activity.\",\n    \"Queenside expansion, gains space.\",\n    \"White starts kingside pawn storm.\",\n    \"Black expands on queenside to match.\",\n    \"White prepares for ...b4 push.\",\n    \"Break open the queenside structure.\",\n    \"White captures to avoid being locked in.\",\n    \"Black recaptures, opening the a-file.\",\n    \"Knight jump to create threats and simplify.\",\n    \"Capture the intruding knight.\",\n    \"Trade the Dragon bishop, reducing black's attack.\",\n    \"King recaptures, remaining safe.\",\n    \"Recapture and create pawn structure.\",\n    \"Queen activates, targeting weak squares.\",\n    \"Check to gain time and challenge black's king.\",\n    \"King steps back to g8, avoiding further checks.\",\n    \"Continue kingside attack with pawn push.\",\n    \"Develop bishop actively, hitting c2 and supporting queenside.\",\n    \"Exchange to open the h-file and attack.\",\n    \"Recapture, keeping pawn structure and opening f-file for counterplay.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-be2-ng4-variation\",\n  name: \"Dragon: Be2 with ...Ng4 variation\",\n  description: \"Classical Dragon with Be2 where black plays ...Ng4 to trade bishops and develop initiative.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Ng4\",\n    \"Bxg4\", \"Bxg4\", \"f3\", \"Be6\", \"h4\", \"Qa5\"\n  ],\n  explanations: [\n    \"White claims the center.\",\n    \"Sicilian response, fighting for d4.\",\n    \"Develop and prepare d4.\",\n    \"Solid center support.\",\n    \"Open the center.\",\n    \"Exchange and create open lines.\",\n    \"White recaptures and centralizes.\",\n    \"Develop and pressure e4.\",\n    \"Defend e4 and develop.\",\n    \"Dragon fianchetto.\",\n    \"Classical development, less aggressive than Bc4.\",\n    \"Bishop on the long diagonal.\",\n    \"Develop bishop and support center.\",\n    \"King safety.\",\n    \"Prepare queenside castling.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Knight jump to challenge the e3 bishop.\",\n    \"White trades to avoid doubled pawns.\",\n    \"Black recaptures, developing with tempo.\",\n    \"Reinforce e4 and limit bishop's retreat squares.\",\n    \"Bishop retreats to active diagonal.\",\n    \"White starts kingside expansion.\",\n    \"Queen activates, putting pressure on queenside.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-be2-ng4-nxe6-line\",\n  name: \"Dragon: Be2 ...Ng4 with Nxe6 exchange\",\n  description: \"Classical Dragon line where white exchanges on e6 and trades bishops with Bh6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Ng4\",\n    \"Bxg4\", \"Bxg4\", \"f3\", \"Be6\", \"Nxe6\", \"fxe6\", \"Bh6\", \"Qa5\",\n    \"Bxg7\", \"Kxg7\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Support center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Classical development.\",\n    \"Fianchetto bishop.\",\n    \"Develop bishop.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Challenge the e3 bishop.\",\n    \"Trade bishop for knight.\",\n    \"Recapture and develop.\",\n    \"Support e4 and limit bishop.\",\n    \"Bishop finds active square.\",\n    \"Exchange to damage black's pawn structure.\",\n    \"Recapture, creating doubled e-pawns but opening f-file.\",\n    \"Threaten to trade the Dragon bishop.\",\n    \"Queen activates with threats.\",\n    \"Execute the bishop trade.\",\n    \"King recaptures, remaining in center but with pawn cover.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-g4-be6-line\",\n  name: \"Dragon Yugoslav: g4 with ...Be6 response\",\n  description: \"Yugoslav attack with early g4, met by ...Be6 and knight exchange on e6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"g4\", \"Be6\",\n    \"Nxe6\", \"fxe6\", \"O-O-O\", \"Ne5\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Early kingside pawn storm.\",\n    \"Develop bishop actively, hitting d5 and c4.\",\n    \"Exchange to damage black's pawn structure.\",\n    \"Recapture, creating doubled e-pawns but opening f-file.\",\n    \"White completes queenside castling.\",\n    \"Knight centralizes to strong outpost.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-g5-nh5-line\",\n  name: \"Dragon Yugoslav: g5 forcing ...Nh5\",\n  description: \"Yugoslav attack with g4-g5 push, forcing knight to h5 where it's less active.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n    \"g4\", \"Rc8\", \"g5\", \"Nh5\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Support center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Yugoslav system.\",\n    \"Bishop on diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Develop bishop.\",\n    \"Start kingside pawn storm.\",\n    \"Rook to c-file for counterplay.\",\n    \"Push pawn, attacking knight.\",\n    \"Knight retreats to edge, avoiding exchange but less active.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-h5-a4-bxf6\",\n  name: \"Dragon Yugoslav: h5, ...a4, and Bxf6 exchange\",\n  description: \"Yugoslav line with h5 push, met by ...a4 pawn advance and bishop exchange on f6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"h5\", \"a4\",\n    \"Bxf6\", \"exf6\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement.\",\n    \"Develop bishop.\",\n    \"Opposite side castling.\",\n    \"Rook to c-file.\",\n    \"Retreat bishop.\",\n    \"Trade knight.\",\n    \"Recapture with bishop.\",\n    \"Queenside expansion.\",\n    \"Kingside pawn storm.\",\n    \"Black's queenside counter.\",\n    \"Continue kingside attack.\",\n    \"Pawn push, threatening to trap bishop.\",\n    \"Trade bishop for knight to relieve pressure.\",\n    \"Recapture, doubling pawns but opening e-file.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-h4-h5-be2-line\",\n  name: \"Dragon Yugoslav: h4 met by ...h5 with Be2 setup\",\n  description: \"Yugoslav attack where black responds to h4 with ...h5, blocking white's pawn storm.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n    \"h4\", \"h5\", \"Be2\", \"Rc8\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian response.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Yugoslav system.\",\n    \"Bishop on diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Develop bishop.\",\n    \"Start kingside pawn storm.\",\n    \"Black blocks the pawn advance, stopping h5 ideas.\",\n    \"Develop bishop, more solid than Bc4.\",\n    \"Rook to c-file for queenside counterplay.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-nd5-early-line\",\n  name: \"Dragon Yugoslav: Early Nd5 before h4\",\n  description: \"Yugoslav line where white plays Nd5 immediately after ...b5, skipping h4 initially.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\",\n    \"exd5\", \"a5\", \"a3\", \"Kg8\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement.\",\n    \"Develop bishop.\",\n    \"Opposite side castling.\",\n    \"Rook to c-file.\",\n    \"Retreat bishop.\",\n    \"Trade knight.\",\n    \"Recapture with bishop.\",\n    \"Queenside expansion.\",\n    \"Knight jump to d5, creating threats.\",\n    \"Capture the knight.\",\n    \"Trade the Dragon bishop.\",\n    \"King recaptures.\",\n    \"Recapture, creating passed d-pawn.\",\n    \"Black continues queenside expansion.\",\n    \"White prepares to meet ...a4.\",\n    \"King steps back to g8, connecting rooks.\"\n  ]\n},\n\n  {\n    id: \"sicilian-closed-mainline-g3-g6\",\n    name: \"Closed Sicilian: g3 setup vs ...g6\",\n    description: \"Closed Sicilian: White plays g3 and d3. Black fianchettos and strikes with ...d6 and ...e5.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"Be3\", \"e5\", \"Nf3\", \"Nge7\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes space and keeps options for Open or Closed setups.\",\n      \"Sicilian. Black fights for d4 and creates an imbalanced structure.\",\n      \"Closed Sicilian move order, keep the d pawn flexible and develop.\",\n      \"Develop and add control of d4 and e5.\",\n      \"Commit to a kingside fianchetto and a slower buildup.\",\n      \"Mirror the fianchetto, aiming for ...Bg7 pressure on the long diagonal.\",\n      \"Place the bishop on the long diagonal and support central breaks later.\",\n      \"Develop bishop and increase control of the center.\",\n      \"Keep the center closed, support e4, and prepare piece development.\",\n      \"Solid, supports ...e5 and controls key central squares.\",\n      \"Develop and support queenside development, also eyes c5 squares.\",\n      \"Stake out space and reduce white's easy f4 break, typical Closed Sicilian plan.\",\n      \"Develop naturally and prepare to castle.\",\n      \"Develop flexibly, keeping options like ...f5 or ...Be6.\",\n      \"King safety and connect rooks before attacking.\",\n      \"Match castling and keep the position stable before choosing pawn breaks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-mainline-g3-e6\",\n    name: \"Closed Sicilian: g3 setup vs ...e6\",\n    description: \"Closed Sicilian where Black chooses ...e6 and ...d5 ideas, staying flexible and solid.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"e6\", \"Bg2\", \"Nge7\", \"d3\", \"d5\", \"exd5\", \"exd5\", \"Nf3\", \"Be6\", \"O-O\", \"Bd7\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian structure, fight for d4.\",\n      \"Closed move order, develop and keep d pawn back.\",\n      \"Develop and pressure d4.\",\n      \"Prepare Bg2 and a slower kingside buildup.\",\n      \"Solid, opens the dark bishop and keeps ...d5 in mind.\",\n      \"Fianchetto bishop, supports central control.\",\n      \"Develop without blocking the c pawn and support ...d5.\",\n      \"Keep the center closed and support e4.\",\n      \"The typical break in this structure, challenge white's e4 and fight for central equality.\",\n      \"Simplify the tension and avoid allowing ...d4 later.\",\n      \"Recapture and keep a central pawn presence, opening lines for pieces.\",\n      \"Develop, defend e5 and prepare to castle.\",\n      \"Develop and support ...d4 ideas if White is careless.\",\n      \"Castle and get king safe, keeping plans flexible.\",\n      \"Develop and support central control, aiming for ...O-O soon.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-f4-plan-quick\",\n    name: \"Closed Sicilian: quick f4 plan\",\n    description: \"Closed Sicilian where White plays d3 and f4. Black responds with ...g6 and ...Bg7, then ...d6.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"f4\", \"e6\", \"Nf3\", \"Nge7\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes space and keeps options open.\",\n      \"Sicilian counterplay.\",\n      \"Closed move order, develop and keep d pawn flexible.\",\n      \"Develop and contest key central squares.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Fianchetto structure for black as well.\",\n      \"Bishop supports central breaks and kingside play.\",\n      \"Black mirrors and sets long diagonal pressure.\",\n      \"Keep center closed and prepare f4 without losing e4.\",\n      \"Solid support, keeps ...e5 available.\",\n      \"Main Closed Sicilian plan, expand on kingside and aim for f5.\",\n      \"Solid, prepares ...Nge7 and keeps the center flexible.\",\n      \"Develop and support e5 and g5 squares before pushing further.\",\n      \"Develop and keep ...d5 and ...f5 options open.\",\n      \"Castle and get the rook to the f file behind the f pawn.\",\n      \"Castle and prepare to meet kingside play with central or queenside counterplay.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-early-nge7-0-0\",\n    name: \"Closed Sicilian: ...Nge7 and quick castling\",\n    description: \"Simple Closed Sicilian plan for Black: develop pieces, castle, then decide between ...d6 or ...d5 based on White's setup.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"e6\", \"Be3\", \"Nge7\", \"Qd2\", \"O-O\", \"f4\", \"d6\", \"Nf3\", \"f5\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay and imbalance.\",\n      \"Closed Sicilian structure, develop and keep d pawn back.\",\n      \"Develop and control d4 and e5.\",\n      \"Commit to fianchetto and a slower plan.\",\n      \"Black fianchetto, keeping a flexible structure.\",\n      \"Develop bishop and strengthen kingside.\",\n      \"Develop bishop and control central squares.\",\n      \"Closed center, support e4.\",\n      \"Develop, keep ...d5 available, and support ...f5 ideas later.\",\n      \"Develop and keep options for Qd2 and f4.\",\n      \"King safety and connect rooks before committing to pawn breaks.\",\n      \"Typical Closed Sicilian coordination, support f4 and connect rooks.\",\n      \"Solidify the center and keep ...e5 available later.\",\n      \"Start the main kingside expansion plan.\",\n      \"Directly challenge the f pawn and claim space, a common practical reaction.\",\n      \"Keep development consistent and the move order legal.\",\n      \"Keep development consistent and the move order legal.\"\n    ]\n  },\n  {\n    id: \"sicilian-closed-e5-clamp\",\n    name: \"Closed Sicilian: early ...e5 clamp\",\n    description: \"Black plays an early ...e5 to clamp down on f4 and seize central space. A very common practical response.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"e5\", \"Nf3\", \"d6\", \"O-O\", \"Nge7\", \"Be3\", \"O-O\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay, fight for d4.\",\n      \"Closed Sicilian structure, flexible development.\",\n      \"Develop and reinforce central control.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Black mirrors with a fianchetto.\",\n      \"Bishop supports kingside play and central control.\",\n      \"Black completes the fianchetto.\",\n      \"Keep the center closed and support e4.\",\n      \"Key move. Black clamps down on f4 and claims space, forcing White to find slower plans.\",\n      \"Develop and prepare to castle, keeping options for f4 later.\",\n      \"Support the e5 pawn and keep the position solid.\",\n      \"Castle before committing to pawn pushes.\",\n      \"Develop and keep ...f5 and ...Be6 options available.\",\n      \"Develop and support queenside safety or a later f4 push.\",\n      \"Castle and finish basic development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-botvinnik-style\",\n    name: \"Closed Sicilian: Botvinnik-style buildup\",\n    description: \"Classic Closed Sicilian plan with Be3, Qd2, and f4 ideas. Slow but dangerous kingside buildup.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"Be3\", \"e6\", \"Qd2\", \"Nf6\", \"f4\", \"O-O\", \"Nf3\", \"Rb8\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian structure.\",\n      \"Closed setup, avoid early d4.\",\n      \"Develop and contest central squares.\",\n      \"Prepare Bg2 and a kingside plan.\",\n      \"Black fianchetto structure.\",\n      \"Strong diagonal pressure.\",\n      \"Black mirrors development.\",\n      \"Solidify the center.\",\n      \"Support ...e5 and keep structure flexible.\",\n      \"Key Botvinnik idea, supports Qd2 and f4.\",\n      \"Flexible development, keeps ...f5 ideas alive.\",\n      \"Prepare f4, Bh6, and potential kingside pressure.\",\n      \"Castle and get the king safe before counterplay starts.\",\n      \"Commit to kingside space and prepare f5 attacks.\",\n      \"Practical queenside prep, often supports ...b5.\",\n      \"Develop and connect the king side pieces before pushing more pawns.\",\n      \"Keep development consistent and the move order legal.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-direct-d5-break\",\n    name: \"Closed Sicilian: direct ...d5 break\",\n    description: \"Black challenges the center immediately with ...d5. White must understand the structure, not memorize moves.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"e6\", \"Bg2\", \"d5\", \"exd5\", \"exd5\", \"d3\", \"Nf6\", \"Nge2\", \"Bd6\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay.\",\n      \"Closed Sicilian move order.\",\n      \"Develop and pressure d4.\",\n      \"Prepare a fianchetto.\",\n      \"Solid setup, opens dark-square bishop.\",\n      \"Develop bishop and support the center.\",\n      \"Critical break. Black immediately challenges e4 and aims for central equality.\",\n      \"Remove the central tension and avoid allowing ...d4 at the wrong moment.\",\n      \"Recapture and keep central presence, opening lines for pieces.\",\n      \"Return to a Closed structure and support e4.\",\n      \"Develop and hit e4, forcing White to keep defending the center.\",\n      \"Develop and keep f-pawn flexible for f4 ideas.\",\n      \"Develop actively and support kingside castling.\",\n      \"Castle and get king safe.\",\n      \"Castle and finish development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-rb8-queenside\",\n    name: \"Closed Sicilian: ...Rb8 queenside expansion\",\n    description: \"Black prepares queenside play early instead of committing to central breaks. Common in practical games.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"Rb8\", \"f4\", \"b5\", \"Nf3\", \"b4\", \"Ne2\", \"a5\"],\n    explanations: [\n      \"White claims central space.\",\n      \"Sicilian structure.\",\n      \"Closed Sicilian setup.\",\n      \"Develop and contest central squares.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Black mirrors with a fianchetto.\",\n      \"Develop bishop on the long diagonal.\",\n      \"Black completes development.\",\n      \"Keep the center closed and flexible.\",\n      \"Prepare ...b5 and queenside expansion without committing the center.\",\n      \"White starts kingside play and prepares f5.\",\n      \"Black expands on the queenside and aims to open files.\",\n      \"Develop and prepare to castle before pushing more.\",\n      \"Gain space and kick the knight, trying to open lines on the queenside.\",\n      \"Re-route the knight and keep the center stable.\",\n      \"Support queenside expansion and prepare ...a4 in some lines.\"\n    ]\n  },\n\n\n\n  {\n    id: \"sicilian-qxd4-line-early-queen\",\n    name: \"Sideline: early Qxd4 and ...Nc6 hit\",\n    description: \"White recaptures with the queen, Black develops with tempo and equalizes quickly.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Qxd4\", \"Nc6\", \"Bb5\", \"Bd7\", \"Bxc6\", \"Bxc6\", \"Nc3\", \"Nf6\", \"Bg5\", \"e6\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid support of the center.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"Early queen recapture, but it can be hit with tempo.\",\n      \"Develop and attack the queen immediately.\",\n      \"Pin and keep pressure while avoiding queen harassment.\",\n      \"Break the pin and develop.\",\n      \"Trade to reduce black development and simplify.\",\n      \"Recapture, maintain structure and development.\",\n      \"Develop and keep the queen supported on d4 if needed.\",\n      \"Develop and hit e4, also prepares ...e6.\",\n      \"Develop and pin the knight, aiming for pressure on d8/a5 lines.\",\n      \"Solidify the center and open the dark bishop.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-bg5-h6-bh4-nxe4-core\",\n    name: \"Dragon: Bg5 and ...Nxe4 tactic core\",\n    description: \"Bg5 lines where ...Nxe4 appears as a central tactic and trades follow.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\", \"Bg5\", \"Bg7\", \"Qd2\", \"h6\", \"Bh4\", \"Nc6\", \"O-O-O\", \"Nxe4\", \"Nxe4\", \"Nxd4\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare d4.\",\n      \"Solid, control e5.\",\n      \"Open center.\",\n      \"Exchange and open lines.\",\n      \"White develops with recapture.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon setup.\",\n      \"Pin the knight and increase pressure.\",\n      \"Develop bishop and keep pressure on diagonal.\",\n      \"Support long castle and coordination.\",\n      \"Ask the bishop a question and gain luft.\",\n      \"Keep the pin and avoid giving up bishop pair.\",\n      \"Develop and pressure d4.\",\n      \"Commit to queenside castling and attack.\",\n      \"Tactical grab in the center, testing white coordination.\",\n      \"White recaptures to avoid losing pawn and keep pieces active.\",\n      \"Follow up by trading the centralized knight and simplifying.\"\n    ]\n  },\n\n  {\n    category: \"Closed Sicilian\",\n    id: \"sicilian-closed-classical-f4-g3\",\n    name: \"Closed Sicilian: Classical f4-g3 setup\",\n    description: \"Slow kingside buildup with f4, g3, Bg2, and long maneuvering plans.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"g3\", \"d6\", \"Bg2\", \"e6\", \"O-O\", \"Nge7\", \"d3\", \"O-O\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Sicilian structure.\",\n      \"Avoid Open Sicilian and keep structure closed.\",\n      \"Develop and control d4.\",\n      \"Gain kingside space and signal attack.\",\n      \"Prepare kingside fianchetto.\",\n      \"Develop and support center.\",\n      \"Bishop on long diagonal.\",\n      \"Prepare Bg2 and solid king safety.\",\n      \"Solidify center.\",\n      \"Complete fianchetto.\",\n      \"Control d5 and prepare ...Nge7.\",\n      \"King safety.\",\n      \"Flexible knight, supports ...d5 breaks.\",\n      \"Lock the center and prepare f5 or Be3.\",\n      \"Castle and connect rooks, preparing ...d5 breaks later.\"\n    ]\n  },\n  {\n    category: \"Closed Sicilian\",\n    id: \"sicilian-closed-kingside-storm-f5\",\n    name: \"Closed Sicilian: Kingside storm with f5\",\n    description: \"Direct pawn expansion. Risky but common at club level.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"f5\", \"d6\", \"g4\", \"h5\", \"gxh5\", \"gxh5\", \"d3\", \"Nf6\"],\n    explanations: [\n      \"Central space.\",\n      \"Asymmetry.\",\n      \"Closed Sicilian choice.\",\n      \"Develop.\",\n      \"Kingside expansion.\",\n      \"Prepare defense.\",\n      \"Develop.\",\n      \"Fianchetto bishop.\",\n      \"Close the center and start attack.\",\n      \"Stabilize.\",\n      \"Space grab, very committal.\",\n      \"Typical counter, creates targets.\",\n      \"Open the g-file and change the structure on the wing.\",\n      \"Recapture and keep material equal while opening lines.\",\n      \"Support the center and prepare piece development behind the pawn storm.\",\n      \"Develop and challenge e4 and g4 squares.\"\n    ]\n  },\n\n];\n","// src/openings/ruyLopezLines.js\n\n// SEO / page intro text for Ruy Lopez drills\nexport const ruyLopezSEOText = `\nThe Ruy Lopez (Spanish Opening) starts with 1.e4 e5 2.Nf3 Nc6 3.Bb5.\nWhite pressures the e5 pawn and usually aims for long-term positional pressure,\nwhile Black can choose between solid defenses and sharp counterplay.\n\nThis page provides Ruy Lopez move-order drills focused on repetition, not theory dumps.\nEach line is a concrete sequence you can practice until the moves feel automatic.\n`;\n\n\nexport const ruyLopezLines = [\n  // Categories: Morphy Defense, Berlin Defense, Steinitz Defense, Classical (3...Bc5), Schliemann, Tactical sidelines\n\n  {\n    category: \"Steinitz Defense\",\n    id: \"ruy-steinitz-exchange-endgame-qxd8\",\n    name: \"Steinitz: Exchange and early queen trade\",\n    description: \"3...d6 with 4.d4 and Bxc6+. White trades queens and wins the e5 pawn.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"d6\",\"d4\",\"a6\",\"Bxc6+\",\"bxc6\",\"dxe5\",\"dxe5\",\"Qxd8+\",\"Kxd8\",\"Nxe5\"],\n    explanations: [\n      \"Take the center and open lines for development.\",\n      \"Black mirrors and keeps equal central space.\",\n      \"Develop and attack e5.\",\n      \"Defend e5 and develop a piece.\",\n      \"Pin the knight and pressure e5 indirectly.\",\n      \"Steinitz style: protect e5 and build a solid center.\",\n      \"Hit the center immediately and open the position.\",\n      \"Kick the bishop and gain queenside space.\",\n      \"Trade the knight structure and remove the defender of e5.\",\n      \"Recapture and accept doubled pawns for the bishop pair and open files.\",\n      \"Take the pawn and force Black to recapture, opening lines.\",\n      \"Recapture and keep central presence.\",\n      \"Trade queens into an endgame where e5 is harder to hold.\",\n      \"Forced king recapture, queens are off.\",\n      \"Win the loose e5 pawn and centralize a knight.\"\n    ]\n  },\n\n  {\n    category: \"Steinitz Defense\",\n    id: \"ruy-steinitz-exchange-qxd8-rxd8\",\n    name: \"Steinitz: Exchange with ...Bg4 and queen trade\",\n    description: \"Similar structure, but Black pins with ...Bg4 and recaptures with the rook after Qxd8+.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"d6\",\"d4\",\"a6\",\"Bxc6+\",\"bxc6\",\"dxe5\",\"Bg4\",\"O-O\",\"dxe5\",\"Qxd8+\",\"Rxd8\",\"Nxe5\"],\n    explanations: [\n      \"Claim the center and open lines.\",\n      \"Mirror the center.\",\n      \"Develop and pressure e5.\",\n      \"Defend e5 and develop.\",\n      \"Pin pressure on c6 and e5.\",\n      \"Solid defense of e5.\",\n      \"Challenge the center right away.\",\n      \"Ask the bishop to decide and gain space.\",\n      \"Trade on c6 to weaken Black's pawn structure.\",\n      \"Recapture and open the b file.\",\n      \"Take on e5 and force Black to respond.\",\n      \"Develop with tempo, pinning and adding pressure to the center.\",\n      \"Castle for king safety and connect rooks.\",\n      \"Recapture and restore material balance.\",\n      \"Trade queens to simplify and make e5 a target.\",\n      \"Rook recaptures to keep the king safer and activate a rook.\",\n      \"Take the e5 pawn and centralize.\"\n    ]\n  },\n\n  {\n    category: \"Steinitz Defense\",\n    id: \"ruy-steinitz-d4-exd4-nxd4-qd4-0-0-0\",\n    name: \"Steinitz: d4 strike and long castling plan\",\n    description: \"3...d6 4.d4 exd4 5.Nxd4 with active development and long castling.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"d6\",\"d4\",\"exd4\",\"Nxd4\",\"Bd7\",\"Nc3\",\"Nxd4\",\"Bxd7+\",\"Qxd7\",\"Qxd4\",\"Nf6\",\"Bf4\",\"Be7\",\"O-O-O\",\"O-O\",\"e5\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Match the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure on c6 and e5.\",\n      \"Defend e5 and keep a compact structure.\",\n      \"Immediate central break, forcing early decisions.\",\n      \"Take on d4 to relieve central pressure.\",\n      \"Recapture with development and central control.\",\n      \"Develop and challenge the pinned bishop indirectly.\",\n      \"Develop and support e4 and d5 squares.\",\n      \"Trade off the active knight and reduce White's central control.\",\n      \"Trade bishops with check to damage coordination.\",\n      \"Recapture and keep development going.\",\n      \"Trade queens to simplify while keeping a space edge.\",\n      \"Develop and hit e4, preparing ...Be7 and ...O-O.\",\n      \"Develop and pressure the center, also supports long castling.\",\n      \"Develop and prepare to castle.\",\n      \"Long castle and launch kingside play with rooks connected.\",\n      \"Castle and finish basic king safety.\",\n      \"Gain space and cramp Black's pieces, typical when queens are off.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-classical-bc5-c3-d4-kf1-qa4\",\n    name: \"Classical: early ...Bc5 and Kf1 sideline\",\n    description: \"Sharp sideline with ...Bb4+ and Kf1, then Qa4 ideas.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Bc5\",\"c3\",\"d6\",\"d4\",\"exd4\",\"cxd4\",\"Bb4+\",\"Kf1\",\"Bd7\",\"Qa4\",\"a5\",\"a3\"],\n    explanations: [\n      \"Open the game and claim space.\",\n      \"Mirror and contest the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Pressure the knight and e5 pawn.\",\n      \"Classical: develop actively with the bishop on c5.\",\n      \"Prepare d4 and give the bishop an escape square on c2 if needed.\",\n      \"Support e5 and build a solid center.\",\n      \"Break in the center and open lines.\",\n      \"Capture to reduce White's central presence.\",\n      \"Recapture with a pawn to build a strong center.\",\n      \"Check and develop, forcing White to respond.\",\n      \"Step out of check and keep options open, sometimes avoiding quick castling lines.\",\n      \"Develop and cover key squares, also supports ...Nf6 later.\",\n      \"Hit the bishop on b4 and aim to trade or win tempo.\",\n      \"Gain queenside space and stop Qa4 tactics from becoming annoying later.\",\n      \"Chase the bishop and keep expanding.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-classical-bc5-c3-nf6-e5-ng4\",\n    name: \"Classical: ...Nf6 and e5 push\",\n    description: \"White pushes e5 and Black jumps Ng4, leading to sharp play.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Bc5\",\"c3\",\"Nf6\",\"d4\",\"exd4\",\"e5\",\"Ng4\",\"cxd4\",\"Bb4+\",\"Nc3\",\"O-O\",\"O-O\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Match the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Develop actively and aim at f2.\",\n      \"Prepare d4 and support a future d4 push.\",\n      \"Develop and attack e4 and g4 squares.\",\n      \"Strike in the center.\",\n      \"Capture to reduce central pressure.\",\n      \"Advance and gain space, also attack the f6 knight.\",\n      \"Jump forward to create threats on f2 and e5 squares.\",\n      \"Recapture and build a strong pawn center.\",\n      \"Check to disrupt development and win time.\",\n      \"Block the check with development.\",\n      \"Castle and connect rooks, keeping pressure.\",\n      \"Castle and finish king safety, accepting the sharp structure.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-berlin-endgame-nxe5-bd6-nf3\",\n    name: \"Berlin: simplified endgame skeleton\",\n    description: \"Berlin endgame ideas with early ...Bd6 and Nf3 retreat.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Nf6\",\"O-O\",\"a6\",\"Bxc6\",\"dxc6\",\"Nxe5\",\"Bd6\",\"Nf3\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and pressure e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Berlin: attack e4 and invite early simplification.\",\n      \"Castle and keep the king safe.\",\n      \"Kick the bishop and gain queenside space.\",\n      \"Trade to remove the pin and damage structure.\",\n      \"Recapture with a pawn, opening the d file and bishop.\",\n      \"Grab the e5 pawn, often leading to endgame structures.\",\n      \"Develop and hit the e5 knight, regaining the pawn.\",\n      \"Retreat and keep the extra structure, aiming for a playable endgame.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-berlin-qd4-queen-trade\",\n    name: \"Berlin: queen trade with ...Qd4\",\n    description: \"Berlin line where Black hits with ...Qd4 and queens get traded quickly.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Nf6\",\"O-O\",\"a6\",\"Bxc6\",\"dxc6\",\"Nxe5\",\"Qd4\",\"Nf3\",\"Qxe4\",\"Re1\",\"Qxe1+\",\"Qxe1+\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Pressure and pin the knight.\",\n      \"Berlin, immediate counter to e4.\",\n      \"Castle before grabbing material.\",\n      \"Kick the bishop and force a decision.\",\n      \"Trade to reduce pressure and simplify.\",\n      \"Recapture and open lines.\",\n      \"Take the e5 pawn and test Black's tactics.\",\n      \"Central queen move, hitting e4 and creating threats.\",\n      \"Develop and attack the queen, also protect key squares.\",\n      \"Queen takes e4, grabbing material and threatening tactics.\",\n      \"Pin and attack the queen and e-file pieces.\",\n      \"Trade queens on e1 by force.\",\n      \"Recapture with check, ending the queen sequence.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-berlin-open-bc5-nxe5-attack\",\n    name: \"Berlin: open game with ...Bc5 and tactics\",\n    description: \"Berlin with ...Bc5, Nxe5 and a tactical conversion sequence.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Nf6\",\"O-O\",\"Bc5\",\"Nxe5\",\"Nxe5\",\"d4\",\"Bd6\",\"dxe5\",\"Bxe5\",\"f4\",\"Bd6\",\"e5\",\"Bc5+\",\"Kh1\",\"Ne4\",\"Qe2\",\"Nf2+\",\"Rxf2\",\"Bxf2\",\"Qxf2\"],\n    explanations: [\n      \"Take the center.\",\n      \"Mirror the center.\",\n      \"Develop and pressure e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Berlin development, hit e4.\",\n      \"Castle for safety.\",\n      \"Develop actively with pressure on f2.\",\n      \"Take the e5 pawn and open tactics.\",\n      \"Recapture and keep material balance.\",\n      \"Central break, open lines while pieces are uncoordinated.\",\n      \"Retreat bishop to a solid square, keeping pressure.\",\n      \"Take on e5 and open the center further.\",\n      \"Recapture and keep piece activity.\",\n      \"Hit the center and support e5 advances later.\",\n      \"Retreat and keep pieces defending key squares.\",\n      \"Advance and gain space, forcing piece retreats.\",\n      \"Check to gain time and activate the bishop.\",\n      \"Step away from check and keep king safe.\",\n      \"Centralize the knight, creating tactical threats.\",\n      \"Put the queen on a safer square and defend key points.\",\n      \"Fork ideas show up here, forcing a response.\",\n      \"Forced capture to avoid losing the queen or king safety.\",\n      \"Recapture and keep initiative.\",\n      \"Queen recaptures and survive the tactic with material still in play.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-berlin-mate-attack-qg7\",\n    name: \"Berlin: tactical mate pattern\",\n    description: \"A forcing line where White's queen and bishop coordinate for mate.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Nf6\",\"O-O\",\"Bc5\",\"Nxe5\",\"Nxe5\",\"d4\",\"Bxd4\",\"Qxd4\",\"Nc6\",\"Bxc6\",\"bxc6\",\"Bg5\",\"O-O\",\"e5\",\"h6\",\"Bh4\",\"g5\",\"exf6\",\"gxh4\",\"Qg4+\",\"Kh7\",\"Qg7#\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Mirror the center.\",\n      \"Develop and attack e5.\",\n      \"Defend e5 and develop.\",\n      \"Ruy Lopez pressure.\",\n      \"Berlin move order, hit e4.\",\n      \"Castle for safety.\",\n      \"Develop actively and aim at f2.\",\n      \"Take pawn and open tactics.\",\n      \"Recapture and keep material balance.\",\n      \"Central break to open lines.\",\n      \"Bishop takes to grab material and activate.\",\n      \"Queen recaptures and centralizes, threatening tactics.\",\n      \"Develop with tempo and hit the queen.\",\n      \"Trade off the defender and weaken structure.\",\n      \"Recapture and open lines for rooks and bishops.\",\n      \"Pin and develop, aiming at the king.\",\n      \"Castle and connect rooks.\",\n      \"Push e5 to open lines and create threats on f6.\",\n      \"Force a decision on the bishop and create luft.\",\n      \"Retreat and keep the bishop aimed at f6 squares.\",\n      \"Aggressive pawn push to attack the bishop and open files.\",\n      \"Capture to open lines and create a passed pawn and threats.\",\n      \"Recapture and open the g file and h file.\",\n      \"Check and force the king to the corner.\",\n      \"Only move to avoid immediate mate.\",\n      \"Mate on g7 with queen support.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-morphy-archangel-ng5-qh5\",\n    name: \"Morphy: Ng5 and Qh5 attack idea\",\n    description: \"Classic Morphy structure with e5 and an early queen sortie.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"Nf6\",\"d4\",\"exd4\",\"O-O\",\"Bc5\",\"e5\",\"Nd5\",\"Bb3\",\"Nb6\",\"Ng5\",\"O-O\",\"Qh5\"],\n    explanations: [\n      \"Take space and open lines.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Morphy: gain space and ask the bishop to choose.\",\n      \"Retreat and keep pressure on c6.\",\n      \"Develop and attack e4.\",\n      \"Central break and open lines.\",\n      \"Capture to reduce central pressure.\",\n      \"Castle and bring rook to e file.\",\n      \"Develop actively and pressure d4 and f2.\",\n      \"Advance and gain space, hitting pieces.\",\n      \"Centralize the knight and challenge e5.\",\n      \"Retreat bishop to keep pressure and avoid tactics.\",\n      \"Retreat knight to keep pressure and avoid being kicked.\",\n      \"Jump in with an attack idea on f7 and e6.\",\n      \"Castle for safety and defend f7.\",\n      \"Queen joins quickly aiming at f7 and h7 patterns.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-morphy-archangel-nde7-h6-nxf7\",\n    name: \"Morphy: Nde7 and Nxf7 sacrifice\",\n    description: \"Aggressive line where White sacrifices on f7 to open the king.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"Nf6\",\"d4\",\"exd4\",\"O-O\",\"Bc5\",\"e5\",\"Nd5\",\"Bb3\",\"Nde7\",\"Ng5\",\"O-O\",\"Qh5\",\"h6\",\"Nxf7\",\"Rxf7\",\"Bxf7+\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and pressure e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Morphy structure, gain space and tempo.\",\n      \"Keep the bishop active.\",\n      \"Develop and hit e4.\",\n      \"Central break.\",\n      \"Capture in the center.\",\n      \"Castle and activate rook.\",\n      \"Develop actively.\",\n      \"Advance and gain space.\",\n      \"Knight centralizes to hit e5 and c3.\",\n      \"Bishop retreat, keep pressure.\",\n      \"Knight retreats to a defensive square, covering key points.\",\n      \"Jump in to threaten tactics on f7.\",\n      \"Castle for safety.\",\n      \"Queen joins the attack on the kingside.\",\n      \"Push to kick the queen and create luft, but it can weaken g6.\",\n      \"Sacrifice to open lines and drag the king's pieces away.\",\n      \"Forced recapture to avoid losing material outright.\",\n      \"Check and pull the king into an exposed position.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-morphy-closed-be7-ne4-nxa4\",\n    name: \"Morphy: Be7 and Ne4 tactical grab\",\n    description: \"Closed Morphy where Black plays ...Be7 and White goes for Nf5 and material tactics.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"Nf6\",\"d4\",\"exd4\",\"O-O\",\"Be7\",\"e5\",\"Ne4\",\"Nxd4\",\"Nc5\",\"Nf5\",\"Nxa4\",\"Nxg7+\",\"Kf8\",\"Bh6\",\"Kg8\",\"f4\",\"d6\",\"e6\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Morphy: gain space and tempo on the bishop.\",\n      \"Retreat and keep pressure.\",\n      \"Develop and hit e4.\",\n      \"Central break and open lines.\",\n      \"Capture to reduce White's center.\",\n      \"Castle for safety.\",\n      \"Develop and prepare to castle, also defend e5.\",\n      \"Gain space and attack the f6 knight.\",\n      \"Knight jumps to an outpost, centralizing and hitting key squares.\",\n      \"Recapture in the center and keep development.\",\n      \"Knight move creates pressure and supports ...d6 ideas.\",\n      \"Jump into f5, aiming at g7 and h6 squares.\",\n      \"Grab the bishop, accepting risk for material.\",\n      \"Check and fork idea, forcing king movement.\",\n      \"King steps away from checks.\",\n      \"Bishop develops with tempo and eyes g7.\",\n      \"King steps to a safer square, but remains under pressure.\",\n      \"Build a pawn chain and support kingside attack.\",\n      \"Support e5 and keep the center solid.\",\n      \"Push through and try to open lines against the king.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-morphy-open-d6-qxd8-kxd8-ng5-nf7\",\n    name: \"Morphy: early queen trade and Ng5-Nf7 fork\",\n    description: \"Open Morphy with ...d6 and early Qxd8+, then a knight fork sequence.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"b5\",\"Bb3\",\"Nf6\",\"d4\",\"d6\",\"dxe5\",\"dxe5\",\"Qxd8+\",\"Kxd8\",\"Ng5\",\"Be6\",\"Bxe6\",\"fxe6\",\"Nf7+\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Morphy: gain queenside space.\",\n      \"Retreat and keep pressure.\",\n      \"Gain space and support ...Na5 or ...Bb7 ideas.\",\n      \"Retreat to keep the bishop safe and pressure the center.\",\n      \"Develop and hit e4.\",\n      \"Central break and open lines.\",\n      \"Support the center and protect e5.\",\n      \"Take on e5 and open lines.\",\n      \"Recapture and keep central pawn presence.\",\n      \"Trade queens early, aiming for an endgame advantage.\",\n      \"Forced king recapture.\",\n      \"Jump in to create threats and forks.\",\n      \"Develop and hit key squares, also block some checks.\",\n      \"Trade bishop to remove defender.\",\n      \"Forced recapture, opening the f file but weakening king safety.\",\n      \"Fork with check to win material or force concessions.\"\n    ]\n  },\n\n  {\n    category: \"Schliemann\",\n    id: \"ruy-schliemann-f5-re1-d5-c6\",\n    name: \"Schliemann: f5 gambit structure\",\n    description: \"3...f5 (Schliemann) leads to sharp central play and forced tactics.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"f5\",\"Re1\",\"d5\",\"Nxe5\",\"dxe4\",\"Nxc6\",\"Qd5\",\"Nc3\",\"Qf5\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Schliemann gambit: challenge e4 directly and go for initiative.\",\n      \"Support e4 and keep pressure on the e file, also prepare to meet ...fxe4.\",\n      \"Break in the center, trying to open lines immediately.\",\n      \"Grab material and hit central squares, accepting risk.\",\n      \"Capture in the center and open lines against the white king.\",\n      \"Take on c6 and reduce Black's piece activity.\",\n      \"Centralize the queen and keep pressure on e5 and g2 ideas.\",\n      \"Develop and hit the queen, also support e4.\",\n      \"Retreat queen to keep pressure and avoid losing tempo.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-steinitz-bd7-qd3-queen-trade-structure\",\n    name: \"Steinitz: Bd7 and Qd3 queen trade structure\",\n    description: \"3...d6 4.d4 Bd7 5.Nc3 with a queen trade and a stable pawn structure.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"d6\",\"d4\",\"Bd7\",\"Nc3\",\"Nf6\",\"Bxc6\",\"Bxc6\",\"Qd3\",\"Be7\",\"dxe5\",\"dxe5\",\"Nxe5\",\"Qxd3\",\"cxd3\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and pressure e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Steinitz defense, protect e5.\",\n      \"Break in the center.\",\n      \"Develop and challenge the bishop directly.\",\n      \"Develop and support central control.\",\n      \"Develop and prepare to castle.\",\n      \"Trade bishop for knight to weaken pawn structure and remove defender.\",\n      \"Recapture and keep bishop pair.\",\n      \"Queen supports e4 and prepares to recapture after exchanges.\",\n      \"Develop and prepare to castle.\",\n      \"Take on e5 and open lines.\",\n      \"Recapture and keep material balance.\",\n      \"Win the e5 pawn tactically.\",\n      \"Trade queens to simplify and reduce attack chances.\",\n      \"Recapture with a pawn, creating a solid central structure.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-classical-qa4-nge7-d5-queen-wins-a8\",\n    name: \"Classical: Qa4 and Qxa8 tactic\",\n    description: \"Long forcing line where Qa4 targets a8 and Black's queenside becomes loose.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Bc5\",\"c3\",\"d6\",\"d4\",\"exd4\",\"cxd4\",\"Bb4+\",\"Kf1\",\"Bd7\",\"Qa4\",\"Nge7\",\"d5\",\"a6\",\"dxc6\",\"axd5\",\"cxd7+\",\"Qxd7\",\"Qxa8+\"],\n    explanations: [\n      \"Open the center.\",\n      \"Mirror the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Classical active bishop development.\",\n      \"Prepare d4 and stabilize the center.\",\n      \"Support the center and keep pieces flexible.\",\n      \"Break in the center.\",\n      \"Capture to reduce White's central space.\",\n      \"Recapture and build a pawn center.\",\n      \"Check to disrupt and win tempo.\",\n      \"Step out of check while keeping pieces on the board.\",\n      \"Develop and cover key squares.\",\n      \"Target the loose bishop and create tactical threats on a8.\",\n      \"Develop and prepare to castle, also cover c6 and d5 squares.\",\n      \"Advance pawn to gain space and create a passed pawn threat.\",\n      \"Kick the pawn chain and create targets.\",\n      \"Capture on c6, removing the knight and opening the b file.\",\n      \"Capture back to try to keep material balanced and open lines.\",\n      \"Pawn captures with check, forcing a response and opening the center.\",\n      \"Queen recaptures and tries to stabilize.\",\n      \"Win the rook on a8 with check.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-morphy-b5-nxd4-qxa8\",\n    name: \"Morphy: b5 and early Qxa8 tactic\",\n    description: \"Offbeat line where White grabs the rook on a8 after queenside tactics.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"b5\",\"Bb3\",\"Nf6\",\"d4\",\"Nxd4\",\"Nxd4\",\"exd4\",\"e5\",\"Ne4\",\"Qf3\",\"d5\",\"exd6\",\"Nxd6\",\"Qxa8\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Gain queenside space and ask the bishop to decide.\",\n      \"Retreat and keep pressure.\",\n      \"Gain space and support queenside expansion.\",\n      \"Keep the bishop safe.\",\n      \"Develop and hit e4.\",\n      \"Central break.\",\n      \"Knight takes in the center, grabbing material and forcing exchanges.\",\n      \"Recapture and keep development.\",\n      \"Pawn recaptures, opening the e file and center.\",\n      \"Gain space and hit the knight.\",\n      \"Centralize and hit key squares.\",\n      \"Target the loose pieces and threaten tactics.\",\n      \"Central pawn break to open lines.\",\n      \"Capture and create a passed pawn and open lines.\",\n      \"Recapture and block the pawn, keeping pieces active.\",\n      \"Grab the rook, accepting that the queen may be trapped in some lines.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-morphy-b5-qxa8-ng8\",\n    name: \"Morphy: Qxa8 and ...Ng8 retreat\",\n    description: \"Similar idea, but Black retreats the knight to keep the queen trap threat alive.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"b5\",\"Bb3\",\"Nf6\",\"d4\",\"Nxd4\",\"Nxd4\",\"exd4\",\"e5\",\"Ng8\",\"Qf3\",\"Qe7\",\"Qxa8\"],\n    explanations: [\n      \"Claim the center.\",\n      \"Match the center.\",\n      \"Develop and attack e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Gain space and tempo.\",\n      \"Retreat and keep pressure.\",\n      \"Gain space and support queenside play.\",\n      \"Keep the bishop safe.\",\n      \"Develop and hit e4.\",\n      \"Central break.\",\n      \"Take on d4, grabbing material and forcing exchanges.\",\n      \"Recapture and keep development.\",\n      \"Pawn recaptures and opens lines.\",\n      \"Gain space and hit the knight.\",\n      \"Retreat to keep the position intact and cover key squares.\",\n      \"Queen targets f7 and supports tactics.\",\n      \"Defend and keep the queen from being hit with tempo.\",\n      \"Grab the rook, accepting the queen adventure.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-morphy-open-nxe4-re1-core\",\n    name: \"Morphy: ...Nxe4 and Re1 pressure\",\n    description: \"Open Morphy with ...Nxe4 and the standard Re1 follow-up.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"a6\",\"Ba4\",\"Nf6\",\"d4\",\"exd4\",\"O-O\",\"Nxe4\",\"Re1\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Gain queenside space and tempo on the bishop.\",\n      \"Retreat and keep pressure.\",\n      \"Develop and hit e4.\",\n      \"Central break and open lines.\",\n      \"Capture to reduce White's center.\",\n      \"Castle and activate rook.\",\n      \"Grab the e4 pawn, challenging White to prove compensation.\",\n      \"Hit the knight and e file immediately, the standard response.\"\n    ]\n  },\n\n  {\n    category: \"Tactical sidelines\",\n    id: \"ruy-classical-bc5-c3-d4-bb6-d5\",\n    name: \"Classical: Bb6 retreat and d5 wedge\",\n    description: \"After ...Bb6, White wedges with d5 and can win material on c6.\",\n    moves: [\"e4\",\"e5\",\"Nf3\",\"Nc6\",\"Bb5\",\"Bc5\",\"c3\",\"d6\",\"d4\",\"exd4\",\"cxd4\",\"Bb6\",\"d5\",\"a6\",\"Ba4\",\"Bd7\",\"dxc6\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Match the center.\",\n      \"Develop and hit e5.\",\n      \"Develop and defend e5.\",\n      \"Ruy Lopez pressure.\",\n      \"Develop actively with pressure.\",\n      \"Prepare d4 and keep structure solid.\",\n      \"Support e5 and keep the position compact.\",\n      \"Break in the center.\",\n      \"Capture to reduce White's center.\",\n      \"Recapture with a pawn and build a strong center.\",\n      \"Retreat bishop to keep it safe and maintain pressure on d4.\",\n      \"Advance and gain space, cramping Black's pieces.\",\n      \"Kick the bishop and create a target on b5 lines.\",\n      \"Retreat and keep the bishop safe.\",\n      \"Develop and try to challenge the center.\",\n      \"Pawn captures on c6, removing the knight and winning material.\"\n    ]\n  },\n\n\n  // Added from your provided Ruy Lopez line list (missing in the file)\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-053f0c50f2\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"d6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Kf1\", \"a6\", \"Bxc6+\", \"bxc6\", \"Qa4\", \"a5\", \"a3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Kf1: sidestep the check without committing to castling yet.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Qa4: hit c6 or b4 and create tactical threats along the a4 e8 diagonal.\",\n      \"Pawn move: restrict a piece and prepare the next break.\",\n      \"Pawn move: restrict a piece and prepare the next break.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-2fa3953894\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Nxe4\", \"d4\", \"exd4\", \"Re1\", \"d5\", \"Nxd4\", \"Bd7\", \"Bxc6\", \"bxc6\", \"f3\", \"Bc5\", \"fxe4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Pawn move: restrict a piece and prepare the next break.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"Capture on e4: resolve tension and change the pawn structure.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-81ded5b5a0\",\n    name: \"Classical: Qxa8\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"d6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Kf1\", \"Bd7\", \"Qa4\", \"Nge7\", \"d5\", \"a6\", \"dxc6\", \"axb5\", \"cxd7+\", \"Qxd7\", \"Qxa8+\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Kf1: sidestep the check without committing to castling yet.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Qa4: hit c6 or b4 and create tactical threats along the a4 e8 diagonal.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Capture on b5: resolve tension and change the pawn structure.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"Q captures on d7: remove a defender and keep the initiative.\",\n      \"Give check with the queen: force a king response and grab tempo.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-4802aaf6c6\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Bc5\", \"Nxe5\", \"Nxe5\", \"d4\", \"Bd6\", \"dxe5\", \"Bxe5\", \"f4\", \"Bd6\", \"e5\", \"Bc5+\", \"Kh1\", \"Ne4\", \"Qe2\", \"c6\", \"Bd3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"B captures on e5: remove a defender and keep the initiative.\",\n      \"f4: support e5 or attack a centralized piece, also gains kingside space.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Consolidate and reduce tactical problems before committing further.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-2ce740e560\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"b5\", \"Bb3\", \"Bc5\", \"e5\", \"Ng4\", \"Bd5\", \"O-O\", \"h3\", \"Nh6\", \"Bxh6\", \"gxh6\", \"Nbd2\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Bd5: centralize the bishop, hit f7 and restrict Black's pieces.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"h3: ask the knight or bishop, reduce ...Bg4 or ...Ng4 ideas.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"B captures on h6: remove a defender and keep the initiative.\",\n      \"Capture on h6: resolve tension and change the pawn structure.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-425af5cf0c\",\n    name: \"Morphy: Nxf7\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Bc5\", \"e5\", \"Nd5\", \"Bb3\", \"Nb6\", \"Ng5\", \"Nxe5\", \"Re1\", \"d6\", \"Nxf7\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Ng5: jump toward f7 and e6, often setting up a quick attack.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Sacrifice on f7: deflect the king side pieces and open lines for attack.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-4058641e7e\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"b5\", \"Bb3\", \"Nf6\", \"d4\", \"Nxd4\", \"Nxd4\", \"exd4\", \"e5\", \"Qe7\", \"O-O\", \"Ng8\", \"Qf3\", \"Rb8\", \"Bg5\", \"f6\", \"exf6\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Qf3: pressure f7 and coordinate threats on the kingside.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Bg5: pin a knight and increase pressure on the center and king side.\",\n      \"Pawn move: restrict a piece and prepare the next break.\",\n      \"Capture on f6: resolve tension and change the pawn structure.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-5d157867e5\",\n    name: \"Morphy: Qxa8, Qxd8+\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"b5\", \"Bb3\", \"d6\", \"Ng5\", \"Ne5\", \"f4\", \"Nc4\", \"e5\", \"dxe5\", \"Bxc4\", \"bxc4\", \"fxe5\", \"h6\", \"exf6\", \"hxg5\", \"Qf3\", \"Be6\", \"Qc6+\", \"Bd7\", \"Re1+\", \"Be7\", \"Rxe7+\", \"Qxe7\", \"Qxa8+\", \"Qd8\", \"fxg7\", \"Rg8\", \"Qxd8+\", \"Kxd8\", \"Bxg5+\", \"Kc8\", \"Bf6\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Ng5: jump toward f7 and e6, often setting up a quick attack.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"f4: support e5 or attack a centralized piece, also gains kingside space.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"B captures on c4: remove a defender and keep the initiative.\",\n      \"Capture on c4: resolve tension and change the pawn structure.\",\n      \"Capture on e5: resolve tension and change the pawn structure.\",\n      \"...h6: chase the queen or knight, but it can weaken dark squares.\",\n      \"Capture on f6: resolve tension and change the pawn structure.\",\n      \"Capture on g5: resolve tension and change the pawn structure.\",\n      \"Qf3: pressure f7 and coordinate threats on the kingside.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Give check with the queen: force a king response and grab tempo.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Give check with a rook: force the king to react and win time.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Give check with a rook: force the king to react and win time.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Give check with the queen: force a king response and grab tempo.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Capture on g7: resolve tension and change the pawn structure.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Give check with the queen: force a king response and grab tempo.\",\n      \"Forced king recapture: queens are off, king is central but it's an endgame.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-1c8c409a5a\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"d6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Kf1\", \"Bd7\", \"Qa4\", \"Nge7\", \"d5\", \"a6\", \"dxc6\", \"bxc6\", \"Bd3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Kf1: sidestep the check without committing to castling yet.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Qa4: hit c6 or b4 and create tactical threats along the a4 e8 diagonal.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Develop and improve piece activity, aiming at central squares.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-5735d59f5a\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"d6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Kf1\", \"Bd7\", \"Qa4\", \"Nge7\", \"d5\", \"a6\", \"dxc6\", \"axb5\", \"cxd7+\", \"Kxd7\", \"Qxb4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Kf1: sidestep the check without committing to castling yet.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Qa4: hit c6 or b4 and create tactical threats along the a4 e8 diagonal.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Capture on b5: resolve tension and change the pawn structure.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"K captures on d7: remove a defender and keep the initiative.\",\n      \"Q captures on b4: remove a defender and keep the initiative.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-0d3eb7d1c0\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"b5\", \"Bb3\", \"Nf6\", \"d4\", \"Nxd4\", \"Nxd4\", \"exd4\", \"e5\", \"Ng8\", \"Qf3\", \"d5\", \"Bxd5\", \"Be6\", \"Bxa8\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Qf3: pressure f7 and coordinate threats on the kingside.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"B captures on d5: remove a defender and keep the initiative.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"B captures on a8: remove a defender and keep the initiative.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-12c4d282b9\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"d6\", \"d4\", \"exd4\", \"cxd4\", \"Bb6\", \"d5\", \"a6\", \"Ba4\", \"Ba5+\", \"Nbd2\", \"b5\", \"dxc6\", \"bxa4\", \"Qxa4\", \"Bb6\", \"Nc4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"Give check with the bishop: force a concession and speed development.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Capture on a4: resolve tension and change the pawn structure.\",\n      \"Q captures on a4: remove a defender and keep the initiative.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Consolidate and reduce tactical problems before committing further.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-4156cd74df\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Nxe4\", \"d4\", \"exd4\", \"Re1\", \"f5\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"c6\", \"f3\", \"cxb5\", \"fxe4\", \"fxe4\", \"Rxe4+\", \"Be7\", \"Qxg7\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"...f5: Schliemann style, immediate fight for e4 and initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Q captures on d4: remove a defender and keep the initiative.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Capture on b5: resolve tension and change the pawn structure.\",\n      \"Capture on e4: resolve tension and change the pawn structure.\",\n      \"Capture on e4: resolve tension and change the pawn structure.\",\n      \"Give check with a rook: force the king to react and win time.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Q captures on g7: remove a defender and keep the initiative.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-afa9f0b84b\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"a6\", \"Bxc6\", \"bxc6\", \"Nxe5\", \"Nxe4\", \"Re1\", \"d5\", \"d3\", \"Bd6\", \"dxe4\", \"Bxe5\", \"exd5\", \"f6\", \"f4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"...d5: central counterpunch, try to open lines before White is ready.\",\n      \"Pawn move: support the center or gain space on that wing.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...dxe4: take space in the center and open lines against White.\",\n      \"B captures on e5: remove a defender and keep the initiative.\",\n      \"Capture on d5: resolve tension and change the pawn structure.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"f4: support e5 or attack a centralized piece, also gains kingside space.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-655fa88f42\",\n    name: \"Classical: Qd5\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"e5\", \"Ne4\", \"O-O\", \"dxc3\", \"Qd5\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Capture on c3: resolve tension and change the pawn structure.\",\n      \"Qd5: central queen, creates threats and often targets g2 or a2.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-bf70f658ee\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"d6\", \"Re1\", \"Be7\", \"c3\", \"O-O\", \"d4\", \"exd4\", \"cxd4\", \"Bg4\", \"Nc3\", \"Bxf3\", \"gxf3\", \"a6\", \"Bf1\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"B captures on f3: remove a defender and keep the initiative.\",\n      \"Capture on f3: resolve tension and change the pawn structure.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"This move is mostly about tempo: hit something and force a reply.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-0708f51872\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"d6\", \"Re1\", \"Bd7\", \"c3\", \"Be7\", \"d4\", \"O-O\", \"Ba4\", \"exd4\", \"cxd4\", \"Bg4\", \"Nc3\", \"Bxf3\", \"gxf3\", \"Nh5\", \"f4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"B captures on f3: remove a defender and keep the initiative.\",\n      \"Capture on f3: resolve tension and change the pawn structure.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"f4: support e5 or attack a centralized piece, also gains kingside space.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-418439d828\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Nxe4\", \"d4\", \"Nd6\", \"dxe5\", \"Nxb5\", \"Bg5\", \"Be7\", \"Bxe7\", \"Qxe7\", \"a4\", \"Nbd4\", \"Nxd4\", \"O-O\", \"Nb5\", \"Qxe5\", \"Re1\", \"Qxb2\", \"N1c3\", \"Qb4\", \"Nd5\", \"Qa5\", \"Nbxc7\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"N captures on b5: remove a defender and keep the initiative.\",\n      \"Bg5: pin a knight and increase pressure on the center and king side.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"B captures on e7: remove a defender and keep the initiative.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Q captures on e5: remove a defender and keep the initiative.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"Q captures on b2: remove a defender and keep the initiative.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"N captures on c7: remove a defender and keep the initiative.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-41f4fc0099\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Nxe4\", \"d4\", \"Nd6\", \"dxe5\", \"Nxb5\", \"Bg5\", \"Be7\", \"Bxe7\", \"Qxe7\", \"a4\", \"Nbd4\", \"Nxd4\", \"O-O\", \"Nb5\", \"Qxe5\", \"Re1\", \"Qf4\", \"N1c3\", \"d6\", \"Nd5\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"N captures on b5: remove a defender and keep the initiative.\",\n      \"Bg5: pin a knight and increase pressure on the center and king side.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"B captures on e7: remove a defender and keep the initiative.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Q captures on e5: remove a defender and keep the initiative.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Consolidate and reduce tactical problems before committing further.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-2f808a8a19\",\n    name: \"Open Morphy: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"b5\", \"Bb3\", \"Nf6\", \"d4\", \"Nxe4\", \"dxe5\", \"Nc5\", \"Bd5\", \"Be7\", \"Nc3\", \"O-O\", \"Be3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Bd5: centralize the bishop, hit f7 and restrict Black's pieces.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Consolidate and reduce tactical problems before committing further.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-9ec36a229b\",\n    name: \"Berlin: Qxd8+\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Bc5\", \"Nxe5\", \"Nxe5\", \"d4\", \"Bxd4\", \"Qxd4\", \"Nc6\", \"Bxc6\", \"dxc6\", \"Qxd8+\", \"Kxd8\", \"Nc3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"B captures on d4: remove a defender and keep the initiative.\",\n      \"Q captures on d4: remove a defender and keep the initiative.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Give check with the queen: force a king response and grab tempo.\",\n      \"Forced king recapture: queens are off, king is central but it's an endgame.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-9da0b7664c\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Nxe4\", \"d4\", \"Nd6\", \"dxe5\", \"Nxb5\", \"Bg5\", \"Be7\", \"Bxe7\", \"Qxe7\", \"a4\", \"Nbd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"O-O\", \"Nc3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"N captures on b5: remove a defender and keep the initiative.\",\n      \"Bg5: pin a knight and increase pressure on the center and king side.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"B captures on e7: remove a defender and keep the initiative.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Pawn move: support the center or gain space on that wing.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Q captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-437c6822fe\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"e5\", \"Nd5\", \"O-O\", \"O-O\", \"cxd4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-6860c8efc3\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Ne4\", \"Nxd4\", \"O-O\", \"Re1\", \"Nc5\", \"Nf5\", \"Nxa4\", \"Qg4\", \"g6\", \"Nxe7+\", \"Qxe7\", \"Qxa4\", \"Nxe5\", \"Bd2\", \"Qf6\", \"Nc3\", \"d6\", \"Nd5\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"N captures on a4: remove a defender and keep the initiative.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Q captures on a4: remove a defender and keep the initiative.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-50234e98fc\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"d6\", \"Re1\", \"Bd7\", \"c3\", \"Be7\", \"d4\", \"exd4\", \"cxd4\", \"O-O\", \"Nc3\", \"a6\", \"Ba4\", \"b5\", \"Bc2\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Develop and improve piece activity, aiming at central squares.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-78feb65886\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Ne4\", \"Nxd4\", \"O-O\", \"Re1\", \"Nc5\", \"Nf5\", \"Nxa4\", \"Qg4\", \"g6\", \"Nxe7+\", \"Qxe7\", \"Qxa4\", \"d6\", \"Bh6\", \"Re8\", \"Nc3\", \"dxe5\", \"Nd5\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"N captures on a4: remove a defender and keep the initiative.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Q captures on a4: remove a defender and keep the initiative.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Bh6: bring the bishop toward the king, often aiming at g7 or f8 squares.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"Develop and improve piece activity, aiming at central squares.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-cee0aca442\",\n    name: \"Open Morphy: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"b5\", \"Bb3\", \"Nf6\", \"d4\", \"Nxe4\", \"dxe5\", \"Nc5\", \"Bd5\", \"Bb7\", \"Nc3\", \"Be7\", \"Be3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Bd5: centralize the bishop, hit f7 and restrict Black's pieces.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"This move is mostly about tempo: hit something and force a reply.\"\n    ]\n  },\n\n  {\n    category: \"Steinitz Defense\",\n    id: \"ruy-extra-6402f70d10\",\n    name: \"Steinitz: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"d6\", \"d4\", \"Bd7\", \"Nc3\", \"Nf6\", \"Bxc6\", \"Bxc6\", \"Qd3\", \"exd4\", \"Nxd4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"N captures on d4: remove a defender and keep the initiative.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-25757afde9\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Nd5\", \"Nxd4\", \"O-O\", \"Nf5\", \"Nb6\", \"Qg4\", \"g6\", \"Bxc6\", \"dxc6\", \"Nxe7+\", \"Qxe7\", \"Qg3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Pawn move: support the center or gain space on that wing.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-cd4d587044\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"d6\", \"Re1\", \"Bd7\", \"c3\", \"a6\", \"Ba4\", \"Be7\", \"d4\", \"exd4\", \"cxd4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-bb9af50c3b\",\n    name: \"Berlin: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"d6\", \"Re1\", \"Bd7\", \"c3\", \"a6\", \"Ba4\", \"b5\", \"Bc2\", \"Be7\", \"d4\", \"exd4\", \"cxd4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"Re1: pressure e5 and support an e4 e5 advance or tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\"\n    ]\n  },\n\n  {\n    category: \"Classical (3...Bc5)\",\n    id: \"ruy-extra-de33d90ec4\",\n    name: \"Classical: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Bc5\", \"c3\", \"a6\", \"Bxc6\", \"dxc6\", \"Nxe5\", \"Qf6\", \"O-O\", \"Qxe5\", \"d4\", \"Bxd4\", \"cxd4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"c3: support d4 and give the bishop a retreat square on c2.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Q captures on e5: remove a defender and keep the initiative.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"B captures on d4: remove a defender and keep the initiative.\",\n      \"cxd4: rebuild the center with a pawn, gain space and open the c file.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-2c5dbd8ebf\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Nd5\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nb6\", \"Bb3\", \"O-O\", \"Bf4\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"Q captures on d4: remove a defender and keep the initiative.\",\n      \"Develop and improve piece activity, aiming at central squares.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"This move is mostly about tempo: hit something and force a reply.\"\n    ]\n  },\n\n  {\n    category: \"Berlin Defense\",\n    id: \"ruy-extra-9a3849d100\",\n    name: \"Berlin Open: ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"Nf6\", \"O-O\", \"Bc5\", \"Nxe5\", \"Nxe5\", \"d4\", \"c6\", \"dxe5\", \"Nxe4\", \"Bd3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Bc5: active bishop, eyes f2 and supports quick development.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Pawn move: support the center or gain space on that wing.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Develop and improve piece activity, aiming at central squares.\"\n    ]\n  },\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-0f6dddf0e8\",\n    name: \"Open Morphy: Qxd8+, ...Nxe4\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"b5\", \"Bb3\", \"Nf6\", \"d4\", \"d6\", \"dxe5\", \"dxe5\", \"Qxd8+\", \"Nxd8\", \"Nxe5\", \"Nxe4\", \"Nxf7\", \"Nxf7\", \"Bd5\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...b5: gain queenside space, kick the bishop further.\",\n      \"Bb3: preserve the bishop and keep eyes on f7.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"...d6: solid support for e5, keeps the center compact.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"dxe5: win a pawn and force Black to recapture, opening lines.\",\n      \"Give check with the queen: force a king response and grab tempo.\",\n      \"N captures on d8: remove a defender and keep the initiative.\",\n      \"Take e5: grab the pawn and centralize the knight, often the endgame target.\",\n      \"Take e4: grab the center pawn, challenging White to prove compensation.\",\n      \"Sacrifice on f7: deflect the king side pieces and open lines for attack.\",\n      \"Sacrifice on f7: deflect the king side pieces and open lines for attack.\",\n      \"Bd5: centralize the bishop, hit f7 and restrict Black's pieces.\"\n    ]\n  },\n\n{\n  category: \"Morphy Defense\",\n  id: \"ruy-extra-18c7fef604\",\n  name: \"Morphy: main line\",\n  description: \"Open Spanish structure after 5...a6 6.Ba4 Nf6. White plays d4 and e5 to grab space, then queens recapture on d4 and a4 while Black uses ...Nc5 and ...Nxa4 to win the bishop pair. Key themes: central tension, bishop trade on a4, and developing Bf4 with tempo.\",\n  moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Ne4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nc5\", \"Nc3\", \"Nxa4\", \"Qxa4\", \"O-O\", \"Bf4\"],\n  explanations: [\n    \"Claim the center and open lines so white can develop fast in an open game.\",\n    \"Match the center and keep a pawn on e5 as the base of black's setup.\",\n    \"Develop while immediately pressuring e5, forcing black to defend it.\",\n    \"Defend e5 and build toward active piece play in the center.\",\n    \"Put pressure on the knight that defends e5 and set up the typical Spanish plans.\",\n    \"Force the bishop to decide and start queenside expansion, often leading to ...b5.\",\n    \"Keep the bishop and maintain long term pressure along the diagonal toward e8.\",\n    \"Develop and hit e4, also preparing to chase the bishop or fight for the center.\",\n    \"Strike in the center right away, aiming to open lines before black fully castles.\",\n    \"Accept the central challenge and open the e file and diagonals by exchanging pawns.\",\n    \"Castle and connect the rook to the e file, preparing to use open lines.\",\n    \"Develop and prepare to castle, also keeping the king flexible before committing.\",\n    \"Gain space and push the f6 knight away from key squares, but allow ...Ne4 as a post.\",\n    \"Centralize the knight onto a strong outpost, attacking c3 and f2 ideas and blocking checks.\",\n    \"Recapture in the center with development, removing black's d4 pawn and contesting e6 f5 squares.\",\n    \"Trade off the active knight on d4 to reduce white's central control and free black's pieces.\",\n    \"Keep material even and stay centralized, with the queen now also eyeing a4 and g7.\",\n    \"Hit the queen and set up the tactical idea ...Nxa4 to remove the Spanish bishop.\",\n    \"Block the c pawn and cover a4, also adding support to d5 and e4 squares.\",\n    \"Win the bishop pair by capturing the a4 bishop, trading a knight for a key attacker.\",\n    \"Recapture and restore material balance, but white has lost the light squared bishop.\",\n    \"Get the king safe and bring the rook into the game, preparing ...Be6 or ...Re8.\",\n    \"Develop with tempo on the queen side and central squares, usually pressuring c7 and e5 support.\"\n  ]\n},\n\n  {\n    category: \"Morphy Defense\",\n    id: \"ruy-extra-6b5015abcc\",\n    name: \"Morphy: main line\",\n    description: \"Added line from your list for drill coverage. Focus is move order and typical tactical or structural idea.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"a6\", \"Ba4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Be7\", \"e5\", \"Ne4\", \"Nxd4\", \"Nc5\", \"Nf5\", \"O-O\", \"Qg4\", \"g6\", \"Bxc6\", \"dxc6\", \"Nxe7+\", \"Qxe7\", \"Qg3\"],\n    explanations: [\n      \"Push e4: claim the center and open lines for bishop and queen.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Develop Nf3: hit e5 and prepare quick castling.\",\n      \"Develop Nc6: defend e5 and support ...d5 breaks.\",\n      \"Bb5: the Spanish pin, pressure c6 and indirectly e5.\",\n      \"...a6: ask the bishop and prepare ...b5 to gain space.\",\n      \"Ba4: keep the bishop, stay on the a4 e8 diagonal.\",\n      \"...Nf6: develop and attack e4 (Berlin or Morphy).\",\n      \"Play d4: the main break, challenge e5 and open the game.\",\n      \"Capture on d4: relieve central tension and open lines.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"...Be7: unpin and prepare to castle.\",\n      \"e5: gain space and kick a defender, typical in open Spanish tactics.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"N captures on d4: remove a defender and keep the initiative.\",\n      \"This move is mostly about tempo: hit something and force a reply.\",\n      \"Consolidate and reduce tactical problems before committing further.\",\n      \"Castle: get the king safe and bring rook toward the center.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\",\n      \"Pawn move: create luft or kick a piece, but watch the weakened squares.\",\n      \"Exchange on c6: remove the defender of e5 and damage Black's structure.\",\n      \"Capture on c6: resolve tension and change the pawn structure.\",\n      \"Check: force a response and try to use the tempo for activity.\",\n      \"Q captures on e7: remove a defender and keep the initiative.\",\n      \"Play for the center or open a file, depending on the resulting exchanges.\"\n    ]\n  },\n\n{\n  category: \"Steinitz Defense\",\n  id: \"ruy-extra-6402f70d10\",\n  name: \"Steinitz: main line\",\n  description: \"Steinitz with ...d6 and ...Bd7. White trades on c6 to damage structure, then uses Qd3 and Nxd4 to pressure e5 and keep a stable center.\",\n  moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bb5\", \"d6\", \"d4\", \"Bd7\", \"Nc3\", \"Nf6\", \"Bxc6\", \"Bxc6\", \"Qd3\", \"exd4\", \"Nxd4\"],\n  explanations: [\n    \"Take space in the center and open lines for the bishop and queen.\",\n    \"Match central presence and keep the e5 pawn supported.\",\n    \"Attack e5 and prepare quick development and castling.\",\n    \"Develop and defend e5, also enabling ...a6 or ...Nf6 next.\",\n    \"Pressure the knight that supports e5 and hint at a structural trade on c6.\",\n    \"Reinforce e5 and accept a slightly passive bishop to keep the center solid.\",\n    \"Challenge the center immediately and ask black to define the pawn structure.\",\n    \"Meet the center hit and cover c6, also discouraging e5 pushes later.\",\n    \"Add support to d5 and e4 ideas, and prepare to recapture in the center cleanly.\",\n    \"Develop and increase pressure on e4 and d5, typical Steinitz setup.\",\n    \"Trade to remove the main defender of e5 and often leave black with doubled c pawns.\",\n    \"Recapture while keeping the bishop pair, accepting the structural damage for stability.\",\n    \"Point at h7 and e4 squares while directly increasing pressure on the e5 pawn.\",\n    \"Release the central tension on d4 and open the c6 bishop line, but give white a clean recapture.\",\n    \"Recapture with development, hit c6 and e5 indirectly, and keep white's center under control.\"\n  ]\n}\n];\n","// src/openings/friedLiverAttackLines.js\n\n// SEO / page intro text for Fried Liver Attack drills\nexport const friedLiverSEOText = `\nThe Fried Liver Attack is a sharp tactical line that can arise from the Italian Game, Two Knights Defense:\n1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. Ng5.\n\nWhite aims at the sensitive f7 square and is often willing to sacrifice a knight to drag Black's king into the open.\nThese drills focus on forcing lines, checks, and common tactical motifs like king hunts, forks, and rapid development.\n\nUse this page to practice the exact move orders and understand why each move is played.\n`;\n\nexport const friedLiverAttackLines = [\n  // Categories: Main line, Ke6 king-walk, Declined lines, Traxler, Two Knights sidelines\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-main-line-ke8-retreat\",\n    name: \"Main line: Ke8 retreat\",\n    description: \"Classic Fried Liver sacrifice, queen check, and bishop takes d5.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke8\", \"Bxd5\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Step back, keeping pieces near the king.\",\n      \"Remove the centralized defender and keep the initiative.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-main-line-kg8-and-quick-mate\",\n    name: \"Main line: Kg8 and quick mate\",\n    description: \"Forcing queen trade and a direct mate on e6.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Kg8\", \"Bxd5+\", \"Qxd5\", \"Qxd5+\", \"Be6\", \"Qxe6#\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Run to safety on the kingside.\",\n      \"Same idea but with check to keep the king boxed in.\",\n      \"Return material and trade attackers if possible.\",\n      \"Trade queens under check to reduce danger, if allowed.\",\n      \"Develop and cover key squares, also blocking lines.\",\n      \"Deliver mate on e6, using the queen and bishop coordination.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-greedy-defense-nxa1-and-rd1\",\n    name: \"Greedy defense: ...Nxa1 and Rd1\",\n    description: \"Black grabs rook, White races with development and threats.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Nb4\", \"O-O\", \"c6\", \"d4\", \"Nxc2\", \"dxe5\", \"Nxa1\", \"Rd1\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Jump toward c2 and d3, counterattacking.\",\n      \"Castle and bring the rook into play.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Grab material and counterattack.\",\n      \"Open lines and win a pawn with tempo.\",\n      \"Win the rook on a1, very greedy.\",\n      \"Bring a rook to the open file and threaten the king and queen.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-declined-4-nxe4-5-bxf7\",\n    name: \"Declined: 4...Nxe4 5.Bxf7+\",\n    description: \"Black counters in the center, White checks and pushes d4.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"Nxe4\", \"Bxf7+\", \"Ke7\", \"d4\", \"Nxd4\", \"c3\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Take the central knight and reduce counterplay.\",\n      \"Force the king to move and keep the initiative.\",\n      \"King steps up, trying to survive.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Take a central pawn and block lines.\",\n      \"Chase the knight and open c-file ideas.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-declined-win-the-queen-with-bxd8\",\n    name: \"Declined: win the queen with Bxd8\",\n    description: \"Tactical sequence that wins material after forcing king captures.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"Nxe4\", \"Bxf7+\", \"Ke7\", \"d4\", \"Nxg5\", \"Bxg5+\", \"Kxf7\", \"Bxd8\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Take the central knight and reduce counterplay.\",\n      \"Force the king to move and keep the initiative.\",\n      \"King steps up, trying to survive.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Remove the attacker to reduce threats.\",\n      \"Regain material with tempo and keep the king exposed.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Win the queen on d8 after forcing king captures.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-declined-h6-and-d5-space-gain\",\n    name: \"Declined: h6 and d5 space gain\",\n    description: \"Kick the knight, then build a strong center while king is exposed.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"Nxe4\", \"Bxf7+\", \"Ke7\", \"d4\", \"h6\", \"Nxe4\", \"Kxf7\", \"d5\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Take the central knight and reduce counterplay.\",\n      \"Force the king to move and keep the initiative.\",\n      \"King steps up, trying to survive.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Kick the knight and force a decision.\",\n      \"Take the central knight and reduce counterplay.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Gain space and open lines, also hits pieces.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-qd3-pressure\",\n    name: \"Ke6 line: Qd3 pressure\",\n    description: \"King walks to e6, White keeps checks and centralized queen.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Nd4\", \"Bxd5+\", \"Kd6\", \"Qd3\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Jump to an outpost and hit key squares.\",\n      \"Same idea but with check to keep the king boxed in.\",\n      \"King steps, trying to escape the e-file checks.\",\n      \"Centralize the queen and keep pressure on the king.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-nxc2-and-bxd5\",\n    name: \"Ke6 line: ...Nxc2 and Bxd5+\",\n    description: \"Black counterattacks on c2, White keeps tempo with check.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Nb4\", \"O-O\", \"Nxc2\", \"Bxd5+\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Jump toward c2 and d3, counterattacking.\",\n      \"Castle and bring the rook into play.\",\n      \"Grab material and counterattack.\",\n      \"Same idea but with check to keep the king boxed in.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-re1-and-bf4\",\n    name: \"Ke6 line: Re1+ and Bf4+\",\n    description: \"Central break and rook check to keep the king in danger.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Nb4\", \"O-O\", \"c6\", \"d4\", \"exd4\", \"Re1+\", \"Kd6\", \"Bf4+\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Jump toward c2 and d3, counterattacking.\",\n      \"Castle and bring the rook into play.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Check on the e-file and pin defenders.\",\n      \"King steps, trying to escape the e-file checks.\",\n      \"Develop with check and improve piece activity.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-long-forcing-mate-net\",\n    name: \"Ke6 line: long forcing mate net\",\n    description: \"Long tactical line ending in Bf4 mate.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Ne7\", \"d4\", \"c6\", \"dxe5\", \"Kd7\", \"Bg5\", \"Kc7\", \"Bxd5\", \"cxd5\", \"Nb5+\", \"Kb8\", \"e6\", \"Qa5+\", \"Bd2\", \"Qxb5\", \"Bf4#\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Retreat to cover key squares and block lines.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Open lines and win a pawn with tempo.\",\n      \"King keeps walking, trying to avoid direct mates.\",\n      \"Develop and pin or threaten, keeping pressure.\",\n      \"Keep the king away from the center line.\",\n      \"Remove the centralized defender and keep the initiative.\",\n      \"Open lines by capturing.\",\n      \"Jump with check and keep the king boxed in.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Advance to open lines and create a decisive threat.\",\n      \"Check to force king responses and keep tempo.\",\n      \"Block checks and set up the finishing net.\",\n      \"Grab the queen or a key defender to finish the attack.\",\n      \"Deliver checkmate with the bishop on the key diagonal.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-alternative-finish-with-nf7\",\n    name: \"Ke6 line: alternative finish with Nf7\",\n    description: \"Similar structure but different endgame tactics and forks.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Ne7\", \"d4\", \"c6\", \"dxe5\", \"Kd7\", \"Bg5\", \"Kc7\", \"Bxd5\", \"cxd5\", \"Nb5+\", \"Kb8\", \"e6\", \"b6\", \"Qg3+\", \"Kb7\", \"Nd6+\", \"Kc6\", \"Nf7\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Retreat to cover key squares and block lines.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Open lines and win a pawn with tempo.\",\n      \"King keeps walking, trying to avoid direct mates.\",\n      \"Develop and pin or threaten, keeping pressure.\",\n      \"Keep the king away from the center line.\",\n      \"Remove the centralized defender and keep the initiative.\",\n      \"Open lines by capturing.\",\n      \"Jump with check and keep the king boxed in.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Advance to open lines and create a decisive threat.\",\n      \"Create escape squares and cover key diagonals.\",\n      \"Bring the queen in with check and tighten the net.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Fork with check and keep the king trapped.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Fork threats and keep the king under pressure.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-o-o-o-and-rook-lift\",\n    name: \"Ke6 line: O-O-O and rook lift\",\n    description: \"Castle long and attack with rook checks and bishops.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Ne7\", \"d4\", \"exd4\", \"Bf4\", \"dxc3\", \"O-O-O\", \"cxb2+\", \"Kb1\", \"c6\", \"Rhe1+\", \"Kf7\", \"Bc7+\", \"Ke8\", \"Bxd8\", \"Kxd8\", \"Bxd5\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Retreat to cover key squares and block lines.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Castle long to connect rooks and bring the rook to the d-file attack.\",\n      \"Create a passed pawn with check and force the king move.\",\n      \"Step away from checks and protect the rook/king.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Bring the rook into the e-file with check, piling on the king.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Force a check that restricts the king and can win material.\",\n      \"Step back, keeping pieces near the king.\",\n      \"Win the queen on d8 after forcing king captures.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Remove the centralized defender and keep the initiative.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-ke6-line-queen-side-mate-qa3\",\n    name: \"Ke6 line: queen-side mate Qa3\",\n    description: \"Forcing king hunt that ends with Qa3 mate.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Nxd5\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Ke6\", \"Nc3\", \"Ne7\", \"d4\", \"c6\", \"dxe5\", \"Kd7\", \"Bg5\", \"Kc7\", \"Bxd5\", \"cxd5\", \"Nb5+\", \"Kb8\", \"e6\", \"Bxe6\", \"Qc3\", \"b6\", \"Bf4+\", \"Kb7\", \"Nd6+\", \"Ka6\", \"Qa3#\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Recapture and centralize a knight.\",\n      \"Sacrifice for initiative by dragging the king out and hitting key squares.\",\n      \"Accept the sacrifice and expose the king.\",\n      \"Check and aim at f7 and the exposed king.\",\n      \"Walk forward, risky but tries to escape immediate tactics.\",\n      \"Develop and add support to d5 and central play.\",\n      \"Retreat to cover key squares and block lines.\",\n      \"Hit the center and open lines while the king is unsafe.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Open lines and win a pawn with tempo.\",\n      \"King keeps walking, trying to avoid direct mates.\",\n      \"Develop and pin or threaten, keeping pressure.\",\n      \"Keep the king away from the center line.\",\n      \"Remove the centralized defender and keep the initiative.\",\n      \"Open lines by capturing.\",\n      \"Jump with check and keep the king boxed in.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Advance to open lines and create a decisive threat.\",\n      \"Capture to remove a defender and open lines.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Create escape squares and cover key diagonals.\",\n      \"Develop with check and improve piece activity.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Fork with check and keep the king trapped.\",\n      \"Continue the main tactical plan and improve piece activity.\",\n      \"Checkmate. This line ends immediately.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-traxler-4-bc5-sideline\",\n    name: \"Traxler: 4...Bc5 sideline\",\n    description: \"Black countergambit, White chooses a safer retreat.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"Bc5\", \"Bxf7+\", \"Ke7\", \"Bb3\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Enter the Traxler counterattack, aiming for tactics on f2 and the king.\",\n      \"Force the king to move and keep the initiative.\",\n      \"King steps up, trying to survive.\",\n      \"Retreat and keep the bishop safe while staying active.\",\n    ]\n  },\n\n  {\n    category: \"Fried Liver Attack\",\n    id: \"fried-liver-two-knights-5-na5-bishop-chase\",\n    name: \"Two Knights: 5...Na5 bishop chase\",\n    description: \"Black hits the bishop, White keeps development and structure.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"Ng5\", \"d5\", \"exd5\", \"Na5\", \"Bb5+\", \"c6\", \"dxc6\", \"bxc6\", \"Bd3\"],\n    explanations: [\n      \"Take the center and open lines for pieces.\",\n      \"Mirror the center and fight for space.\",\n      \"Attack e5 and develop the king knight.\",\n      \"Defend e5 and develop.\",\n      \"Target f7 and develop with initiative.\",\n      \"Attack e4 and develop.\",\n      \"Pressure f7 and hint at a quick attack.\",\n      \"Gain space and open lines, also hits pieces.\",\n      \"Accept the challenge and open lines.\",\n      \"Attack the bishop and aim to win the b3 square.\",\n      \"Check and force a concession in development.\",\n      \"Support d5 and create luft for pieces, also kicks attackers later.\",\n      \"Win the c6 pawn and open files.\",\n      \"Recapture and open the b-file.\",\n      \"Develop and aim at h7 and the center.\",\n    ]\n  },\n\n];\n","// src/openings/staffordGambitLines.js\n\nexport const staffordGambitSEOText = `\nThe Stafford Gambit is a trap heavy gambit for Black in the Petrov Defense:\n1. e4 e5 2. Nf3 Nf6 3. Nxe5 Nc6.\n\nBlack sacrifices a pawn to accelerate development and create immediate tactics against White's king and queen.\nThese drills focus on common Stafford themes: rapid piece activity, forcing checks, and typical queen traps.\n`;\n\n\nexport const staffordGambitLines = [\n  {\n    category: \"Main traps\",\n    id: \"stafford-quick-mate-bg4\",\n    name: \"Quick mate: Bg4# after Bxd8\",\n    description: \"If White grabs the queen on d8, Black can finish with a fast mate.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Bg5\", \"Nxe4\", \"Bxd8\", \"Bxf2+\", \"Ke2\", \"Bg4#\"],\n    explanations: [\n      \"Take space in the center and open lines.\",\n      \"Meet e4 and claim central space.\",\n      \"Develop and attack e5.\",\n      \"Petrov Defense, attack e4 and invite tactics.\",\n      \"Grab the pawn, but the knight can become a target.\",\n      \"Stafford idea, develop with tempo on the knight.\",\n      \"Remove the attacker and simplify, but it gives Black a file.\",\n      \"Recapture and open the d file for development.\",\n      \"Solid setup, but it is slow and lets Black attack.\",\n      \"Develop and aim at f2 and the king.\",\n      \"Pin the knight and try to reduce tactics.\",\n      \"Centralize and hit White's pieces with tempo.\",\n      \"Grab the queen, but it ignores king safety.\",\n      \"Sacrifice to open lines around the king and force checks.\",\n      \"Step into the open, the king is now exposed.\",\n      \"Deliver mate with bishop and queen side pieces coordinating.\"\n    ]\n  },\n\n  {\n    category: \"Queen win traps\",\n    id: \"stafford-queen-win-ke2-g4-qxd1\",\n    name: \"Queen win: ...Bg4+ then ...Qxd1\",\n    description: \"Black uses a check to win White's queen on d1.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"e5\", \"Ne4\", \"d3\", \"Bc5\", \"dxe4\", \"Bxf2+\", \"Ke2\", \"Bg4+\", \"Kxf2\", \"Qxd1\"],\n    explanations: [\n      \"Take space and open lines.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Invite the pawn grab and aim for activity.\",\n      \"Take the pawn, but the knight can get chased.\",\n      \"Develop with tempo and threaten tactics.\",\n      \"Simplify, but it helps Black open lines.\",\n      \"Recapture and open files for pieces.\",\n      \"Gain space and kick the knight on e4 squares.\",\n      \"Centralize and keep threats on f2 and d2 squares.\",\n      \"Develop and try to finish development safely.\",\n      \"Develop with pressure on f2 and the king diagonal.\",\n      \"Take the knight, but it opens the f2 square.\",\n      \"Sacrifice to pull the king and open lines.\",\n      \"Forced, the king steps out.\",\n      \"Check and line up a queen capture on d1.\",\n      \"Capture back, but the queen is now pinned to d1.\",\n      \"Win the queen on d1 and convert the attack into material.\"\n    ]\n  },\n\n  {\n    category: \"Queen win traps\",\n    id: \"stafford-queen-win-kxf2-qxd1\",\n    name: \"Queen win: king takes on f2 then ...Qxd1\",\n    description: \"Same idea, but White captures with the king immediately.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"e5\", \"Ne4\", \"d3\", \"Bc5\", \"dxe4\", \"Bxf2+\", \"Kxf2\", \"Qxd1\"],\n    explanations: [\n      \"Take space and open lines.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, aiming for counterplay.\",\n      \"Take the pawn, but accept tactical risk.\",\n      \"Develop and attack the knight with tempo.\",\n      \"Trade, but open a file for Black.\",\n      \"Recapture and free the bishop and queen.\",\n      \"Kick the knight and gain space.\",\n      \"Centralize and keep pressure on key squares.\",\n      \"Develop, but keep an eye on f2.\",\n      \"Develop with an immediate threat on f2.\",\n      \"Remove the knight, but open lines.\",\n      \"Sacrifice to open the king and diagonal.\",\n      \"Capture, but the king becomes a target.\",\n      \"Take the queen on d1 after the sacrifice.\"\n    ]\n  },\n\n  {\n    category: \"Queen win traps\",\n    id: \"stafford-queen-win-bg5-line\",\n    name: \"Queen win: Bg5 line ends with ...Qxd1\",\n    description: \"If White plays Bg5 and captures on e4, Black can still win the queen.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Bg5\", \"Nxe4\", \"dxe4\", \"Bxf2+\", \"Ke2\", \"Bg4+\", \"Kxf2\", \"Qxd1\"],\n    explanations: [\n      \"Take the center.\",\n      \"Meet in the center.\",\n      \"Develop and attack e5.\",\n      \"Invite the pawn grab and aim for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade off the knight, but open lines.\",\n      \"Recapture and open files.\",\n      \"Slow but solid, White tries to consolidate.\",\n      \"Develop and point at f2.\",\n      \"Pin and try to reduce tactics.\",\n      \"Jump in, keeping threats on f2 and d2.\",\n      \"Accept the trade, but open the f2 diagonal.\",\n      \"Sacrifice to drag the king out.\",\n      \"Forced king move into the open.\",\n      \"Check and force the queen on d1 to fall.\",\n      \"Take back, but the queen is still hanging.\",\n      \"Win the queen on d1.\"\n    ]\n  },\n\n  {\n    category: \"Mate traps\",\n    id: \"stafford-mate-qh1\",\n    name: \"Mate: ...Qh1# pattern\",\n    description: \"A classic Stafford king hunt with a queen mate on h1.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"Nc3\", \"Bc5\", \"Bc4\", \"Ng4\", \"O-O\", \"Qh4\", \"h3\", \"Nxf2\", \"Qf3\", \"Nxh3+\", \"Kh2\", \"Nf2+\", \"Kg1\", \"Qh1#\"],\n    explanations: [\n      \"Take central space.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov and invite tactics.\",\n      \"Take the pawn.\",\n      \"Develop with tempo and open lines.\",\n      \"Trade, but help Black open the d file.\",\n      \"Recapture and activate pieces quickly.\",\n      \"Develop and support the center.\",\n      \"Develop with a direct eye on f2.\",\n      \"Develop and protect the king side.\",\n      \"Jump in and aim for f2 tactics.\",\n      \"Castle to safety, but the king can still be attacked.\",\n      \"Bring the queen out with threats.\",\n      \"Create luft, but weaken dark squares.\",\n      \"Sacrifice to rip open the king side.\",\n      \"Try to defend and trade queens if possible.\",\n      \"Continue the attack with a check and remove defenders.\",\n      \"Step away from checks, but the net tightens.\",\n      \"Bring another piece in with check.\",\n      \"Forced, step back toward the corner.\",\n      \"Finish with checkmate on h1.\"\n    ]\n  },\n\n  {\n    category: \"Queen wins\",\n    id: \"stafford-queen-win-qxh1\",\n    name: \"Queen win: ...Qxh1\",\n    description: \"Black wins the rook on h1 after forcing checks.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"e5\", \"Ne4\", \"d4\", \"Qh4\", \"g3\", \"Nxg3\", \"fxg3\", \"Qe4+\", \"Qe2\", \"Qxh1\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, looking for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines.\",\n      \"Recapture and open files.\",\n      \"Gain space and hit the knight.\",\n      \"Centralize and keep tactics alive.\",\n      \"Fight for the center, but weaken the diagonal.\",\n      \"Queen to h4, aiming at e4 and h2 squares.\",\n      \"Defend the king side, but weaken dark squares.\",\n      \"Fork and attack key squares, opening lines.\",\n      \"Capture, but it opens the g file and king.\",\n      \"Check to force a concession and keep tempo.\",\n      \"Block and try to trade queens.\",\n      \"Win the rook on h1.\"\n    ]\n  },\n\n  {\n    category: \"Rook wins\",\n    id: \"stafford-rook-win-nxh1\",\n    name: \"Rook win: ...Nxh1\",\n    description: \"Black wins the rook with a knight hop after pressure on f2.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Nc3\", \"Ng4\", \"f3\", \"Nf2\", \"Qe2\", \"Nxh1\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov and invite the pawn grab.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but give Black open files.\",\n      \"Recapture and free the bishop.\",\n      \"Develop cautiously, but allow pressure to build.\",\n      \"Develop and point at f2.\",\n      \"Develop and defend key squares.\",\n      \"Jump toward f2 and h2 ideas.\",\n      \"Try to kick the knight, but weaken the king side.\",\n      \"Fork and threaten the rook and queen side squares.\",\n      \"Defend, but the rook is still loose.\",\n      \"Win the rook on h1.\"\n    ]\n  },\n\n  {\n    category: \"Queen and rook wins\",\n    id: \"stafford-rook-win-qh4-h5-line\",\n    name: \"Long line: h5 plan and endgame conversion\",\n    description: \"A longer forcing sequence where Black keeps threats and converts to an endgame.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Be2\", \"h5\", \"O-O\", \"Ng4\", \"h3\", \"Qd6\", \"Bxg4\", \"hxg4\", \"e5\", \"Qg6\", \"d4\", \"gxh3\", \"g3\", \"h2+\", \"Kh1\", \"Qe4+\", \"f3\", \"Qxd4\", \"Qxd4\", \"Bxd4\"],\n    explanations: [\n      \"Take space and open lines.\",\n      \"Meet in the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, offering the gambit idea.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open the d file.\",\n      \"Recapture and activate quickly.\",\n      \"Develop, but stay passive.\",\n      \"Develop and target f2.\",\n      \"Develop and prepare to castle.\",\n      \"Advance the h pawn to open the h file and attack.\",\n      \"Castle, but Black still has initiative.\",\n      \"Jump in and threaten tactics.\",\n      \"Create luft, but weaken squares.\",\n      \"Centralize the queen and keep pressure.\",\n      \"Trade off a key attacker, but open the h file.\",\n      \"Open the h file toward White's king.\",\n      \"Push, but it can open lines against White.\",\n      \"Reposition the queen for checks and captures.\",\n      \"Try to open the center, but the king side is weak.\",\n      \"Grab and create a dangerous passer on h3.\",\n      \"Try to block, but the king side stays exposed.\",\n      \"Advance to h2 with check and force the king into the corner.\",\n      \"Forced king move.\",\n      \"Check and win more material with tempo.\",\n      \"Try to block and survive.\",\n      \"Win a pawn and keep the attack converted into material.\",\n      \"Trade queens to reach a winning endgame.\",\n      \"Convert by taking back with the bishop.\"\n    ]\n  },\n\n  {\n    category: \"Queen and rook wins\",\n    id: \"stafford-h5-plan-variant\",\n    name: \"Long line: h5 plan with c3 and rook trades\",\n    description: \"Another longer Stafford structure with h pawn pushes and rook exchanges.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Be2\", \"h5\", \"c3\", \"Ng4\", \"d4\", \"Qh4\", \"g3\", \"Qf6\", \"f3\", \"h4\", \"fxg4\", \"hxg3\", \"Rf1\", \"gxh2\", \"Rxf6\", \"gxf6\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, aiming for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines for Black.\",\n      \"Recapture and free the bishop.\",\n      \"Develop, but allow Black to build up.\",\n      \"Develop with pressure on f2.\",\n      \"Prepare to castle and defend.\",\n      \"Push the h pawn to open a file toward the king.\",\n      \"Support the center and create a retreat square.\",\n      \"Jump in and aim at f2 tactics.\",\n      \"Open the center, but it can help Black's pieces.\",\n      \"Queen to h4 with threats.\",\n      \"Defend, but create weaknesses.\",\n      \"Reposition to keep pressure and avoid trades.\",\n      \"Try to stabilize, but loosen the king.\",\n      \"Advance the h pawn again to open lines.\",\n      \"Capture, but open files near the king.\",\n      \"Open the h file and create a dangerous pawn.\",\n      \"Put the rook on the f file to contest.\",\n      \"Promote the pawn to h2, creating a major threat.\",\n      \"Take the queen, but allow a recapture.\",\n      \"Recapture and convert to a favorable endgame.\"\n    ]\n  },\n\n  {\n    category: \"Greedy tactics\",\n    id: \"stafford-greedy-line-rg1-bxg1\",\n    name: \"Greedy line: ...Nxf2 and ...Bxg1\",\n    description: \"Black wins material by hitting f2 and then taking on g1.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Nc3\", \"Ng4\", \"Qf3\", \"Nxf2\", \"Rg1\", \"Nxd3+\", \"Bxd3\", \"Bxg1\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, inviting the pawn grab.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines for Black.\",\n      \"Recapture and activate quickly.\",\n      \"Develop, but allow pressure to build.\",\n      \"Develop and target f2.\",\n      \"Develop and defend.\",\n      \"Jump toward f2 tactics.\",\n      \"Defend f2 and aim to trade queens.\",\n      \"Sacrifice or win material on f2 with a fork.\",\n      \"Defend the rook line, but it is awkward.\",\n      \"Fork again with check and win more material.\",\n      \"Capture back to reduce damage.\",\n      \"Win the rook on g1.\"\n    ]\n  },\n\n  {\n    category: \"Mate traps\",\n    id: \"stafford-mate-qf2\",\n    name: \"Mate: ...Qf2# after Qh4+\",\n    description: \"A forcing mate after Qh4+ and the queen swings to f2.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"e5\", \"Ne4\", \"d3\", \"Bc5\", \"Be3\", \"Bxe3\", \"fxe3\", \"Qh4+\", \"Ke2\", \"Qf2#\"],\n    explanations: [\n      \"Take the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, aiming for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines for Black.\",\n      \"Recapture and open files.\",\n      \"Kick the knight and gain space.\",\n      \"Centralize and keep tactics alive.\",\n      \"Develop, but keep the king in the center.\",\n      \"Develop and point at f2.\",\n      \"Develop and block lines, but weaken dark squares.\",\n      \"Exchange to open the diagonal to the king.\",\n      \"Forced, recapture and weaken the king cover.\",\n      \"Check and force the king into the open.\",\n      \"Forced king move.\",\n      \"Deliver mate by controlling escape squares.\"\n    ]\n  },\n\n  {\n    category: \"Rook wins\",\n    id: \"stafford-rook-win-qh4-qxh1\",\n    name: \"Rook win: ...Qxh1 after Qh4+\",\n    description: \"Black forces the queen onto h4 and wins the rook on h1.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"e5\", \"Ne4\", \"d3\", \"Bc5\", \"Be3\", \"Bxe3\", \"fxe3\", \"Qh4+\", \"g3\", \"Nxg3\", \"hxg3\", \"Qxh1\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, inviting tactics.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open the file.\",\n      \"Recapture and activate quickly.\",\n      \"Gain space and hit the knight.\",\n      \"Centralize and keep threats.\",\n      \"Develop and try to be solid.\",\n      \"Develop and aim at f2.\",\n      \"Develop, but it can open lines to the king.\",\n      \"Exchange to clear the diagonal.\",\n      \"Forced, and the king side becomes weaker.\",\n      \"Check and force pawn moves.\",\n      \"Block the check, but weaken the dark squares.\",\n      \"Jump in and win material with a fork.\",\n      \"Capture, but open the h file.\",\n      \"Win the rook on h1.\"\n    ]\n  },\n\n  {\n    category: \"Tactical middlegames\",\n    id: \"stafford-line-nxe3-bxe3-qg5\",\n    name: \"Tactics: ...Nxe3 and ...Qg5\",\n    description: \"Black gives up a bishop pair to win pawns and keep initiative.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"Nc3\", \"Ng4\", \"Be3\", \"Nxe3\", \"fxe3\", \"Bxe3\", \"Qf3\", \"Qg5\"],\n    explanations: [\n      \"Take the center.\",\n      \"Meet in the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, offering activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines.\",\n      \"Recapture and activate pieces.\",\n      \"Develop cautiously.\",\n      \"Develop and target f2.\",\n      \"Develop and defend.\",\n      \"Jump in and aim at f2 and e3.\",\n      \"Challenge the attacker and develop.\",\n      \"Trade off the defender and damage structure.\",\n      \"Forced recapture, weakening the center.\",\n      \"Use the bishop to invade and attack.\",\n      \"Defend and offer queen trades.\",\n      \"Avoid trades and keep pressure with the queen.\"\n    ]\n  },\n\n  {\n    category: \"Perpetual check ideas\",\n    id: \"stafford-perpetual-qe5-qd4\",\n    name: \"Perpetual checks: queen on d4\",\n    description: \"Black forces repeated checks to keep the initiative and avoid being worse.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"d3\", \"Bc5\", \"h3\", \"Bxf2+\", \"Kxf2\", \"Nxe4+\", \"Kg1\", \"Qd4+\", \"Kh2\", \"Qe5+\", \"Kg1\", \"Qd4+\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, aiming for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open files.\",\n      \"Recapture and open the diagonal.\",\n      \"Develop, but leave the king in the center.\",\n      \"Develop and aim at f2.\",\n      \"Create luft, but loosen the king side.\",\n      \"Sacrifice to open the king and force checks.\",\n      \"Capture, but expose the king.\",\n      \"Check in the center to keep initiative.\",\n      \"Step away, but the king is still unsafe.\",\n      \"Check and keep the king boxed in.\",\n      \"Forced king move.\",\n      \"Check to keep the attack going.\",\n      \"Return, still under pressure.\",\n      \"Repeat the check to keep control.\"\n    ]\n  },\n\n  {\n    category: \"Accepted and simple play\",\n    id: \"stafford-simple-d4-bxd4\",\n    name: \"Simple: 6.d4 and ...Bxd4\",\n    description: \"If White plays d4 early, Black can just take and develop.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"Nc3\", \"Bc5\", \"d4\", \"Bxd4\"],\n    explanations: [\n      \"Take the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, aiming for activity.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines.\",\n      \"Recapture and open files.\",\n      \"Develop and prepare d4.\",\n      \"Develop and pressure the center.\",\n      \"Strike in the center to challenge Black's setup.\",\n      \"Capture and keep development flowing.\"\n    ]\n  },\n\n  {\n    category: \"Declined lines\",\n    id: \"stafford-decline-4-nf3-mainline\",\n    name: \"Decline: 4.Nf3 and simplify\",\n    description: \"If White declines the pawn with 4.Nf3, the game becomes a calmer Petrov line.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nf3\", \"Nxe4\", \"Qe2\", \"Qe7\", \"Nc3\", \"Nxc3\", \"Qxe7+\", \"Bxe7\", \"dxc3\", \"d6\"],\n    explanations: [\n      \"Take space and open lines.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov Defense.\",\n      \"Take the pawn, but White may give it back.\",\n      \"Develop with tempo and keep options.\",\n      \"Retreat and avoid giving Black open files.\",\n      \"Win the pawn back and equalize material.\",\n      \"Pin the knight and aim to win back the pawn.\",\n      \"Defend and offer queen trades.\",\n      \"Develop and prepare to recapture.\",\n      \"Simplify by trading knights.\",\n      \"Trade queens to reduce tactics.\",\n      \"Recapture and reach a calmer position.\",\n      \"Take back with the pawn and open the c file.\",\n      \"Develop and solidify the center.\"\n    ]\n  },\n\n  {\n    category: \"Tactics and initiative\",\n    id: \"stafford-bc4-line-ng3-check\",\n    name: \"Tactics: Bc4 line ending with ...Ng3+\",\n    description: \"A sharp sideline where Black keeps checks and initiative.\",\n    moves: [\"e4\", \"e5\", \"Nf3\", \"Nf6\", \"Nxe5\", \"Nc6\", \"Nxc6\", \"dxc6\", \"Nc3\", \"Bc5\", \"Bc4\", \"Ng4\", \"O-O\", \"Qh4\", \"h3\", \"Nxf2\", \"Bxf7+\", \"Kf8\", \"Qh5\", \"Nxe4+\", \"Kh1\", \"Ng3+\"],\n    explanations: [\n      \"Control the center.\",\n      \"Contest the center.\",\n      \"Develop and attack e5.\",\n      \"Petrov, invite the gambit.\",\n      \"Take the pawn.\",\n      \"Develop with tempo.\",\n      \"Trade, but open lines.\",\n      \"Recapture and activate quickly.\",\n      \"Develop and defend.\",\n      \"Develop and pressure f2.\",\n      \"Develop aggressively and aim at f7.\",\n      \"Jump in and threaten tactics.\",\n      \"Castle, but the king can still be attacked.\",\n      \"Bring the queen out with threats.\",\n      \"Create luft, but weaken squares.\",\n      \"Sacrifice to open the king side.\",\n      \"Check and force the king into defense.\",\n      \"Forced response to the check.\",\n      \"Keep the queen active and threaten mates.\",\n      \"Check and win time to improve pieces.\",\n      \"Step to safety, but remain under attack.\",\n      \"Continue with a check to keep initiative.\"\n    ]\n  }\n];\n","// src/openings/caroKannLines.js\n\n// SEO / page intro text for Caro-Kann drills\nexport const caroKannSEOText = `\nThe Caro-Kann Defense starts with 1. e4 c6 and aims for a solid central challenge with ...d5\nwhile keeping Black's light-squared bishop flexible.\n\nThese drills cover the main student-facing structures you listed:\n- Advance Variation (3. e5) with the key ...c5 break and typical pressure on e5 and d4\n- Exchange and Panov-style structures (3. exd5 / 4. c4) where piece activity and pawn structure matter\n- Classical / Two Knights setups (3. Nc3) with development and early piece pressure themes\n\nEach line includes move-by-move explanations that state the concrete purpose:\nwhat is being attacked or defended, what pawn break is being prepared, and what concession is being forced.\n`;\n\nexport const caroKannLines = [\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-01-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 1: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"a3\", \"e6\", \"b4\", \"a5\", \"b5\", \"Nxe5\", \"Bb2\", \"f6\", \"Bxe5\", \"fxe5\", \"Qh5+\", \"g6\", \"Qxe5\", \"Nf6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Prevent ...Bb4 and prepare b4 space.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Support the pawn on c5 or gain space. Usually costs development, so it must be justified.\", \"Hit the pawn chain on b4/b5 and open files on the queenside.\", \"Gain space and try to kick a knight, but also create targets on the queenside.\", \"Remove a central pawn and hit key squares. Often needs to be tactically supported.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Directly attack the e5 pawn. It can be necessary but it creates king-safety commitments.\", \"Remove a key defender or pawn to open lines and win tempi.\", \"Recapture while opening the f-file; often leaves king safety questions.\", \"Force a concession: king move or pawn move. Used to exploit an uncastled king.\", \"Kick a checking queen and prepare to develop the bishop, but weaken dark squares.\", \"Win material, but check whether it concedes development or tactics.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-02-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 2: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"f4\", \"Nh6\", \"c3\", \"e6\", \"b4\", \"a5\", \"Bb5\", \"Bd7\", \"Bxc6\", \"Bxc6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support e5 and grab kingside space, but can weaken e4 and king safety.\", \"Develop toward f5 without blocking the f-pawn; a common maneuver vs f4 structures.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Support the pawn on c5 or gain space. Usually costs development, so it must be justified.\", \"Hit the pawn chain on b4/b5 and open files on the queenside.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Challenge the bishop and complete development while defending key squares.\", \"Trade to clarify structure and sometimes win time on development.\", \"Trade to clarify structure and sometimes win time on development.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-03-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 3: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Nf3\", \"cxd4\", \"cxd4\", \"Bg4\", \"h3\", \"Bxf3\", \"Qxf3\", \"Nxd4\", \"Qd3\", \"Nc6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"Recapture while keeping structure intact and maintaining central flexibility.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-04-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 4: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Nf3\", \"cxd4\", \"cxd4\", \"Bg4\", \"h3\", \"Bxf3\", \"gxf3\", \"Qb6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"Recapture but accept structural damage in exchange for open g-file and bishop pair.\", \"Pressure d4 and b2, forcing White to spend time defending or trading queens.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-05-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 5: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"f4\", \"cxd4\", \"cxd4\", \"h5\", \"Nf3\", \"Bg4\", \"Be2\", \"e6\", \"O-O\", \"Qb6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support e5 and grab kingside space, but can weaken e4 and king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Space gain and sometimes a hook to attack White's kingside pawn chain (or gain air). Risky if it weakens squares.\", \"Develop and support d4 and e5, also helps king safety.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Pressure d4 and b2, forcing White to spend time defending or trading queens.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-07-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 7: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"a3\", \"e6\", \"b4\", \"a5\", \"Bb2\", \"axb4\", \"axb4\", \"Rxa1\", \"Bxa1\", \"Nxb4\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Prevent ...Bb4 and prepare b4 space.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Support the pawn on c5 or gain space. Usually costs development, so it must be justified.\", \"Hit the pawn chain on b4/b5 and open files on the queenside.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"(not present)\", \"(not present)\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-08-e4-c6-d4-d5-exd5-cxd5-c4-nf6\",\n    name: \"Line 8: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"c4\", \"Nf6\", \"Nc3\", \"g6\", \"Nf3\", \"Bg7\", \"cxd5\", \"Nxd5\", \"Bc4\", \"Nxc3\", \"bxc3\", \"Qc7\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"Enter Panov style play: space plus development, at the cost of an isolated pawn risk.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Develop, add central control, and support key pawn breaks.\", \"Kick a checking queen and prepare to develop the bishop, but weaken dark squares.\", \"Develop and support d4 and e5, also helps king safety.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Open lines and convert the center into a structure fight.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-09-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 9: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Nf3\", \"cxd4\", \"cxd4\", \"Bg4\", \"Be2\", \"e6\", \"h3\", \"Bxf3\", \"Bxf3\", \"Qb6\", \"Be3\", \"Qxb2\", \"Nd2\", \"Bb4\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"Pressure d4 and b2, forcing White to spend time defending or trading queens.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Support c4/e4 structures, reroute pieces, and cover f3 squares if needed.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-10-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 10: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Bb5\", \"Qa5\", \"Bxc6+\", \"bxc6\", \"Bd2\", \"Qb6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Pressure c3 and e5 and often win time by forcing a response.\", \"Trade to clarify structure and sometimes win time on development. With check to force a reply and keep tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Pressure d4 and b2, forcing White to spend time defending or trading queens.\"],\n  },\n  {\n    category: \"Classical or Two Knights\",\n    id: \"caro-kann-line-11-e4-c6-d4-d5-nc3-dxe4-nxe4-nf6\",\n    name: \"Line 11: e4 c6 d4 d5 Nc3 dxe4 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"Nc3\", \"dxe4\", \"Nxe4\", \"Nf6\", \"Ng3\", \"h5\", \"h4\", \"Bg4\", \"Be2\", \"e6\", \"Nf3\", \"Bd6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Develop, add central control, and support key pawn breaks.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Space gain and sometimes a hook to attack White's kingside pawn chain (or gain air). Risky if it weakens squares.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Develop and support d4 and e5, also helps king safety.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-12-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 12: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Nf3\", \"cxd4\", \"cxd4\", \"Bg4\", \"Be2\", \"e6\", \"O-O\", \"Nge7\", \"Nc3\", \"Nf5\", \"Be3\", \"Be7\", \"a3\", \"O-O\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Develop without committing the f-pawn, preparing ...Nf5 and solid king safety.\", \"Develop, add central control, and support key pawn breaks.\", \"Jump to an active square to hit d4/e3/g3 and pressure key pawns.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Complete development and prepare castling, also supports ...f6 breaks sometimes.\", \"Prevent ...Bb4 and prepare b4 space.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\"],\n  },\n  {\n    category: \"Classical or Two Knights\",\n    id: \"caro-kann-line-13-e4-c6-d4-d5-nc3-dxe4-nxe4-nf6\",\n    name: \"Line 13: e4 c6 d4 d5 Nc3 dxe4 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"Nc3\", \"dxe4\", \"Nxe4\", \"Nf6\", \"Ng3\", \"h5\", \"Nf3\", \"h4\", \"Ne2\", \"Bg4\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Develop, add central control, and support key pawn breaks.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Space gain and sometimes a hook to attack White's kingside pawn chain (or gain air). Risky if it weakens squares.\", \"Develop and support d4 and e5, also helps king safety.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Reposition to avoid pins and support f4 or g3 setups.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-14-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 14: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Be3\", \"Nh6\", \"Bxh6\", \"gxh6\", \"Nf3\", \"Qb6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Develop toward f5 without blocking the f-pawn; a common maneuver vs f4 structures.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and support d4 and e5, also helps king safety.\", \"Pressure d4 and b2, forcing White to spend time defending or trading queens.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-15-e4-c6-d4-d5-exd5-cxd5-bd3-nc6\",\n    name: \"Line 15: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"Bd3\", \"Nc6\", \"c3\", \"Nf6\", \"h3\", \"e5\", \"dxe5\", \"Nxe5\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Remove a central pawn and hit key squares. Often needs to be tactically supported.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-16-e4-c6-d4-d5-exd5-cxd5-c4-nf6\",\n    name: \"Line 16: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"c4\", \"Nf6\", \"cxd5\", \"Nxd5\", \"Nc3\", \"Nc6\", \"Nf3\", \"Bf5\", \"Bc4\", \"e6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"Enter Panov style play: space plus development, at the cost of an isolated pawn risk.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Open lines and convert the center into a structure fight.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop, add central control, and support key pawn breaks.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-17-e4-c6-d4-d5-exd5-cxd5-bd3-nc6\",\n    name: \"Line 17: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"Bd3\", \"Nc6\", \"c3\", \"Nf6\", \"Bf4\", \"Bg4\", \"Qb3\", \"Qd7\", \"Nd2\", \"e6\", \"Ngf3\", \"Bd6\", \"Bxd6\", \"Qxd6\", \"O-O\", \"O-O\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Support c4/e4 structures, reroute pieces, and cover f3 squares if needed.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Reinforce the center and prepare quick castling.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-18-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 18: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"Bb5\", \"e6\", \"b4\", \"a5\", \"c3\", \"axb4\", \"cxb4\", \"Bd7\", \"Bxc6\", \"Bxc6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Support the pawn on c5 or gain space. Usually costs development, so it must be justified.\", \"Hit the pawn chain on b4/b5 and open files on the queenside.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Challenge the bishop and complete development while defending key squares.\", \"Trade to clarify structure and sometimes win time on development.\", \"Trade to clarify structure and sometimes win time on development.\"],\n  },\n  {\n    category: \"Classical or Two Knights\",\n    id: \"caro-kann-line-19-e4-c6-d4-d5-nc3-dxe4-nxe4-nf6\",\n    name: \"Line 19: e4 c6 d4 d5 Nc3 dxe4 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"Nc3\", \"dxe4\", \"Nxe4\", \"Nf6\", \"Nxf6+\", \"exf6\", \"c3\", \"Bd6\", \"Bd3\", \"O-O\", \"Qc2\", \"Re8+\", \"Ne2\", \"h5\", \"Be3\", \"Nd7\", \"O-O-O\", \"Nf8\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Develop, add central control, and support key pawn breaks.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"Reposition to avoid pins and support f4 or g3 setups.\", \"Space gain and sometimes a hook to attack White's kingside pawn chain (or gain air). Risky if it weakens squares.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Castle long when the center is stable enough, bringing rook to the d-file quickly.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-20-e4-c6-d4-d5-exd5-cxd5-nf3-nf6\",\n    name: \"Line 20: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"Nf3\", \"Nf6\", \"Bd3\", \"Bg4\", \"O-O\", \"Nc6\", \"c3\", \"e6\", \"h3\", \"Bh5\", \"Bg5\", \"Bd6\", \"Nbd2\", \"h6\", \"Bh4\", \"Qc7\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"Develop and support d4 and e5, also helps king safety.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-21-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 21: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"f4\", \"Nh6\", \"Nf3\", \"Bg4\", \"Be3\", \"Nf5\", \"Bf2\", \"g5\", \"fxg5\", \"e6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support e5 and grab kingside space, but can weaken e4 and king safety.\", \"Develop toward f5 without blocking the f-pawn; a common maneuver vs f4 structures.\", \"Develop and support d4 and e5, also helps king safety.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Jump to an active square to hit d4/e3/g3 and pressure key pawns.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-22-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 22: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"Nf3\", \"Bg4\", \"Bb5\", \"Qa5+\", \"Nc3\", \"e6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Pressure c3 and e5 and often win time by forcing a response. With check to force a reply and keep tempo.\", \"Develop, add central control, and support key pawn breaks.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\"],\n  },\n  {\n    category: \"Exchange Variation\",\n    id: \"caro-kann-line-23-e4-c6-d4-d5-exd5-cxd5-nf3-nf6\",\n    name: \"Line 23: e4 c6 d4 d5 exd5 cxd5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"exd5\", \"cxd5\", \"Nf3\", \"Nf6\", \"Bd3\", \"Bg4\", \"O-O\", \"Nc6\", \"c3\", \"e6\", \"Bg5\", \"Be7\", \"Nbd2\", \"O-O\", \"Qc2\", \"h6\", \"Bh4\", \"Rc8\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Open the e-file and keep a pawn presence in the center.\", \"Open lines and convert the center into a structure fight.\", \"Develop and support d4 and e5, also helps king safety.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Complete development and prepare castling, also supports ...f6 breaks sometimes.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-24-e4-c6-d4-d5-e5-c5-c3-nc6\",\n    name: \"Line 24: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Nc6\", \"Nf3\", \"cxd4\", \"cxd4\", \"Bg4\", \"Be2\", \"e6\", \"O-O\", \"Nge7\", \"Nc3\", \"Nf5\", \"Be3\", \"Be7\", \"h3\", \"Bxf3\", \"Bxf3\", \"O-O\", \"Rc1\", \"f6\", \"exf6\", \"Bxf6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop and support d4 and e5, also helps king safety.\", \"Resolve central tension and force White to define their structure.\", \"Resolve central tension and force White to define their structure.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Develop without committing the f-pawn, preparing ...Nf5 and solid king safety.\", \"Develop, add central control, and support key pawn breaks.\", \"Jump to an active square to hit d4/e3/g3 and pressure key pawns.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Complete development and prepare castling, also supports ...f6 breaks sometimes.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"Remove a defender and often force White to choose structure damage or queen recapture.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Put the rook on the open or semi-open file and pressure c-file targets.\", \"Directly attack the e5 pawn. It can be necessary but it creates king-safety commitments.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-25-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 25: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"Bb5\", \"e6\", \"Bxc6+\", \"bxc6\", \"b4\", \"a5\", \"c3\", \"axb4\", \"cxb4\", \"Qh4\", \"Bd2\", \"Qe4+\", \"Qe2\", \"Qxg2\", \"Qf3\", \"Qg6\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Trade to clarify structure and sometimes win time on development. With check to force a reply and keep tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Support the pawn on c5 or gain space. Usually costs development, so it must be justified.\", \"Hit the pawn chain on b4/b5 and open files on the queenside.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-26-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 26: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"f4\", \"Nh6\", \"Nf3\", \"Bg4\", \"Be2\", \"e6\", \"Be3\", \"Nf5\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Support e5 and grab kingside space, but can weaken e4 and king safety.\", \"Develop toward f5 without blocking the f-pawn; a common maneuver vs f4 structures.\", \"Develop and support d4 and e5, also helps king safety.\", \"Pin the knight and increase pressure on d4 or f3-based structures.\", \"Unpin and prepare castling without conceding structure damage.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Jump to an active square to hit d4/e3/g3 and pressure key pawns.\"],\n  },\n  {\n    category: \"Classical or Two Knights\",\n    id: \"caro-kann-line-27-e4-c6-d4-d5-nc3-dxe4-nxe4-nf6\",\n    name: \"Line 27: e4 c6 d4 d5 Nc3 dxe4 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"Nc3\", \"dxe4\", \"Nxe4\", \"Nf6\", \"Nxf6+\", \"exf6\", \"Nf3\", \"Bd6\", \"Bd3\", \"O-O\", \"O-O\", \"Re8\", \"h3\", \"Nd7\", \"c3\", \"Nf8\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Develop, add central control, and support key pawn breaks.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and support d4 and e5, also helps king safety.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Classical or Two Knights\",\n    id: \"caro-kann-line-28-e4-c6-d4-d5-nc3-dxe4-nxe4-nf6\",\n    name: \"Line 28: e4 c6 d4 d5 Nc3 dxe4 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"Nc3\", \"dxe4\", \"Nxe4\", \"Nf6\", \"Nxf6+\", \"exf6\", \"c3\", \"Bd6\", \"Bd3\", \"O-O\", \"Qc2\", \"Re8+\", \"Ne2\", \"h5\", \"O-O\", \"h4\", \"h3\", \"Nd7\", \"Be3\", \"Nf8\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Develop, add central control, and support key pawn breaks.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Develop and pressure e4/d5 squares, aiming to increase central pressure.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"Capture to change the pawn structure or remove a key defender. Make sure the recapture does not give the opponent tempo.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Force a response with check, gaining tempo to improve your attack or development.\", \"Reposition to avoid pins and support f4 or g3 setups.\", \"Space gain and sometimes a hook to attack White's kingside pawn chain (or gain air). Risky if it weakens squares.\", \"King safety and rook activation. Often the best way to connect pieces before tactics.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Ask the pinning bishop to decide and reduce long-term pin pressure.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\"],\n  },\n  {\n    category: \"Advance Variation\",\n    id: \"caro-kann-line-29-e4-c6-d4-d5-e5-c5-dxc5-nc6\",\n    name: \"Line 29: e4 c6 d4 d5 e5 c5 ...\",\n    description: \"From your provided repertoire list. Explanations focus on plan, targets, and typical Caro-Kann ideas.\",\n    moves: [\"e4\", \"c6\", \"d4\", \"d5\", \"e5\", \"c5\", \"dxc5\", \"Nc6\", \"Bb5\", \"e6\", \"Be3\", \"Ne7\", \"c3\", \"Nf5\", \"Bd4\", \"Bd7\"],\n    explanations: [\"Claim space and open lines for the king bishop and queen.\", \"Prepare ...d5 while keeping the light-squared bishop free.\", \"Build a strong center and support e4.\", \"Challenge the center immediately. The Caro-Kann is about pressure, not mirroring.\", \"Advance and gain space, but accept that the pawn can become a target.\", \"Hit White's center from the side. This is a main Caro-Kann break vs the Advance.\", \"Grab the pawn, but give Black development tempo and a clear target to win back.\", \"Develop and pressure d4 and e5. Also supports ...d4 or ...e5 ideas in some lines.\", \"Develop with pressure and often provoke concessions like ...Bd7 or ...Qa5.\", \"Support ...d5 or ...c5 structure, open the dark bishop, and prepare king safety.\", \"Develop and often fight Qb6/Qa5 pressure by covering key squares.\", \"Black improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Support d4 and prepare to recapture with a pawn, keeping central control.\", \"Jump to an active square to hit d4/e3/g3 and pressure key pawns.\", \"White improves piece placement or pawn structure. The point is to support the current plan without conceding tempo.\", \"Challenge the bishop and complete development while defending key squares.\"],\n  },\n];","export const queensGambitAcceptedLines = [\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-01\",\n    \"name\": \"Central break with e4 and queenside undermine\",\n    \"description\": \"Accepted pawn, then White builds a center and breaks Black's pawn chain.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"c6\",\n      \"axb5\",\n      \"cxb5\",\n      \"Nc3\",\n      \"Bd7\",\n      \"d5\",\n      \"e6\",\n      \"dxe6\",\n      \"fxe6\",\n      \"Nxb5\",\n      \"Bxb5\",\n      \"Qh5+\",\n      \"g6\",\n      \"Qxb5+\"\n    ],\n    \"explanations\": [\n      \"Establishes central control and opens lines for the queen and bishop.\",\n      \"Black occupies the center, preparing a solid pawn structure.\",\n      \"Offers the queen's gambit to disrupt Black's center and gain space.\",\n      \"Black accepts the gambit, taking a pawn but delaying development.\",\n      \"White builds a strong pawn center, creating immediate pressure.\",\n      \"Black defends the pawn while expanding on the queenside.\",\n      \"White immediately challenges the advanced b5 pawn, creating tension.\",\n      \"Black protects the b5 pawn with this pawn move.\",\n      \"Forces the capture, opening the a-file for White's rook.\",\n      \"Black recaptures, maintaining material but weakening queenside structure.\",\n      \"Develops a knight with tempo as it attacks the loose b5 pawn.\",\n      \"Black saves the bishop from potential capture after Nxb5.\",\n      \"White pushes the d-pawn to cramp Black's position and limit piece activity.\",\n      \"Black challenges the advanced d5 pawn to open lines.\",\n      \"Creates an isolated pawn for Black and opens the e-file.\",\n      \"Black recaptures toward the center but creates a weak doubled e-pawn.\",\n      \"White exploits the pinned b5 pawn to win material.\",\n      \"Black must recapture, losing the bishop pair advantage.\",\n      \"A discovered attack on the unprotected bishop on b5 with check!\",\n      \"Black blocks the check but weakens the kingside dark squares.\",\n      \"Wins back the bishop with tempo, leaving White up material.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-02\",\n    \"name\": \"Early ...e5, attack on h8 rook\",\n    \"description\": \"A forcing tactical line where White's queen infiltrates to win the rook.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"c5\",\n      \"Ne5\",\n      \"Be6\",\n      \"Bxe6\",\n      \"fxe6\",\n      \"Qh5+\",\n      \"g6\",\n      \"Nxg6\",\n      \"hxg6\",\n      \"Qxh8\"\n    ],\n    \"explanations\": [\n      \"Standard central pawn opening.\",\n      \"Mirrors White's central control.\",\n      \"Queen's Gambit offer to challenge Black's center.\",\n      \"Accepting the gambit but giving up center control.\",\n      \"White establishes a strong pawn center (e4, d4).\",\n      \"Black immediately challenges the center, creating tactical possibilities.\",\n      \"Develops knight while attacking e5 pawn.\",\n      \"Black takes the pawn but opens the e-file for White.\",\n      \"White recovers the gambit pawn with active piece development.\",\n      \"Black tries to challenge White's center and gain space.\",\n      \"White occupies a strong central outpost, threatening multiple ideas.\",\n      \"Black develops bishop, attacking White's strong bishop on c4.\",\n      \"Forces a structural weakness: if ...fxe6, the f-file opens and kingside weakens.\",\n      \"Black recaptures, creating a doubled pawn and weakening the kingside.\",\n      \"Check! Targeting the weak g6 square and exposed dark squares.\",\n      \"Forced: the only legal move blocks but critically weakens dark squares.\",\n      \"Sacrifices the knight to destroy Black's pawn shield and expose the king.\",\n      \"Forced recapture, opening the h-file completely.\",\n      \"White wins the rook as the h8 rook is trapped and unprotected.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-03\",\n    \"name\": \"Rook win with Rxa8\",\n    \"description\": \"Simple trap: queenside rook is taken after ...b5 and ...a6 setup.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"a6\",\n      \"axb5\",\n      \"axb5\",\n      \"Rxa8\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer to create imbalance.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black tries to hold onto the gambit pawn with this expansion.\",\n      \"White immediately challenges the advanced pawn, creating a weakness.\",\n      \"Black defends the pawn but creates an opportunity for White.\",\n      \"Forces the capture, opening the a-file completely.\",\n      \"Black recaptures, but now the rook on a8 is unprotected.\",\n      \"White immediately captures the undefended rook on a8, winning material.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-04\",\n    \"name\": \"Kingside attack and bishop takes f8\",\n    \"description\": \"White pushes e5 and aims for a quick tactic on f8.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e6\",\n      \"Bxc4\",\n      \"Nf6\",\n      \"Nc3\",\n      \"Be7\",\n      \"e5\",\n      \"Nd5\",\n      \"Qg4\",\n      \"O-O\",\n      \"Bh6\",\n      \"g6\",\n      \"Bxf8\"\n    ],\n    \"explanations\": [\n      \"Standard opening move to control center.\",\n      \"Establishes central presence.\",\n      \"Queen's Gambit offer to create play.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black prepares to develop the kingside bishop.\",\n      \"White recovers the pawn with active piece development.\",\n      \"Black develops knight, attacking e4 pawn.\",\n      \"White develops knight, reinforcing the e4 pawn.\",\n      \"Black develops bishop, preparing to castle.\",\n      \"White gains space and attacks the knight on f6.\",\n      \"Black retreats the knight to a central square.\",\n      \"White's queen targets the weak g7 pawn and prevents castling.\",\n      \"Black castles kingside despite the pressure.\",\n      \"White develops bishop with tempo, attacking the g7 pawn.\",\n      \"Black defends g7 but weakens dark squares around the king.\",\n      \"White captures the bishop, removing a key defender and winning material.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-05\",\n    \"name\": \"Bxf7 sacrifice and queen takes g4\",\n    \"description\": \"Accepted pawn, then tactical sequence with a bishop sacrifice to expose the king.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"Bg4\",\n      \"Bxc4\",\n      \"exd4\",\n      \"Bxf7+\",\n      \"Kxf7\",\n      \"Ne5+\",\n      \"Ke8\",\n      \"Qxg4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black pins the knight to the queen, creating tactical possibilities.\",\n      \"White recovers the pawn, developing with tempo.\",\n      \"Black captures in the center but opens the e-file.\",\n      \"Greek Gift sacrifice! Destroys Black's pawn shield and exposes the king.\",\n      \"Forced capture, but now the king is exposed in the center.\",\n      \"Knight check, exploiting the exposed king position.\",\n      \"The king must retreat, losing castling rights.\",\n      \"White wins back the bishop, maintaining material advantage with better development.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-06\",\n    \"name\": \"Qb3 pressure and queen side raid\",\n    \"description\": \"Development with Qb3, then tactical captures on b7 and c6.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"Nc6\",\n      \"O-O\",\n      \"Bg4\",\n      \"Qb3\",\n      \"Qd7\",\n      \"Bxf7+\",\n      \"Qxf7\",\n      \"Qxb7\",\n      \"Rd8\",\n      \"Qxc6+\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recovers the pawn with active development.\",\n      \"Black develops knight, attacking d4 square.\",\n      \"White castles to safety and connects rooks.\",\n      \"Black pins the knight, creating pressure.\",\n      \"White attacks f7 and b7 simultaneously, creating double threats.\",\n      \"Black defends f7 but blocks the d7 square.\",\n      \"Sacrifice to expose Black's king and queen position.\",\n      \"Black must capture with the queen, now exposed on f7.\",\n      \"White wins a pawn and attacks the rook on a8.\",\n      \"Black moves rook to a safer square.\",\n      \"Check! Wins the knight and maintains initiative.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-07\",\n    \"name\": \"Forcing mate with Qe6#\",\n    \"description\": \"A direct mating pattern after queen and bishop coordinate on e6.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"Nc6\",\n      \"O-O\",\n      \"Bg4\",\n      \"Qb3\",\n      \"Bxf3\",\n      \"Bxf7+\",\n      \"Ke7\",\n      \"Qe6#\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recovers the pawn with active development.\",\n      \"Black develops knight, attacking d4 square.\",\n      \"White castles to safety.\",\n      \"Black pins the knight, creating pressure.\",\n      \"White attacks f7 and b7 simultaneously.\",\n      \"Black captures the knight, but removes the pin.\",\n      \"Sacrifice to expose the king's position.\",\n      \"King must move to e7, blocking the bishop's escape.\",\n      \"Checkmate! King cannot move and is attacked by queen and bishop.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-08\",\n    \"name\": \"Qxa4+ and win back pawn\",\n    \"description\": \"White immediately recaptures the pawn with check and stabilizes.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"bxa4\",\n      \"Qxa4+\",\n      \"Bd7\",\n      \"Qxc4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black tries to hold onto the gambit pawn.\",\n      \"White immediately challenges the advanced pawn.\",\n      \"Black captures, opening the a-file.\",\n      \"Check! White develops queen with tempo, attacking a4 pawn and rook.\",\n      \"Black blocks the check and develops a piece.\",\n      \"White recaptures the gambit pawn, equalizing material with better development.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-09\",\n    \"name\": \"Simplify with Qxf3\",\n    \"description\": \"Clean line where White eliminates the pin and consolidates.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"Bg4\",\n      \"Bxc4\",\n      \"Bxf3\",\n      \"Qxf3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black pins the knight, creating pressure.\",\n      \"White recovers the pawn with active development.\",\n      \"Black captures the knight, eliminating the pin but giving up bishop pair.\",\n      \"White recaptures, developing the queen actively and maintaining the bishop pair advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-10\",\n    \"name\": \"Knight fork with Nc7+\",\n    \"description\": \"Tactical idea: jump to c7 with check to win material or force concessions.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"c6\",\n      \"axb5\",\n      \"cxb5\",\n      \"Nc3\",\n      \"b4\",\n      \"Nb5\",\n      \"a6\",\n      \"Bf4\",\n      \"Bb7\",\n      \"Nc7+\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black tries to hold onto the gambit pawn.\",\n      \"White immediately challenges the advanced pawn.\",\n      \"Black defends the pawn.\",\n      \"White captures, opening the a-file.\",\n      \"Black recaptures, maintaining material.\",\n      \"White develops knight, attacking b5 pawn.\",\n      \"Black pushes the pawn to attack the knight.\",\n      \"White jumps to b5, threatening c7 fork.\",\n      \"Black attacks the knight.\",\n      \"White develops bishop with tempo, attacking c7.\",\n      \"Black develops bishop, attacking e4 pawn.\",\n      \"Knight fork! Attacks both king and rook, winning material.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-11\",\n    \"name\": \"Advance to d6 and squeeze\",\n    \"description\": \"Space grab with d5 then d6, restricting Black's development.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"c6\",\n      \"axb5\",\n      \"cxb5\",\n      \"Nc3\",\n      \"Bd7\",\n      \"d5\",\n      \"a6\",\n      \"Nf3\",\n      \"e6\",\n      \"d6\",\n      \"Qb6\",\n      \"e5\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black tries to hold onto the gambit pawn.\",\n      \"White immediately challenges the advanced pawn.\",\n      \"Black defends the pawn.\",\n      \"White captures, opening the a-file.\",\n      \"Black recaptures, maintaining material.\",\n      \"White develops knight, attacking b5 pawn.\",\n      \"Black develops bishop to protect b5.\",\n      \"White advances d-pawn, cramping Black's position.\",\n      \"Black prepares b4 push.\",\n      \"White develops knight to natural square.\",\n      \"Black challenges the advanced d-pawn.\",\n      \"White advances further, creating a powerful passed pawn that restricts Black's pieces.\",\n      \"Black develops queen to attack d6 pawn.\",\n      \"White gains more space and restricts Black's knight development.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-12\",\n    \"name\": \"Develop and regroup with Qb3\",\n    \"description\": \"Positional line: develop pieces and keep pressure on b7 and c4.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"Nc6\",\n      \"O-O\",\n      \"Be6\",\n      \"Nbd2\",\n      \"Nf6\",\n      \"Qb3\",\n      \"Bxc4\",\n      \"Nxc4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recovers the pawn with active development.\",\n      \"Black develops knight, attacking d4 square.\",\n      \"White castles to safety.\",\n      \"Black develops bishop, attacking White's strong bishop.\",\n      \"White develops knight, reinforcing the center.\",\n      \"Black develops knight to natural square.\",\n      \"White attacks f7 and b7 simultaneously.\",\n      \"Black captures the bishop, simplifying.\",\n      \"White recaptures with knight, maintaining pressure on d5 and e5 squares.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-13\",\n    \"name\": \"Qh3 retreat after sacrifice\",\n    \"description\": \"White's queen retreats but keeps pressure after tactical exchanges.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"c5\",\n      \"Ne5\",\n      \"Be6\",\n      \"Bxe6\",\n      \"fxe6\",\n      \"Qh5+\",\n      \"g6\",\n      \"Nxg6\",\n      \"Nf6\",\n      \"Qh3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recovers the pawn with active development.\",\n      \"Black challenges White's center further.\",\n      \"White occupies strong central outpost.\",\n      \"Black develops bishop, attacking White's bishop.\",\n      \"White captures, forcing structural weakness.\",\n      \"Black recaptures, creating doubled pawns.\",\n      \"Check! Attacking weak g6 square.\",\n      \"Black blocks, weakening dark squares.\",\n      \"Sacrifice to destroy Black's pawn structure.\",\n      \"Black develops knight, attacking the queen.\",\n      \"White retreats queen to safe square while maintaining pressure on e6 pawn.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-14\",\n    \"name\": \"Exchange sacrifice on a8 then Ra2\",\n    \"description\": \"Queenside tactics with rook invasion and follow-up rook repositioning.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"b5\",\n      \"a4\",\n      \"c6\",\n      \"axb5\",\n      \"cxb5\",\n      \"Nc3\",\n      \"a6\",\n      \"Nxb5\",\n      \"axb5\",\n      \"Rxa8\",\n      \"Bb7\",\n      \"Ra2\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black tries to hold onto the gambit pawn.\",\n      \"White immediately challenges the advanced pawn.\",\n      \"Black defends the pawn.\",\n      \"White captures, opening the a-file.\",\n      \"Black recaptures, maintaining material.\",\n      \"White develops knight, attacking b5 pawn.\",\n      \"Black protects the pawn.\",\n      \"White sacrifices knight for two pawns and initiative.\",\n      \"Black captures, winning material temporarily.\",\n      \"White captures rook, regaining material with interest.\",\n      \"Black develops bishop, attacking the rook.\",\n      \"White retreats rook to safe square, maintaining the extra pawn.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-15\",\n    \"name\": \"Solid development against Bb4\",\n    \"description\": \"Accepted pawn line where White develops and castles safely.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e6\",\n      \"Bxc4\",\n      \"Nf6\",\n      \"Nc3\",\n      \"Bb4\",\n      \"e5\",\n      \"Nd5\",\n      \"Ne2\",\n      \"O-O\",\n      \"O-O\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black prepares bishop development.\",\n      \"White recovers the pawn with active development.\",\n      \"Black develops knight, attacking e4 pawn.\",\n      \"White develops knight, reinforcing e4 pawn.\",\n      \"Black pins the knight, creating pressure.\",\n      \"White gains space and attacks the knight.\",\n      \"Black retreats knight to central square.\",\n      \"White develops knight to avoid the pin and protect c3.\",\n      \"Black castles to safety.\",\n      \"White castles to safety, completing development.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Accepted\",\n    \"id\": \"queens-gambit-accepted-16\",\n    \"name\": \"Quiet line: trade and develop\",\n    \"description\": \"Standard development with Nbd2 and recapture on c4.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"dxc4\",\n      \"e4\",\n      \"e5\",\n      \"Nf3\",\n      \"exd4\",\n      \"Bxc4\",\n      \"Nc6\",\n      \"O-O\",\n      \"Be6\",\n      \"Nbd2\",\n      \"Bxc4\",\n      \"Nxc4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Central pawn response.\",\n      \"Queen's Gambit offer.\",\n      \"Accepts the pawn but gives up center control.\",\n      \"White builds a strong pawn center.\",\n      \"Black immediately challenges White's center.\",\n      \"White develops knight, attacking e5 pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recovers the pawn with active development.\",\n      \"Black develops knight, attacking d4 square.\",\n      \"White castles to safety.\",\n      \"Black develops bishop, attacking White's bishop.\",\n      \"White develops knight, preparing to recapture on c4.\",\n      \"Black captures the bishop, simplifying.\",\n      \"White recaptures with knight, maintaining central control and piece activity.\"\n    ]\n  }\n];","export const queensGambitDeclinedLines = [\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-01\",\n    \"name\": \"Ragozin style with Bb4 and tactical shot\",\n    \"description\": \"Bb4 pin and a forcing sequence that includes a sacrifice idea on h7.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Bb4\",\n      \"e3\",\n      \"Nf6\",\n      \"a3\",\n      \"Bxc3+\",\n      \"bxc3\",\n      \"O-O\",\n      \"cxd5\",\n      \"Nxd5\",\n      \"Bd3\",\n      \"Nxc3\",\n      \"Qc2\",\n      \"Nd5\",\n      \"Bxh7+\",\n      \"Kh8\",\n      \"Bd3\"\n    ],\n    \"explanations\": [\n      \"Establishes central control and opens lines.\",\n      \"Solid central response, declining the gambit.\",\n      \"Queen's Gambit offer to challenge Black's center.\",\n      \"Prepares bishop development while maintaining central tension.\",\n      \"Develops knight, increasing control over central squares.\",\n      \"Ragozin Defense: pins the knight, creating immediate pressure.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Develops knight, attacking the c4 pawn indirectly.\",\n      \"Forces Black to decide about the bishop on b4.\",\n      \"Black gives up the bishop pair but doubles White's pawns.\",\n      \"White gets the bishop pair but has doubled c-pawns.\",\n      \"Black secures the king and connects rooks.\",\n      \"White resolves central tension, opening the c-file.\",\n      \"Black recaptures with the knight, maintaining piece activity.\",\n      \"White develops bishop actively, eyeing the h7 square.\",\n      \"Black captures the pawn but removes a defender from the kingside.\",\n      \"White develops queen with tempo, attacking the knight.\",\n      \"Black retreats the knight, but it's now overloaded.\",\n      \"Greek Gift sacrifice! Standard attack against castled king.\",\n      \"Forced: King moves to h8 to avoid checkmate threats.\",\n      \"White retreats bishop, maintaining the attack with threats like Qh7#.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-02\",\n    \"name\": \"Tarrasch structure, early simplification\",\n    \"description\": \"Tarrasch type structure where White wins a central pawn after exchanges.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c5\",\n      \"cxd5\",\n      \"exd5\",\n      \"Nf3\",\n      \"Nc6\",\n      \"dxc5\",\n      \"Bxc5\",\n      \"Qxd5\",\n      \"Qxd5\",\n      \"Nxd5\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development while maintaining structure.\",\n      \"Develops knight to control central squares.\",\n      \"Tarrasch Defense: immediately challenges White's center.\",\n      \"White exchanges to create an isolated queen's pawn for Black.\",\n      \"Black must recapture with the pawn, creating an isolated d-pawn.\",\n      \"White develops knight, increasing pressure on d5.\",\n      \"Black develops knight, defending the d5 pawn indirectly.\",\n      \"White captures, forcing Black to recapture and giving White a central pawn majority.\",\n      \"Black recaptures with the bishop, developing a piece.\",\n      \"White immediately attacks the isolated d5 pawn.\",\n      \"Black exchanges queens to simplify the position.\",\n      \"White recaptures with the knight, gaining a central outpost.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-03\",\n    \"name\": \"Semi-Slav: aggressive queen sortie\",\n    \"description\": \"Semi-Slav structure with space and early queen pressure.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c6\",\n      \"e4\",\n      \"Nf6\",\n      \"cxd5\",\n      \"cxd5\",\n      \"e5\",\n      \"Nfd7\",\n      \"Qg4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Semi-Slav Defense: supports d5 pawn and prepares ...b5.\",\n      \"White strikes in the center, claiming more space.\",\n      \"Black develops knight, attacking e4 pawn.\",\n      \"White exchanges to open the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White gains space and attacks the knight.\",\n      \"Black retreats knight, preparing ...Nc6 or ...Nb6.\",\n      \"White attacks g7 pawn, creating immediate kingside pressure.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-04\",\n    \"name\": \"Exchange QGD: win a pawn with Qxd5\",\n    \"description\": \"Exchange variation with Bg5 and queen picks up d5 after tactical details.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"b6\",\n      \"Bxf6\",\n      \"Bxf6\",\n      \"Qh5\",\n      \"g6\",\n      \"Qxd5\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black prepares to develop bishop to b7.\",\n      \"White captures, removing defender of d5 pawn.\",\n      \"Black recaptures, developing the bishop.\",\n      \"White attacks the weak h7 square.\",\n      \"Black defends but weakens dark squares.\",\n      \"White captures the undefended d5 pawn, winning material.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-05\",\n    \"name\": \"Main Exchange QGD plan with f3 and e4\",\n    \"description\": \"Develop, regroup, then break the center with f3 and e4.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c6\",\n      \"Qc2\",\n      \"h6\",\n      \"Bh4\",\n      \"Nbd7\",\n      \"Nge2\",\n      \"Re8\",\n      \"O-O\",\n      \"Ne4\",\n      \"Bxe7\",\n      \"Qxe7\",\n      \"Rae1\",\n      \"Ndf6\",\n      \"f3\",\n      \"Nd6\",\n      \"e4\",\n      \"dxe4\",\n      \"fxe4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black supports the d5 pawn.\",\n      \"White develops queen to support e4 break.\",\n      \"Black attacks the bishop.\",\n      \"White retreats bishop, maintaining the pin.\",\n      \"Black develops knight, preparing ...Ne4.\",\n      \"White develops knight, preparing f3 and e4.\",\n      \"Black activates rook on semi-open file.\",\n      \"White castles to safety.\",\n      \"Black occupies central outpost.\",\n      \"White exchanges bishops to relieve pressure.\",\n      \"Black recaptures with queen.\",\n      \"White activates rook on e-file.\",\n      \"Black repositions knight.\",\n      \"White prepares e4 break by supporting the pawn.\",\n      \"Black retreats knight.\",\n      \"White executes central break.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures, gaining central space and activity.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-06\",\n    \"name\": \"Semi-Slav: push e5\",\n    \"description\": \"Semi-Slav structure where White gains space with e5.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c6\",\n      \"e4\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"e5\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Semi-Slav Defense: supports d5 pawn.\",\n      \"White strikes in the center, claiming more space.\",\n      \"Black develops knight, attacking e4 pawn.\",\n      \"White exchanges to open the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White gains space, attacks the knight, and restricts Black's pieces.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-07\",\n    \"name\": \"Exchange QGD: Nf4 plan\",\n    \"description\": \"Standard exchange structure with a kingside plan and piece maneuver.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"h6\",\n      \"Bh4\",\n      \"c6\",\n      \"Nge2\",\n      \"Bg4\",\n      \"f3\",\n      \"Bh5\",\n      \"Nf4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black attacks the bishop.\",\n      \"White retreats bishop, maintaining the pin.\",\n      \"Black supports the d5 pawn.\",\n      \"White develops knight, preparing kingside plans.\",\n      \"Black pins the knight.\",\n      \"White breaks the pin and gains space.\",\n      \"Black retreats bishop.\",\n      \"White maneuvers knight to attack weak d5 and h5 squares.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-08\",\n    \"name\": \"Ragozin: Ba3 idea\",\n    \"description\": \"Ba3 targets the queenside and pressures the diagonal.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Bb4\",\n      \"e3\",\n      \"Bxc3+\",\n      \"bxc3\",\n      \"Nf6\",\n      \"Ba3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Ragozin Defense: pins the knight.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black captures, doubling White's pawns.\",\n      \"White recaptures, opening b-file.\",\n      \"Black develops knight.\",\n      \"White develops bishop to target Black's weak queenside pawns and control long diagonal.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-09\",\n    \"name\": \"Exchange QGD: dxc5 break\",\n    \"description\": \"Long plan that ends with dxc5 to open queenside lines.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c6\",\n      \"Qc2\",\n      \"h6\",\n      \"Bh4\",\n      \"Nbd7\",\n      \"Nge2\",\n      \"Re8\",\n      \"O-O\",\n      \"Nf8\",\n      \"f3\",\n      \"Ne6\",\n      \"Rad1\",\n      \"c5\",\n      \"dxc5\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black supports the d5 pawn.\",\n      \"White develops queen to support e4 break.\",\n      \"Black attacks the bishop.\",\n      \"White retreats bishop, maintaining the pin.\",\n      \"Black develops knight, preparing ...Ne4.\",\n      \"White develops knight, preparing f3 and e4.\",\n      \"Black activates rook on semi-open file.\",\n      \"White castles to safety.\",\n      \"Black repositions knight for kingside defense.\",\n      \"White prepares e4 break.\",\n      \"Black develops knight to active square.\",\n      \"White activates rook on d-file.\",\n      \"Black challenges White's center.\",\n      \"White captures, opening the center and gaining pawn majority.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-10\",\n    \"name\": \"QGD with ...dxc4, immediate e4\",\n    \"description\": \"Black takes on c4, White responds by building a strong pawn center.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"dxc4\",\n      \"e4\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Black accepts the gambit in QGD structure.\",\n      \"White immediately builds strong pawn center, compensating for the pawn.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-11\",\n    \"name\": \"Exchange QGD: f5 and recapture\",\n    \"description\": \"Line featuring ...f5 and a clean Nxc3 recapture.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c6\",\n      \"Qc2\",\n      \"h6\",\n      \"Bh4\",\n      \"Nbd7\",\n      \"Nge2\",\n      \"Re8\",\n      \"O-O\",\n      \"Ne4\",\n      \"Bxe7\",\n      \"Qxe7\",\n      \"Rae1\",\n      \"f5\",\n      \"f3\",\n      \"Nxc3\",\n      \"Nxc3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black supports the d5 pawn.\",\n      \"White develops queen to support e4 break.\",\n      \"Black attacks the bishop.\",\n      \"White retreats bishop, maintaining the pin.\",\n      \"Black develops knight, preparing ...Ne4.\",\n      \"White develops knight, preparing f3 and e4.\",\n      \"Black activates rook on semi-open file.\",\n      \"White castles to safety.\",\n      \"Black occupies central outpost.\",\n      \"White exchanges bishops to relieve pressure.\",\n      \"Black recaptures with queen.\",\n      \"White activates rook on e-file.\",\n      \"Black gains kingside space but weakens e5 square.\",\n      \"White attacks the knight and prepares e4.\",\n      \"Black captures knight to relieve pressure.\",\n      \"White recaptures, maintaining central control.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-12\",\n    \"name\": \"Exchange QGD: c5 and dxc5\",\n    \"description\": \"Black strikes with ...c5, White takes on c5 to win time.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c5\",\n      \"dxc5\",\n      \"Bxc5\",\n      \"Nge2\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black challenges White's center.\",\n      \"White captures, gaining pawn majority and opening position.\",\n      \"Black recaptures, developing bishop.\",\n      \"White develops knight, preparing to attack weak d5 pawn.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-13\",\n    \"name\": \"QGD Exchange: Carlsbad style build-up\",\n    \"description\": \"Build up, then develop Bb2 in a Carlsbad-type structure.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"Nxd5\",\n      \"e4\",\n      \"Nxc3\",\n      \"bxc3\",\n      \"Be7\",\n      \"Nf3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c5\",\n      \"O-O\",\n      \"cxd4\",\n      \"cxd4\",\n      \"Nc6\",\n      \"Bb2\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures with knight instead of pawn.\",\n      \"White gains space in the center.\",\n      \"Black captures, doubling White's pawns.\",\n      \"White recaptures, opening b-file.\",\n      \"Black develops bishop, preparing to castle.\",\n      \"White develops knight to natural square.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black challenges White's center.\",\n      \"White castles to safety.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures, maintaining central pawn.\",\n      \"Black develops knight, attacking d4 pawn.\",\n      \"White develops bishop to target Black's kingside and control long diagonal.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-14\",\n    \"name\": \"Semi-Slav: sharp line with check\",\n    \"description\": \"Semi-Slav structure with Bb4+ and forcing exchanges.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c6\",\n      \"e4\",\n      \"dxe4\",\n      \"Nxe4\",\n      \"Nf6\",\n      \"Nxf6+\",\n      \"Qxf6\",\n      \"Nf3\",\n      \"Bb4+\",\n      \"Bd2\",\n      \"Bxd2+\",\n      \"Qxd2\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Semi-Slav Defense: supports d5 pawn.\",\n      \"White strikes in the center.\",\n      \"Black captures, accepting the pawn.\",\n      \"White recaptures with knight.\",\n      \"Black attacks the knight.\",\n      \"White captures, forcing queen recapture.\",\n      \"Black recaptures with queen.\",\n      \"White develops knight to natural square.\",\n      \"Check! Black develops bishop with tempo.\",\n      \"White blocks the check and develops bishop.\",\n      \"Check! Black exchanges bishops.\",\n      \"White recaptures, developing queen actively.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-15\",\n    \"name\": \"Semi-Slav: queen grab and tactics\",\n    \"description\": \"Tactical line with early queen grabs and checks.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c6\",\n      \"e4\",\n      \"dxe4\",\n      \"Nxe4\",\n      \"Bb4+\",\n      \"Bd2\",\n      \"Qxd4\",\n      \"Bxb4\",\n      \"Qxe4+\",\n      \"Be2\",\n      \"Qxg2\",\n      \"Bf3\",\n      \"Qg5\",\n      \"Ne2\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Semi-Slav Defense: supports d5 pawn.\",\n      \"White strikes in the center.\",\n      \"Black captures, accepting the pawn.\",\n      \"White recaptures with knight.\",\n      \"Check! Black develops bishop with tempo.\",\n      \"White blocks the check and develops bishop.\",\n      \"Black captures central pawn with queen.\",\n      \"White captures bishop, attacking the queen.\",\n      \"Check! Black saves queen and attacks bishop.\",\n      \"White blocks the check and develops bishop.\",\n      \"Black captures pawn and attacks rook.\",\n      \"White defends rook and attacks queen.\",\n      \"Black moves queen to safer square.\",\n      \"White develops knight, preparing to attack exposed queen.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-16\",\n    \"name\": \"Tarrasch: Qa4+ and regain\",\n    \"description\": \"Queen check then regain central material with tempo.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c5\",\n      \"cxd5\",\n      \"cxd4\",\n      \"Qa4+\",\n      \"Bd7\",\n      \"Qxd4\",\n      \"exd5\",\n      \"Qxd5\",\n      \"Nf6\",\n      \"Qb3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Tarrasch Defense: immediately challenges center.\",\n      \"White exchanges to open position.\",\n      \"Black captures pawn with pawn.\",\n      \"Check! White develops queen with tempo, attacking a7.\",\n      \"Black blocks check and develops bishop.\",\n      \"White captures pawn, regaining material.\",\n      \"Black recaptures pawn.\",\n      \"White captures pawn, equalizing material.\",\n      \"Black develops knight, attacking queen.\",\n      \"White retreats queen to active square, maintaining pressure on b7 and d5.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-17\",\n    \"name\": \"Tarrasch: isolate pressure and Rc1\",\n    \"description\": \"Tactical sequence and rook activation with Rc1.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"c5\",\n      \"cxd5\",\n      \"exd5\",\n      \"Nf3\",\n      \"Nc6\",\n      \"dxc5\",\n      \"d4\",\n      \"Na4\",\n      \"Bxc5\",\n      \"Nxc5\",\n      \"Qa5+\",\n      \"Bd2\",\n      \"Qxc5\",\n      \"Rc1\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Tarrasch Defense: immediately challenges center.\",\n      \"White exchanges to isolate Black's d-pawn.\",\n      \"Black recaptures, creating isolated pawn.\",\n      \"White develops knight to natural square.\",\n      \"Black develops knight, attacking d4 square.\",\n      \"White captures, gaining pawn.\",\n      \"Black advances pawn, gaining space.\",\n      \"White moves knight to attack bishop.\",\n      \"Black captures pawn, developing bishop.\",\n      \"White captures bishop, gaining material.\",\n      \"Check! Black attacks knight with queen.\",\n      \"White blocks check and develops bishop.\",\n      \"Black captures knight, regaining material.\",\n      \"White activates rook on semi-open file, attacking queen.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-18\",\n    \"name\": \"QGD Exchange: long mainline with b6\",\n    \"description\": \"Long exchange mainline with queenside development and activity.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"Nxd5\",\n      \"e4\",\n      \"Nxc3\",\n      \"bxc3\",\n      \"c5\",\n      \"Nf3\",\n      \"cxd4\",\n      \"cxd4\",\n      \"Bb4+\",\n      \"Bd2\",\n      \"Bxd2+\",\n      \"Qxd2\",\n      \"O-O\",\n      \"Bc4\",\n      \"Nd7\",\n      \"O-O\",\n      \"b6\",\n      \"Rfe1\",\n      \"Bb7\",\n      \"Rad1\",\n      \"Rc8\",\n      \"Bb3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures with knight.\",\n      \"White gains space in center.\",\n      \"Black captures, doubling White's pawns.\",\n      \"White recaptures, opening b-file.\",\n      \"Black challenges White's center.\",\n      \"White develops knight to natural square.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures, maintaining central pawn.\",\n      \"Check! Black develops bishop with tempo.\",\n      \"White blocks check and develops bishop.\",\n      \"Check! Black exchanges bishops.\",\n      \"White recaptures, developing queen.\",\n      \"White castles to safety.\",\n      \"White develops bishop to active square.\",\n      \"Black develops knight, preparing ...b6.\",\n      \"Black castles to safety.\",\n      \"Black prepares bishop development.\",\n      \"White activates rook on e-file.\",\n      \"Black develops bishop to long diagonal.\",\n      \"White activates rook on d-file.\",\n      \"Black activates rook on semi-open file.\",\n      \"White retreats bishop to maintain pressure on a2-g8 diagonal.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-19\",\n    \"name\": \"Ragozin: quiet buildup\",\n    \"description\": \"Bb4 pin, then quiet development into a playable middlegame.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Bb4\",\n      \"e3\",\n      \"Nf6\",\n      \"a3\",\n      \"Bxc3+\",\n      \"bxc3\",\n      \"O-O\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bd3\",\n      \"c5\",\n      \"Ne2\",\n      \"Nc6\",\n      \"O-O\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Ragozin Defense: pins the knight.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black develops knight.\",\n      \"White forces bishop decision.\",\n      \"Black captures, doubling White's pawns.\",\n      \"White recaptures, opening b-file.\",\n      \"Black castles to safety.\",\n      \"White exchanges to open position.\",\n      \"Black recaptures, maintaining isolated pawn.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black challenges White's center.\",\n      \"White develops knight, avoiding pawn attacks.\",\n      \"Black develops knight, attacking d4 pawn.\",\n      \"White castles to safety, completing development.\"\n    ]\n  },\n  {\n    \"category\": \"Queen's Gambit Declined\",\n    \"id\": \"queens-gambit-declined-20\",\n    \"name\": \"Exchange QGD: standard mainline\",\n    \"description\": \"Standard exchange mainline through f3 and Nxc3, good for drilling move order.\",\n    \"moves\": [\n      \"d4\",\n      \"d5\",\n      \"c4\",\n      \"e6\",\n      \"Nc3\",\n      \"Nf6\",\n      \"cxd5\",\n      \"exd5\",\n      \"Bg5\",\n      \"Be7\",\n      \"e3\",\n      \"O-O\",\n      \"Bd3\",\n      \"c6\",\n      \"Qc2\",\n      \"h6\",\n      \"Bh4\",\n      \"Nbd7\",\n      \"Nge2\",\n      \"Re8\",\n      \"O-O\",\n      \"Ne4\",\n      \"Bxe7\",\n      \"Qxe7\",\n      \"Rae1\",\n      \"Ndf6\",\n      \"f3\",\n      \"Nxc3\",\n      \"Nxc3\"\n    ],\n    \"explanations\": [\n      \"Standard central opening.\",\n      \"Solid central response.\",\n      \"Queen's Gambit offer.\",\n      \"Prepares bishop development.\",\n      \"Develops knight to control central squares.\",\n      \"Develops knight to natural square.\",\n      \"Exchange variation: simplifies the center.\",\n      \"Black recaptures, maintaining central pawn.\",\n      \"White pins the knight, creating pressure.\",\n      \"Black develops bishop, breaking the pin.\",\n      \"Reinforces the center and prepares bishop development.\",\n      \"Black castles to safety.\",\n      \"White develops bishop to active diagonal.\",\n      \"Black supports the d5 pawn.\",\n      \"White develops queen to support e4 break.\",\n      \"Black attacks the bishop.\",\n      \"White retreats bishop, maintaining the pin.\",\n      \"Black develops knight, preparing ...Ne4.\",\n      \"White develops knight, preparing f3 and e4.\",\n      \"Black activates rook on semi-open file.\",\n      \"White castles to safety.\",\n      \"Black occupies central outpost.\",\n      \"White exchanges bishops to relieve pressure.\",\n      \"Black recaptures with queen.\",\n      \"White activates rook on e-file.\",\n      \"Black repositions knight.\",\n      \"White attacks knight and prepares e4 break.\",\n      \"Black captures knight to relieve pressure.\",\n      \"White recaptures, maintaining central control and piece activity.\"\n    ]\n  }\n];","export const italianGameLines = [\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-01\",\n    \"name\": \"French Attack Transposition\",\n    \"description\": \"e4 e5 opening transposing to French structure\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"e5\", \"Nfd7\", \"f4\", \"c5\", \"Nf3\", \"Nc6\", \"Be3\", \"cxd4\", \"Nxd4\", \"Bc5\", \"Qd2\", \"O-O\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"French Defense - Black prepares to challenge the center with ...d5.\",\n      \"White reinforces the center and prepares to establish a strong pawn duo.\",\n      \"Black immediately challenges White's central pawn structure.\",\n      \"White develops the knight to support the central pawns and attack d5.\",\n      \"Black develops the knight, attacking the e4 pawn and preparing kingside castling.\",\n      \"White advances the pawn, gaining space and attacking the knight.\",\n      \"The knight retreats to a defensive square while supporting the c5 break.\",\n      \"White secures the e5 pawn and prepares a potential kingside expansion.\",\n      \"Black strikes at the center, attacking the d4 pawn and White's pawn chain.\",\n      \"White develops the knight to its natural square, controlling key central squares.\",\n      \"Black develops the knight, increasing pressure on the d4 pawn.\",\n      \"White develops the bishop to support the d4 pawn and prepare queenside castling.\",\n      \"Black captures on d4, forcing the recapture and opening the c-file.\",\n      \"White recaptures with the knight, centralizing the piece and controlling key squares.\",\n      \"Black develops the bishop actively, attacking the knight and pinning it against the queen.\",\n      \"White develops the queen to connect the rooks and prepare queenside castling.\",\n      \"Black castles to safety, completing kingside development and securing the king.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-02\",\n    \"name\": \"Evans Gambit Accepted - Main Line\",\n    \"description\": \"Classical Evans Gambit with aggressive play\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Nxc3\", \"bxc3\", \"Bxc3\", \"Ba3\", \"Bxa1\", \"Re1+\", \"Ne7\", \"Bxe7\", \"Qxe7\", \"Rxe7+\", \"Kxe7\", \"Qxa1\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit! White sacrifices a pawn for rapid development and open lines.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening the c-file and activating the queen's diagonal.\",\n      \"Bishop check - Black pins the knight against the king, creating tactical opportunities.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative and open lines.\",\n      \"Black captures the knight, but helps White open the b-file.\",\n      \"White recaptures, opening the b-file and attacking the bishop.\",\n      \"Black captures the pawn, but the bishop becomes exposed on c3.\",\n      \"Brilliant bishop move! White pins the knight to the king and attacks the rook.\",\n      \"Black captures the rook, winning material but fatally delaying development.\",\n      \"Rook check - White exploits Black's uncastled king and exposed position.\",\n      \"The knight blocks the check, but remains pinned and vulnerable.\",\n      \"White captures the knight, maintaining the pin on the queen.\",\n      \"Black recaptures with the queen, but the queen remains pinned.\",\n      \"Rook captures the queen with check! White's attack reaches decisive proportions.\",\n      \"The king is forced to recapture, losing the right to castle.\",\n      \"White's queen captures the bishop, regaining material with a dominant position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-03\",\n    \"name\": \"Two Knights Defense - Fried Liver Attempt\",\n    \"description\": \"Aggressive knight capture line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"Nxe4\", \"dxe5\", \"Bc5\", \"Qd5\", \"Bxf2+\", \"Kf1\", \"O-O\", \"Qxe4\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, accepting the challenge to White's center.\",\n      \"White recaptures, gaining a central pawn and tempo on the knight.\",\n      \"Black develops the bishop actively, targeting the vulnerable f2 square.\",\n      \"White's queen attacks both the knight and the f7 pawn, creating multiple threats.\",\n      \"Bishop sacrifice! Black creates chaos by exposing White's king position.\",\n      \"White's king is forced to capture, losing the right to castle.\",\n      \"Black castles to safety despite the material sacrifice, securing the king.\",\n      \"White captures the knight, but Black has compensation with White's exposed king.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-04\",\n    \"name\": \"Evans Gambit with Bb6 Retreat\",\n    \"description\": \"Bishop retreats to b6 instead of capturing\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb6\", \"e5\", \"Ng4\", \"h3\", \"Nh6\", \"d5\", \"Na5\", \"Bg5\", \"f6\", \"exf6\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Black retreats the bishop, declining to enter the complications of Bb4+.\",\n      \"White advances the pawn, gaining space and attacking the knight.\",\n      \"The knight moves to attack the vulnerable f2 square, a typical response to e5.\",\n      \"White attacks the knight, forcing it to move or be captured.\",\n      \"The knight retreats to the edge of the board, passive but safe.\",\n      \"White advances the pawn, gaining space and attacking the knight.\",\n      \"The knight attacks the bishop, gaining tempo while developing.\",\n      \"White develops the bishop with a pin on the f6 pawn.\",\n      \"Black attacks the bishop while challenging the center.\",\n      \"White captures the pawn, opening the e-file and isolating Black's d-pawn.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-05\",\n    \"name\": \"Evans Gambit with d6 Defense\",\n    \"description\": \"Black plays d6 to solidify center\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Nxc3\", \"bxc3\", \"Bxc3\", \"Ba3\", \"d6\", \"Rc1\", \"Ba5\", \"Qa4\", \"O-O\", \"d5\", \"Ne5\", \"Nxe5\", \"dxe5\", \"Qxa5\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, but helps White open the b-file.\",\n      \"White recaptures, opening the b-file and attacking the bishop.\",\n      \"Black captures the pawn, but the bishop becomes exposed.\",\n      \"White develops the bishop with a pin on the knight to the king.\",\n      \"Solid defensive move - Black supports the center and opens a retreat for the bishop.\",\n      \"White develops the rook, attacking the exposed bishop.\",\n      \"Black retreats the bishop, maintaining the pin on the knight.\",\n      \"White's queen attacks both the bishop and knight simultaneously.\",\n      \"Black castles to safety, completing kingside development.\",\n      \"White advances the pawn, gaining space in the center.\",\n      \"The knight moves to a central outpost, attacking multiple squares.\",\n      \"White captures the knight, eliminating Black's active piece.\",\n      \"Black recaptures, maintaining material equality.\",\n      \"White's queen captures the bishop, equalizing material with a better position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-06\",\n    \"name\": \"Evans Gambit with Bb4 Retreat\",\n    \"description\": \"Bishop retreats to b4 after capture\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Nxc3\", \"bxc3\", \"Bxc3\", \"Ba3\", \"d6\", \"Rc1\", \"Bb4\", \"Bxb4\", \"Nxb4\", \"Qe1+\", \"Qe7\", \"Qxb4\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, but helps White open the b-file.\",\n      \"White recaptures, opening the b-file and attacking the bishop.\",\n      \"Black captures the pawn, but the bishop becomes exposed.\",\n      \"White develops the bishop with a pin on the knight to the king.\",\n      \"Solid defensive move - Black supports the center.\",\n      \"White develops the rook, attacking the exposed bishop.\",\n      \"Black retreats the bishop, avoiding capture and maintaining activity.\",\n      \"White captures the bishop, eliminating Black's active piece.\",\n      \"Black recaptures with the knight, centralizing the piece.\",\n      \"Queen check - White attacks the knight while developing the queen.\",\n      \"Black blocks the check with the queen, defending the knight.\",\n      \"White captures the knight, regaining material with a better position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-07\",\n    \"name\": \"Evans Gambit Mate\",\n    \"description\": \"Beautiful mating attack\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Ne5\", \"bxc3\", \"Nxc4\", \"Qd4\", \"Ncd6\", \"Qxg7\", \"Qf6\", \"Qxf6\", \"Nxf6\", \"Re1+\", \"Kf8\", \"Bh6+\", \"Kg8\", \"Re5\", \"Nde4\", \"Nd2\", \"d6\", \"Nxe4\", \"Nxe4\", \"Re8#\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"The knight moves to a central square, attacking multiple pieces.\",\n      \"White recaptures, maintaining material balance.\",\n      \"Black captures the bishop, winning material but exposing the king.\",\n      \"Brilliant queen move! White attacks both g7 and the knight simultaneously.\",\n      \"The knight moves to defend g7, but creates new weaknesses.\",\n      \"Queen sacrifice! White captures the g7 pawn, threatening mate on h8.\",\n      \"Black blocks with the queen, attempting to defend.\",\n      \"White captures the queen, eliminating Black's best defender.\",\n      \"Black recaptures, but the position remains critically weak.\",\n      \"Rook check - White exploits the pinned knight and exposed king.\",\n      \"The king moves to f8, the only safe square.\",\n      \"Bishop check - White forces the king back to g8.\",\n      \"The king returns to g8, but now faces a coordinated attack.\",\n      \"White's rook maneuvers to the fifth rank, preparing a mating net.\",\n      \"The knight blocks the rook's path to e8.\",\n      \"White develops the knight, clearing the e-file for the rook.\",\n      \"Black advances the pawn, but it's too late to defend.\",\n      \"White captures the knight, eliminating a key defender.\",\n      \"Black recaptures, but the defense has collapsed.\",\n      \"Checkmate! The rook delivers the final blow on the back rank.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-08\",\n    \"name\": \"Evans Gambit with h6\",\n    \"description\": \"Black plays h6 early\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"h6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"d6\", \"O-O\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Prophylactic move - Black prevents Bg5 but wastes a tempo.\",\n      \"White pushes in the center, executing the Evans Gambit idea.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Solid defensive move - Black supports the center and develops.\",\n      \"White castles to safety, completing development with a comfortable position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-09\",\n    \"name\": \"Two Knights Defense - Main Line\",\n    \"description\": \"Classical Two Knights Defense\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Nxe4\", \"Re1\", \"d5\", \"Bxd5\", \"Qxd5\", \"Nc3\", \"Qd8\", \"Rxe4+\", \"Be7\", \"Nxd4\", \"O-O\", \"Nxc6\", \"Qxd1+\", \"Nxd1\", \"bxc6\", \"Rxe7\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White castles to safety, sacrificing a pawn for rapid development.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"The rook moves to pin the knight against the king, creating immediate threats.\",\n      \"Black pushes the pawn to attack the bishop and break the pin.\",\n      \"White captures the pawn, maintaining pressure on the pinned knight.\",\n      \"The queen captures the bishop, but now becomes a target for White's pieces.\",\n      \"White develops the knight with tempo, attacking the exposed queen.\",\n      \"The queen retreats to safety, but Black's development remains incomplete.\",\n      \"Rook captures the pinned knight with check, exploiting Black's lagging development.\",\n      \"The bishop blocks the check while developing to a natural square.\",\n      \"White's knight recaptures the central pawn, controlling key squares.\",\n      \"Black castles to safety, finally getting the king to relative security.\",\n      \"White captures the knight, creating doubled pawns in Black's camp.\",\n      \"Black initiates a queen trade to simplify the position.\",\n      \"White recaptures with the knight, maintaining piece activity.\",\n      \"Black recaptures, accepting doubled pawns on the c-file.\",\n      \"The rook captures the bishop, giving White the bishop pair and better pawn structure.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-10\",\n    \"name\": \"Evans Gambit with Bf6\",\n    \"description\": \"Bishop retreats to f6\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Bf6\", \"Re1\", \"Ne7\", \"Rxe4\", \"d6\", \"Bg5\", \"Bxg5\", \"Nxg5\", \"h6\", \"Bb5+\", \"c6\", \"Nxf7\", \"Kxf7\", \"Qf3+\", \"Kg8\", \"Rae1\", \"cxb5\", \"Rxe7\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"Black retreats the bishop to a defensive square.\",\n      \"White develops the rook, attacking the pinned knight.\",\n      \"The knight retreats to a safer square.\",\n      \"White captures the knight, regaining material.\",\n      \"Black advances the pawn, defending the center and bishop.\",\n      \"White attacks the bishop, forcing a decision.\",\n      \"Black captures the bishop, exchanging pieces.\",\n      \"White recaptures with the knight, threatening the f7 square.\",\n      \"Black attacks the knight, attempting to remove the threat.\",\n      \"Bishop check - White creates additional threats.\",\n      \"Black blocks the check with the pawn.\",\n      \"Knight sacrifice! White destroys Black's king protection.\",\n      \"The king is forced to capture, exposing itself to attack.\",\n      \"Queen check - White immediately attacks the exposed king.\",\n      \"The king retreats to g8, the only safe square.\",\n      \"White develops the other rook, bringing the last piece into the attack.\",\n      \"Black captures the bishop, winning material but losing coordination.\",\n      \"White captures the knight, regaining material with a winning attack.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-11\",\n    \"name\": \"Evans Gambit - Extended Attack Line\",\n    \"description\": \"Deep tactical line with multiple knight moves\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Ne5\", \"bxc3\", \"Nxc4\", \"Qd4\", \"Ncd6\", \"Qxg7\", \"Qf6\", \"Qxf6\", \"Nxf6\", \"Re1+\", \"Kf8\", \"Bh6+\", \"Kg8\", \"Re5\", \"Nfe4\", \"Re1\", \"f6\", \"Re7\", \"Nf5\", \"Re8+\", \"Kf7\", \"Rxh8\", \"Nxh6\", \"Rxe4\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"The knight moves to a central square, attacking multiple pieces.\",\n      \"White recaptures, maintaining material balance.\",\n      \"Black captures the bishop, winning material but exposing the king.\",\n      \"Brilliant queen move! White attacks both g7 and the knight simultaneously.\",\n      \"The knight moves to defend g7, but creates new weaknesses.\",\n      \"Queen sacrifice! White captures the g7 pawn, threatening mate on h8.\",\n      \"Black blocks with the queen, attempting to defend.\",\n      \"White captures the queen, eliminating Black's best defender.\",\n      \"Black recaptures, but the position remains critically weak.\",\n      \"Rook check - White exploits the pinned knight and exposed king.\",\n      \"The king moves to f8, the only safe square.\",\n      \"Bishop check - White forces the king back to g8.\",\n      \"The king returns to g8, but now faces a coordinated attack.\",\n      \"White's rook maneuvers to the fifth rank, preparing a mating net.\",\n      \"The knight blocks the rook's path to e8.\",\n      \"The rook returns to e1, maintaining pressure on the e-file.\",\n      \"Black advances the pawn, attempting to defend.\",\n      \"White's rook attacks the seventh rank, creating new threats.\",\n      \"The knight attacks the bishop, attempting counterplay.\",\n      \"Rook check - White continues the assault on Black's position.\",\n      \"The king moves to f7, trying to escape the attack.\",\n      \"White captures the rook, winning material.\",\n      \"Black captures the bishop, eliminating an attacker.\",\n      \"White captures the knight, regaining material with a better position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-12\",\n    \"name\": \"Evans Gambit - Mate in 6 Variation\",\n    \"description\": \"Quick mating attack after Bb5+\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Bf6\", \"Re1\", \"Ne7\", \"Rxe4\", \"d6\", \"Bg5\", \"Bxg5\", \"Nxg5\", \"h6\", \"Bb5+\", \"Kf8\", \"Qh5\", \"g6\", \"Qf3\", \"hxg5\", \"Qf6\", \"Rh4\", \"Rxh4\", \"gxh4\", \"Re1\", \"Bd7\", \"Rxe7\", \"Qxe7\", \"Qh8#\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"Black retreats the bishop to a defensive square.\",\n      \"White develops the rook, attacking the pinned knight.\",\n      \"The knight retreats to a safer square.\",\n      \"White captures the knight, regaining material.\",\n      \"Black advances the pawn, defending the center and bishop.\",\n      \"White attacks the bishop, forcing a decision.\",\n      \"Black captures the bishop, exchanging pieces.\",\n      \"White recaptures with the knight, threatening the f7 square.\",\n      \"Black attacks the knight, attempting to remove the threat.\",\n      \"Bishop check - White creates additional threats.\",\n      \"The king moves to f8, avoiding immediate mate threats.\",\n      \"White's queen attacks both f7 and h6 simultaneously.\",\n      \"Black defends with the pawn, but weakens the kingside.\",\n      \"White repositions the queen to threaten mate on f6.\",\n      \"Black captures the knight, but opens the h-file.\",\n      \"White's queen threatens mate on g7.\",\n      \"Black tries to defend with the rook.\",\n      \"White captures the rook, eliminating a key defender.\",\n      \"Black recaptures, but the position remains critically weak.\",\n      \"White brings the other rook into the attack.\",\n      \"Black develops the bishop, but it's too late for defense.\",\n      \"Rook sacrifice! White destroys Black's remaining defenses.\",\n      \"Black captures the rook, but now faces an unstoppable mate.\",\n      \"Checkmate! The queen delivers the final blow on h8.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-13\",\n    \"name\": \"Two Knights Defense - Modern Line with d6\",\n    \"description\": \"Solid approach with d6 instead of Nf6\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"d6\", \"d4\", \"Nc6\", \"Bb5\", \"Bd7\", \"Nc3\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Bxd7+\", \"Qxd7\", \"Qxd4\", \"Nf6\", \"Bg5\", \"Be7\", \"O-O-O\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Philidor Defense - Black prepares to support the e5 pawn with d6.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"Ruy Lopez style - White pins the knight to the king.\",\n      \"Black develops the bishop to break the pin on the knight.\",\n      \"White develops the knight to its natural square, supporting the center.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White recaptures with the knight, centralizing the piece.\",\n      \"Black captures the knight, simplifying the position.\",\n      \"White captures the bishop, forcing a recapture.\",\n      \"Black recaptures with the queen, centralizing the piece.\",\n      \"White's queen recaptures the knight, controlling the center.\",\n      \"Black develops the knight to its natural square.\",\n      \"White pins the knight to the king, creating pressure.\",\n      \"Black develops the bishop, breaking the pin and completing development.\",\n      \"White castles queenside, completing development with an active position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-14\",\n    \"name\": \"Two Knights Defense - Modern with Bf4\",\n    \"description\": \"Quiet development with Bf4\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"d6\", \"d4\", \"exd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"Be7\", \"Bf4\", \"O-O\", \"Qd2\", \"a6\", \"O-O-O\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Philidor Defense - Black prepares to support the e5 pawn with d6.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White recaptures with the knight, centralizing the piece.\",\n      \"Black develops the knight to its natural square.\",\n      \"White develops the knight to support the center.\",\n      \"Black develops the bishop quietly, preparing kingside castling.\",\n      \"White develops the bishop to an active diagonal, avoiding early trades.\",\n      \"Black castles to safety, securing the king.\",\n      \"White's queen connects the rooks and prepares queenside castling.\",\n      \"Prophylactic move - Black prevents Nb5.\",\n      \"White castles queenside, setting up an opposite-side castling position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-15\",\n    \"name\": \"Two Knights Defense - d5 Advance\",\n    \"description\": \"Immediate d5 push after d4\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"d6\", \"d5\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Solid defense - Black supports the e5 pawn and maintains central control.\",\n      \"White advances the pawn, gaining space and attacking the knight.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-16\",\n    \"name\": \"Two Knights Defense - Qa5 Variation\",\n    \"description\": \"Queen retreats to a5 instead of d8\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Nxe4\", \"Re1\", \"d5\", \"Bxd5\", \"Qxd5\", \"Nc3\", \"Qa5\", \"Nxe4\", \"Be6\", \"Neg5\", \"O-O-O\", \"Nxe6\", \"fxe6\", \"Rxe6\", \"Bd6\", \"Bg5\", \"Rde8\", \"Qe2\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White castles to safety, sacrificing a pawn for rapid development.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"The rook moves to pin the knight against the king, creating immediate threats.\",\n      \"Black pushes the pawn to attack the bishop and break the pin.\",\n      \"White captures the pawn, maintaining pressure on the pinned knight.\",\n      \"The queen captures the bishop, but now becomes a target for White's pieces.\",\n      \"White develops the knight with tempo, attacking the exposed queen.\",\n      \"The queen retreats to a5, maintaining pressure on the e1 square.\",\n      \"White captures the knight, regaining material.\",\n      \"Black develops the bishop, defending the d5 square.\",\n      \"White attacks the bishop with the knight, creating threats.\",\n      \"Black castles queenside, securing the king on the opposite side.\",\n      \"White captures the bishop, damaging Black's pawn structure.\",\n      \"Black recaptures, accepting doubled pawns on the e-file.\",\n      \"White captures the pawn, regaining material.\",\n      \"Black develops the bishop actively, targeting the kingside.\",\n      \"White pins the knight to the queen, creating pressure.\",\n      \"Black doubles rooks on the e-file, challenging White's control.\",\n      \"White's queen develops to connect the rooks and support the center.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-17\",\n    \"name\": \"Two Knights Defense - Queen Trade Line\",\n    \"description\": \"Early queen trade variation\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Nxe4\", \"Re1\", \"d5\", \"Bxd5\", \"Qxd5\", \"Nc3\", \"Qd8\", \"Rxe4+\", \"Be7\", \"Nxd4\", \"O-O\", \"Nxc6\", \"bxc6\", \"Qxd8\", \"Bxd8\", \"Rc4\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White castles to safety, sacrificing a pawn for rapid development.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"The rook moves to pin the knight against the king, creating immediate threats.\",\n      \"Black pushes the pawn to attack the bishop and break the pin.\",\n      \"White captures the pawn, maintaining pressure on the pinned knight.\",\n      \"The queen captures the bishop, but now becomes a target for White's pieces.\",\n      \"White develops the knight with tempo, attacking the exposed queen.\",\n      \"The queen retreats to safety, but Black's development remains incomplete.\",\n      \"Rook captures the pinned knight with check, exploiting Black's lagging development.\",\n      \"The bishop blocks the check while developing to a natural square.\",\n      \"White's knight recaptures the central pawn, controlling key squares.\",\n      \"Black castles to safety, finally getting the king to relative security.\",\n      \"White captures the knight, damaging Black's pawn structure.\",\n      \"Black recaptures, accepting doubled pawns on the c-file.\",\n      \"White trades queens, simplifying the position.\",\n      \"Black recaptures with the bishop, completing the exchange.\",\n      \"White's rook moves to the c-file, targeting Black's weak pawns.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-18\",\n    \"name\": \"Two Knights Defense - Exchange Variation\",\n    \"description\": \"Early bishop exchange line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"d6\", \"d4\", \"Nc6\", \"Bb5\", \"exd4\", \"Qxd4\", \"Bd7\", \"Bxc6\", \"Bxc6\", \"Nc3\", \"Nf6\", \"Bg5\", \"Be7\", \"O-O-O\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Philidor Defense - Black prepares to support the e5 pawn with d6.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"Ruy Lopez style - White pins the knight to the king.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White's queen recaptures, centralizing the piece.\",\n      \"Black develops the bishop to break the pin on the knight.\",\n      \"White captures the knight, damaging Black's pawn structure.\",\n      \"Black recaptures with the bishop, maintaining the bishop pair.\",\n      \"White develops the knight to its natural square.\",\n      \"Black develops the knight to its natural square.\",\n      \"White pins the knight to the king, creating pressure.\",\n      \"Black develops the bishop, breaking the pin and completing development.\",\n      \"White castles queenside, completing development with an active position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-19\",\n    \"name\": \"Evans Gambit - Bd7 Retreat Line\",\n    \"description\": \"Bishop retreats to d7 after Bb5+\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Bf6\", \"Re1\", \"Ne7\", \"Rxe4\", \"d6\", \"Bg5\", \"Bxg5\", \"Nxg5\", \"h6\", \"Bb5+\", \"Bd7\", \"Qe2\", \"hxg5\", \"Re1\", \"O-O\", \"Rxe7\", \"Bxb5\", \"Qxb5\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"Black retreats the bishop to a defensive square.\",\n      \"White develops the rook, attacking the pinned knight.\",\n      \"The knight retreats to a safer square.\",\n      \"White captures the knight, regaining material.\",\n      \"Black advances the pawn, defending the center and bishop.\",\n      \"White attacks the bishop, forcing a decision.\",\n      \"Black captures the bishop, exchanging pieces.\",\n      \"White recaptures with the knight, threatening the f7 square.\",\n      \"Black attacks the knight, attempting to remove the threat.\",\n      \"Bishop check - White creates additional threats.\",\n      \"Black blocks the check with the bishop.\",\n      \"White develops the queen, supporting the attack.\",\n      \"Black captures the knight, eliminating a threat.\",\n      \"White repositions the rook to the e-file, maintaining pressure.\",\n      \"Black castles to safety, securing the king.\",\n      \"White captures the knight, regaining material.\",\n      \"Black captures the bishop, winning material.\",\n      \"White captures the bishop, completing the exchange with a balanced position.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-20\",\n    \"name\": \"Two Knights Defense - Qh5 Variation\",\n    \"description\": \"Queen retreats to h5 after Bxd5\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Nf6\", \"d4\", \"exd4\", \"O-O\", \"Nxe4\", \"Re1\", \"d5\", \"Bxd5\", \"Qxd5\", \"Nc3\", \"Qh5\", \"Nxe4\", \"Be6\", \"Bg5\", \"Bd6\", \"Nxd6+\", \"cxd6\", \"Bf4\", \"Qd5\", \"c3\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Two Knights Defense - Black develops the knight with tempo by attacking e4.\",\n      \"White pushes in the center, challenging Black's pawn structure.\",\n      \"Black captures the pawn, opening the center.\",\n      \"White castles to safety, sacrificing a pawn for rapid development.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"The rook moves to pin the knight against the king, creating immediate threats.\",\n      \"Black pushes the pawn to attack the bishop and break the pin.\",\n      \"White captures the pawn, maintaining pressure on the pinned knight.\",\n      \"The queen captures the bishop, but now becomes a target for White's pieces.\",\n      \"White develops the knight with tempo, attacking the exposed queen.\",\n      \"The queen retreats to h5, avoiding exchange and maintaining kingside pressure.\",\n      \"White captures the knight, regaining material.\",\n      \"Black develops the bishop, defending key squares.\",\n      \"White pins the f6 pawn to the queen, creating pressure.\",\n      \"Black develops the bishop actively, targeting the kingside.\",\n      \"White captures the bishop with check, damaging Black's pawn structure.\",\n      \"Black recaptures, accepting an isolated pawn on d6.\",\n      \"White develops the bishop to an active diagonal.\",\n      \"Black's queen centralizes, controlling key squares.\",\n      \"White supports the center, preparing further development.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-21\",\n    \"name\": \"Evans Gambit - Nh7 Attack\",\n    \"description\": \"Knight sacrifice on h7 line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Bf6\", \"Re1\", \"Ne7\", \"Rxe4\", \"d6\", \"Bg5\", \"Bxg5\", \"Nxg5\", \"O-O\", \"Nxh7\", \"Kxh7\", \"Qh5+\", \"Kg8\", \"Rh4\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"Black retreats the bishop to a defensive square.\",\n      \"White develops the rook, attacking the pinned knight.\",\n      \"The knight retreats to a safer square.\",\n      \"White captures the knight, regaining material.\",\n      \"Black advances the pawn, defending the center and bishop.\",\n      \"White attacks the bishop, forcing a decision.\",\n      \"Black captures the bishop, exchanging pieces.\",\n      \"White recaptures with the knight, threatening the f7 square.\",\n      \"Black castles to safety, securing the king.\",\n      \"Knight sacrifice! White destroys Black's kingside pawn structure.\",\n      \"The king is forced to capture, exposing itself to attack.\",\n      \"Queen check - White immediately attacks the exposed king.\",\n      \"The king retreats to g8, the only safe square.\",\n      \"White's rook moves to the h-file, threatening mate on h7.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-22\",\n    \"name\": \"Evans Gambit - O-O Variation\",\n    \"description\": \"Black castles early instead of capturing\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"Nf6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nxe4\", \"O-O\", \"Bxc3\", \"d5\", \"Ne5\", \"bxc3\", \"Nxc4\", \"Qd4\", \"O-O\", \"Qxc4\", \"Nd6\", \"Qb3\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Black develops the knight with tempo by attacking the e4 pawn.\",\n      \"Evans Gambit - White sacrifices a pawn for rapid development.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black captures the pawn, accepting material but falling behind in development.\",\n      \"White castles to safety, sacrificing material for initiative.\",\n      \"Black captures the knight, removing a defender from White's position.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"The knight moves to a central square, attacking multiple pieces.\",\n      \"White recaptures, maintaining material balance.\",\n      \"Black captures the bishop, winning material but exposing the king.\",\n      \"Brilliant queen move! White attacks both g7 and the knight simultaneously.\",\n      \"Black castles to safety, securing the king.\",\n      \"White captures the knight, regaining material.\",\n      \"Black's knight develops to a good defensive square.\",\n      \"White's queen moves to an active diagonal, maintaining pressure.\"\n    ]\n  },\n  {\n    \"category\": \"Italian Game\",\n    \"id\": \"italian-23\",\n    \"name\": \"Evans Gambit - h6 with Complications\",\n    \"description\": \"h6 line with tactical complications\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"Bc4\", \"Bc5\", \"c3\", \"h6\", \"d4\", \"exd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Nf6\", \"e5\", \"Ne4\", \"O-O\", \"Nxc3\", \"bxc3\", \"Bxc3\", \"Qb3\", \"Bxa1\", \"Bxf7+\", \"Kf8\", \"Ba3+\", \"d6\", \"exd6\", \"cxd6\", \"Bg6\", \"Qf6\", \"Bxd6+\", \"Ne7\", \"Re1\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn opening.\",\n      \"Black mirrors the move, contesting the center immediately.\",\n      \"White develops the knight to attack the e5 pawn and control central squares.\",\n      \"Black develops the knight to defend the e5 pawn and maintain central influence.\",\n      \"White's bishop takes up an aggressive post on the f7-hitting diagonal.\",\n      \"Black develops the bishop symmetrically, creating the Italian Game structure.\",\n      \"White prepares to push the d-pawn, supporting central expansion.\",\n      \"Prophylactic move - Black prevents Bg5 but wastes a tempo.\",\n      \"White pushes in the center, executing the Evans Gambit idea.\",\n      \"Black accepts the gambit, capturing the central pawn.\",\n      \"White recaptures, opening lines for development.\",\n      \"Bishop check - Black pins the knight against the king.\",\n      \"White blocks the check while developing a piece to its natural square.\",\n      \"Black develops the knight to its natural square.\",\n      \"White advances the pawn, attacking the knight and gaining space.\",\n      \"The knight moves forward, attacking multiple squares.\",\n      \"White castles to safety, completing development.\",\n      \"Black captures the knight, but helps White open the b-file.\",\n      \"White recaptures, opening the b-file and attacking the bishop.\",\n      \"Black captures the pawn, but the bishop becomes exposed.\",\n      \"White's queen attacks both the bishop and f7 simultaneously.\",\n      \"Black captures the rook, winning material but exposing the king.\",\n      \"Bishop sacrifice! White destroys Black's king protection.\",\n      \"The king is forced to move, losing the right to castle.\",\n      \"Bishop check - White continues the attack.\",\n      \"Black blocks the check with the pawn.\",\n      \"White captures the pawn, opening lines.\",\n      \"Black recaptures, but the position remains critical.\",\n      \"White moves the bishop to pin the pawn to the king.\",\n      \"Black defends with the queen, attempting to stabilize.\",\n      \"Bishop check - White maintains the initiative.\",\n      \"The knight blocks the check, but the position remains difficult for Black.\",\n      \"White develops the rook, bringing the last piece into the attack.\"\n    ]\n  }\n];","export const kingsIndianDefenseLines = [\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-01\",\n    \"name\": \"Classic Exchange Sacrifice Line\",\n    \"description\": \"White accepts bishop exchange, Black launches counterplay with knight maneuvers\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Bd3\", \"Bg4\", \"h3\", \"Bxf3\", \"Qxf3\", \"Nc6\", \"Be3\", \"Nd7\", \"Ne2\", \"Nde5\", \"dxe5\", \"Nxe5\", \"Qg3\", \"Nxd3+\", \"Kd2\", \"Nxb2\"],\n    \"explanations\": [\n      \"White establishes central control with the classic d4 opening.\",\n      \"Black develops the knight to its most natural square, attacking the center.\",\n      \"White expands on the queenside, supporting the d4 pawn and preparing for further development.\",\n      \"The characteristic King's Indian move, preparing to fianchetto the bishop.\",\n      \"White develops the knight to support the e4 pawn and control central squares.\",\n      \"Black completes the fianchetto, placing the bishop on the powerful long diagonal.\",\n      \"White builds a strong classical pawn center with pawns on d4 and e4.\",\n      \"Black supports the potential e5 break and solidifies the pawn structure.\",\n      \"White continues development, controlling central squares and preparing to castle.\",\n      \"Black castles early, securing the king and connecting the rooks.\",\n      \"White develops the bishop to an active diagonal, supporting the e4 pawn.\",\n      \"Black pins the knight to the queen, typical King's Indian pressure on White's center.\",\n      \"White challenges the bishop, forcing it to make a decision.\",\n      \"Black exchanges bishop for knight, giving White doubled pawns but removing a key defender.\",\n      \"White recaptures with the queen, maintaining central control but exposing the queen.\",\n      \"Black develops the knight with tempo, attacking the d4 pawn.\",\n      \"White develops the bishop to defend d4 and control central dark squares.\",\n      \"Black reroutes the knight, preparing to challenge White's center.\",\n      \"White retreats the knight to defend d4 and avoid potential forks.\",\n      \"Black occupies a strong central outpost, attacking both c4 and d3.\",\n      \"White captures to eliminate Black's strong knight but opens the d-file.\",\n      \"Black recaptures with the knight, maintaining a powerful central presence.\",\n      \"White moves the queen to the kingside, targeting g7 and preparing attacks.\",\n      \"Black captures the bishop with check, disrupting White's coordination.\",\n      \"White moves the king to safety but becomes exposed in the center.\",\n      \"Black captures the pawn, winning material with tempo on the rook.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-02\",\n    \"name\": \"Classical Variation with e5 break\",\n    \"description\": \"Typical central tension with early e5 challenge\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"O-O\", \"exd4\", \"Nxd4\", \"Re8\", \"f3\", \"c6\", \"Be3\", \"d5\", \"cxd5\", \"Nxd5\", \"Bf2\", \"Nf4\", \"Bc4\", \"Qg5\", \"Bg3\", \"Qc5\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn opening.\",\n      \"Black develops the knight to its natural square, attacking central squares.\",\n      \"White expands on the queenside, supporting d4 and gaining space.\",\n      \"Black prepares the King's Indian formation with the fianchetto.\",\n      \"White develops the knight to support the e4 advance.\",\n      \"Black completes the fianchetto, placing the bishop on the critical diagonal.\",\n      \"White establishes the classical pawn center with d4 and e4.\",\n      \"Black supports the e5 break, typical King's Indian structure.\",\n      \"White develops the knight, preparing kingside castling.\",\n      \"Black castles early, preparing counterplay.\",\n      \"White develops the bishop quietly, preparing to castle kingside.\",\n      \"Black executes the central break, challenging White's center immediately.\",\n      \"White castles to safety before the tension escalates.\",\n      \"Black resolves the central tension in their favor.\",\n      \"White recaptures with the knight, controlling central squares.\",\n      \"Black's rook occupies the half-open e-file, putting pressure on e4.\",\n      \"White strengthens the e4 pawn but weakens kingside dark squares.\",\n      \"Black prepares the d5 advance, challenging White's center further.\",\n      \"White develops the bishop to defend d4 and control dark squares.\",\n      \"Black breaks in the center, opening the game for their pieces.\",\n      \"White captures to relieve pressure but gives up the center.\",\n      \"Black recaptures with the knight, occupying a strong central square.\",\n      \"White retreats the bishop, avoiding exchange but becoming passive.\",\n      \"Black's knight jumps to an aggressive outpost, attacking g2 and e2.\",\n      \"White develops the bishop with tempo, attacking f7.\",\n      \"Black's queen enters the game with a double attack on g2 and c5.\",\n      \"White's bishop blocks the queen's attack on g2.\",\n      \"Black's queen retreats to a safe square with an attack on the bishop.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-03\",\n    \"name\": \"Four Pawns Attack with b5 gambit\",\n    \"description\": \"Aggressive Four Pawns Attack met with Benko-style gambit\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"Bd3\", \"exd5\", \"cxd5\", \"b5\", \"Nxb5\", \"Re8\", \"Nc3\", \"Nxe4\", \"Nxe4\", \"f5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening move.\",\n      \"Black develops the knight, preparing the King's Indian setup.\",\n      \"White expands on the queenside, supporting d4 and fighting for space.\",\n      \"Black prepares the King's Indian formation with the fianchetto.\",\n      \"White develops the knight to support the e4 advance.\",\n      \"Black completes the fianchetto, controlling the long diagonal.\",\n      \"White builds a massive pawn center with d4, e4, and f4.\",\n      \"Black supports the e5 break and stabilizes the center.\",\n      \"White begins the aggressive Four Pawns Attack.\",\n      \"Black castles into the storm, preparing a counterattack.\",\n      \"White develops the knight, supporting the center.\",\n      \"Black counterattacks White's center from the queenside.\",\n      \"White advances to gain space, typical in the Four Pawns Attack.\",\n      \"Black immediately challenges the advanced d5 pawn.\",\n      \"White develops the bishop to an active diagonal.\",\n      \"Black captures to open the e-file for their rook.\",\n      \"White recaptures, maintaining the pawn chain but opening the c-file.\",\n      \"Black sacrifices a pawn Benko-style for queenside initiative.\",\n      \"White accepts the gambit, winning a pawn but delaying development.\",\n      \"Black's rook occupies the e-file, putting pressure on e4.\",\n      \"White returns the knight to a development square.\",\n      \"Black executes a tactical shot, capturing the central pawn.\",\n      \"White is forced to recapture.\",\n      \"Black attacks the knight with the pawn, gaining tempo and space.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-04\",\n    \"name\": \"Exchange Variation with queen trade\",\n    \"description\": \"Early queen exchange leads to simplified endgame-type position\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"dxe5\", \"dxe5\", \"Qxd8\", \"Rxd8\", \"Nxe5\", \"Nxe4\", \"Nxf7\", \"Bxc3+\", \"bxc3\", \"Kxf7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight to its natural square.\",\n      \"White expands on the queenside, supporting d4 and gaining space.\",\n      \"Black prepares the King's Indian formation.\",\n      \"White develops the knight, supporting e4.\",\n      \"Black completes the fianchetto development.\",\n      \"White establishes the classical center.\",\n      \"Black supports the e5 break.\",\n      \"White continues natural knight development.\",\n      \"Black castles early.\",\n      \"White develops the bishop quietly, preparing to castle.\",\n      \"Black executes the central break, challenging White's center.\",\n      \"White captures to resolve the tension.\",\n      \"Black recaptures, opening the d-file.\",\n      \"White exchanges queens, simplifying the position.\",\n      \"Black recaptures with the rook, now controlling the d-file.\",\n      \"White's knight captures the central pawn, winning material.\",\n      \"Black counterattacks, capturing with tempo on the knight.\",\n      \"White sacrifices the knight, attacking the rook and king.\",\n      \"Black's bishop captures with check, winning the knight back.\",\n      \"White is forced to recapture, damaging the pawn structure.\",\n      \"Black's king captures the knight, resulting in roughly equal material.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-05\",\n    \"name\": \"Four Pawns Attack with early e5\",\n    \"description\": \"Aggressive pawn push leads to tactical complications\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"e5\", \"dxe5\", \"fxe5\", \"Nfd7\", \"Nf3\", \"c5\", \"Be3\", \"cxd4\", \"Bxd4\", \"Nc6\", \"Be2\", \"Nxd4\", \"Qxd4\", \"Nxe5\", \"Qxd8\", \"Rxd8\", \"Nxe5\", \"Bxe5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening move.\",\n      \"Black develops the knight to an active square.\",\n      \"White expands on the queenside, Queen's Gambit style.\",\n      \"Black prepares the King's Indian signature move.\",\n      \"White develops the knight to support e4.\",\n      \"Black completes the fianchetto development.\",\n      \"White builds a classical center.\",\n      \"Black supports the e5 break.\",\n      \"White begins the extremely aggressive Four Pawns Attack.\",\n      \"Black castles into White's attack.\",\n      \"White immediately pushes the central pawn, gaining space.\",\n      \"Black captures to challenge White's center.\",\n      \"White recaptures, opening the f-file.\",\n      \"Black's knight retreats to challenge the e5 pawn.\",\n      \"White develops the knight, supporting the center.\",\n      \"Black counterattacks White's center.\",\n      \"White develops the bishop to defend d4.\",\n      \"Black captures to open the c-file.\",\n      \"White recaptures with the bishop, controlling the center.\",\n      \"Black develops the knight with an attack on the bishop.\",\n      \"White's bishop retreats to safety.\",\n      \"Black captures the bishop, simplifying.\",\n      \"White recaptures with the queen.\",\n      \"Black's knight captures the central pawn.\",\n      \"White trades queens, simplifying to an endgame.\",\n      \"Black recaptures with the rook.\",\n      \"White's knight captures the knight.\",\n      \"Black's bishop recaptures, completing the simplification.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-06\",\n    \"name\": \"Classical Variation with Nh3+ tactic\",\n    \"description\": \"Knight check leads to discovered attack opportunities\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"O-O\", \"exd4\", \"Nxd4\", \"Re8\", \"f3\", \"c6\", \"Be3\", \"d5\", \"cxd5\", \"Nxd5\", \"Bf2\", \"Nf4\", \"Bc4\", \"Qg5\", \"g3\", \"Nh3+\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight to an active square.\",\n      \"White expands on the queenside, supporting d4.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight, supporting the center.\",\n      \"Black completes the fianchetto development.\",\n      \"White builds a classical center.\",\n      \"Black prepares the central break.\",\n      \"White develops the knight, preparing to castle.\",\n      \"Black castles early.\",\n      \"White challenges Black's central pawn.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures with the knight.\",\n      \"Black's rook occupies the e-file.\",\n      \"White supports e4 but weakens the kingside.\",\n      \"Black prepares the d5 push.\",\n      \"White develops the bishop to defend the center.\",\n      \"Black breaks in the center, equalizing space.\",\n      \"White captures to relieve tension.\",\n      \"Black recaptures with the knight.\",\n      \"White retreats the bishop from attack.\",\n      \"Black's knight jumps to an aggressive square.\",\n      \"White develops the bishop with an attack on f7.\",\n      \"Black's queen attacks with a double threat.\",\n      \"White blocks the queen's attack with a pawn.\",\n      \"Black's knight delivers a check with discovered attack on the queen.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-07\",\n    \"name\": \"Four Pawns Attack with queenside expansion\",\n    \"description\": \"White pushes pawns aggressively, Black counters with Re8\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"Bd3\", \"exd5\", \"cxd5\", \"b5\", \"O-O\", \"c4\", \"Bc2\", \"b4\", \"Ne2\", \"Re8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening move.\",\n      \"Black develops the knight to its natural square.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the King's Indian formation.\",\n      \"White develops the knight to support e4.\",\n      \"Black completes the fianchetto.\",\n      \"White builds a massive center.\",\n      \"Black supports the e5 break.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles kingside.\",\n      \"White develops the knight.\",\n      \"Black challenges White's center.\",\n      \"White advances to gain space.\",\n      \"Black challenges the d5 pawn.\",\n      \"White develops the bishop to an active diagonal.\",\n      \"Black captures to open the e-file.\",\n      \"White recaptures, maintaining structure.\",\n      \"Black sacrifices a pawn Benko-style.\",\n      \"White castles to safety.\",\n      \"Black advances the pawn to cramp White's bishop.\",\n      \"White's bishop retreats.\",\n      \"Black advances the pawn, attacking the knight.\",\n      \"White's knight retreats to avoid capture.\",\n      \"Black's rook occupies the half-open file.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-08\",\n    \"name\": \"Smisch Variation with Bh6 exchange\",\n    \"description\": \"White plays f3 and Bh6, forcing bishop exchange\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"cxd5\", \"a6\", \"Bh6\", \"Nxe4\", \"Nxe4\", \"Qh4+\", \"g3\", \"Qxh6\", \"Qxh6\", \"Bxh6\", \"Nxd6\", \"Nd7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation, preparing Be3 and Qd2.\",\n      \"Black castles early.\",\n      \"White develops the bishop to control dark squares.\",\n      \"Black challenges the center.\",\n      \"White advances to gain space.\",\n      \"Black opens the position.\",\n      \"White's queen develops to support Bh6.\",\n      \"Black captures to open the center.\",\n      \"White recaptures.\",\n      \"Black prevents Nb5.\",\n      \"White's bishop attacks Black's strong bishop.\",\n      \"Black executes a tactical shot, capturing the central pawn.\",\n      \"White is forced to recapture.\",\n      \"Black's queen checks, attacking the h6 bishop.\",\n      \"White blocks the check with a pawn.\",\n      \"Black's queen captures the bishop.\",\n      \"White's queen recaptures.\",\n      \"Black's bishop recaptures the queen.\",\n      \"White's knight captures a pawn, winning material.\",\n      \"Black's knight develops, attacking White's knight.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-09\",\n    \"name\": \"Four Pawns Attack with Qa5+ tactic\",\n    \"description\": \"Queen check leads to material gain for Black\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"Bd3\", \"exd5\", \"cxd5\", \"b5\", \"Bxb5\", \"Nxe4\", \"Nxe4\", \"Qa5+\", \"Nc3\", \"Bxc3+\", \"bxc3\", \"Qxb5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles.\",\n      \"White develops the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black challenges d5.\",\n      \"White develops the bishop.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black plays a Benko-style gambit.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight captures the central pawn.\",\n      \"White's knight recaptures.\",\n      \"Black's queen checks with discovered attack on the knight.\",\n      \"White's knight blocks the check.\",\n      \"Black's bishop captures with check.\",\n      \"White's pawn recaptures.\",\n      \"Black's queen captures the bishop.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-10\",\n    \"name\": \"Smisch Variation with Bh6 and b4\",\n    \"description\": \"Early Bh6 followed by queenside expansion\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"cxd5\", \"a6\", \"O-O-O\", \"b5\", \"Bh6\", \"b4\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black opens the position.\",\n      \"White's queen develops.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black prevents Nb5.\",\n      \"White castles queenside, an aggressive choice.\",\n      \"Black expands on the queenside.\",\n      \"White attacks Black's strong bishop.\",\n      \"Black advances the pawn, attacking the knight.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-11\",\n    \"name\": \"Smisch Variation with Re8 pressure\",\n    \"description\": \"Black develops rook to e-file for central pressure\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"exd5\", \"Re8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black opens the position.\",\n      \"White's queen develops.\",\n      \"Black captures the pawn.\",\n      \"White recaptures with the e-pawn, maintaining the center.\",\n      \"Black's rook occupies the e-file, pressuring e4.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-12\",\n    \"name\": \"Four Pawns Attack with early d5 advance\",\n    \"description\": \"White pushes d5 immediately after Black's c5\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"e5\", \"dxe5\", \"fxe5\", \"Nfd7\", \"Nf3\", \"c5\", \"d5\", \"Nxe5\", \"Nxe5\", \"Bxe5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles.\",\n      \"White immediately pushes the pawn.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black's knight retreats.\",\n      \"White develops the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn aggressively.\",\n      \"Black's knight captures the central pawn.\",\n      \"White's knight recaptures.\",\n      \"Black's bishop recaptures.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-13\",\n    \"name\": \"Be3 Variation with early c5\",\n    \"description\": \"White develops Be3 early, Black responds with c5\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Be2\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"Qa5\", \"cxd6\", \"Nxe4\", \"dxe7\", \"Re8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the bishop, preparing kingside castling.\",\n      \"Black castles.\",\n      \"White develops the bishop to control dark squares.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black's queen attacks with tempo.\",\n      \"White's pawn captures, opening the position.\",\n      \"Black's knight captures the central pawn.\",\n      \"White's pawn promotes to a passed pawn.\",\n      \"Black's rook attacks the pawn.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-14\",\n    \"name\": \"Smisch Variation with queen trade\",\n    \"description\": \"Early queen exchange leads to simplified middlegame\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"dxc5\", \"Qxd8\", \"Rxd8\", \"Bxc5\", \"Nc6\", \"Rd1\", \"Rxd1+\", \"Kxd1\", \"Nd7\", \"Ba3\", \"Bxc3\", \"bxc3\", \"Nde5\", \"f4\", \"Ng4\", \"Ke2\", \"Be6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White trades queens, simplifying the position.\",\n      \"Black's rook recaptures.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight develops with tempo.\",\n      \"White's rook develops to the open file.\",\n      \"Black trades rooks.\",\n      \"White's king recaptures.\",\n      \"Black's knight develops, attacking the bishop.\",\n      \"White's bishop retreats.\",\n      \"Black's bishop captures the knight.\",\n      \"White's pawn recaptures.\",\n      \"Black's knight moves to a central outpost.\",\n      \"White's pawn attacks the knight.\",\n      \"Black's knight retreats to an active square.\",\n      \"White's king moves to safety.\",\n      \"Black's bishop develops.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-15\",\n    \"name\": \"Smisch Variation with Nde5\",\n    \"description\": \"Similar to previous line but with different knight maneuver\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"dxc5\", \"Qxd8\", \"Rxd8\", \"Bxc5\", \"Nc6\", \"Rd1\", \"Rxd1+\", \"Kxd1\", \"Nd7\", \"Be3\", \"Bxc3\", \"bxc3\", \"Nde5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White trades queens.\",\n      \"Black's rook recaptures.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight develops.\",\n      \"White's rook develops.\",\n      \"Black trades rooks.\",\n      \"White's king recaptures.\",\n      \"Black's knight develops.\",\n      \"White's bishop retreats.\",\n      \"Black's bishop captures the knight.\",\n      \"White's pawn recaptures.\",\n      \"Black's knight moves to a strong central square.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-16\",\n    \"name\": \"Four Pawns Attack with Bf5 development\",\n    \"description\": \"Black develops bishop to f5, challenging White's center\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"Be2\", \"exd5\", \"exd5\", \"Bf5\", \"O-O\", \"Ne4\", \"Nxe4\", \"Bxe4\", \"Bd3\", \"Bxf3\", \"Qxf3\", \"Nd7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles.\",\n      \"White develops the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black challenges d5.\",\n      \"White develops the bishop.\",\n      \"Black captures the pawn.\",\n      \"White recaptures with the e-pawn.\",\n      \"Black develops the bishop actively.\",\n      \"White castles to safety.\",\n      \"Black's knight occupies a central outpost.\",\n      \"White's knight captures the knight.\",\n      \"Black's bishop recaptures.\",\n      \"White's bishop develops, attacking the bishop.\",\n      \"Black's bishop captures the knight.\",\n      \"White's queen recaptures.\",\n      \"Black's knight develops.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-17\",\n    \"name\": \"Smisch Variation with b6 and Ba6\",\n    \"description\": \"Black plays b6 and Ba6 for queenside pressure\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"dxc5\", \"Qxd8\", \"Rxd8\", \"Bxc5\", \"Nc6\", \"Nge2\", \"b6\", \"Ba3\", \"Ba6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White trades queens.\",\n      \"Black's rook recaptures.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight develops.\",\n      \"White's knight develops to avoid the pin.\",\n      \"Black's pawn attacks the bishop.\",\n      \"White's bishop retreats.\",\n      \"Black's bishop develops to pin the knight.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-18\",\n    \"name\": \"Smisch Variation with Qa5 and Nge2\",\n    \"description\": \"White plays Nge2 to avoid queen pin on c3\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"Nge2\", \"Qa5\", \"Qd2\", \"Nc6\", \"O-O-O\", \"b6\", \"Kb1\", \"Ba6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White's knight develops to avoid future pins.\",\n      \"Black's queen attacks with tempo.\",\n      \"White's queen develops to support Bh6.\",\n      \"Black's knight develops.\",\n      \"White castles queenside, an aggressive choice.\",\n      \"Black prepares Ba6.\",\n      \"White's king moves to safety.\",\n      \"Black's bishop develops to pin the knight.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-19\",\n    \"name\": \"Classical Variation with a5 and Na6\",\n    \"description\": \"Black plays a5 and Na6 for queenside play\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"d5\", \"a5\", \"O-O\", \"Na6\", \"a3\", \"Nc5\", \"Qc2\", \"a4\", \"Be3\", \"Nb3\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White advances the pawn.\",\n      \"Black expands on the queenside.\",\n      \"White castles to safety.\",\n      \"Black's knight develops to the edge.\",\n      \"White prevents Nb4.\",\n      \"Black's knight moves to an active square.\",\n      \"White's queen develops to support d3.\",\n      \"Black advances the pawn further.\",\n      \"White develops the bishop.\",\n      \"Black's knight attacks the rook and c1 square.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-20\",\n    \"name\": \"Averbakh Variation with Bg5\",\n    \"description\": \"White develops Bg5 early, pinning knight\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Be2\", \"O-O\", \"Bg5\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"exd5\", \"Qb6\", \"Nf3\", \"Bf5\", \"O-O\", \"Ne4\", \"Nxe4\", \"Bxe4\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the bishop.\",\n      \"Black castles.\",\n      \"White's bishop pins the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black challenges d5.\",\n      \"White's queen develops.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black's queen attacks b2 and d6.\",\n      \"White develops the knight.\",\n      \"Black's bishop develops actively.\",\n      \"White castles to safety.\",\n      \"Black's knight occupies a central outpost.\",\n      \"White's knight captures the knight.\",\n      \"Black's bishop recaptures.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-21\",\n    \"name\": \"Exchange Variation with Bg5\",\n    \"description\": \"Early queen exchange followed by bishop pin\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"dxe5\", \"dxe5\", \"Qxd8\", \"Rxd8\", \"Bg5\", \"Be6\", \"Nxe5\", \"h6\", \"Bh4\", \"g5\", \"Bg3\", \"Na6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White captures to resolve tension.\",\n      \"Black recaptures, opening the d-file.\",\n      \"White exchanges queens, simplifying.\",\n      \"Black's rook recaptures.\",\n      \"White develops the bishop, pinning the knight.\",\n      \"Black's bishop develops to a good square.\",\n      \"White's knight captures the central pawn.\",\n      \"Black attacks the bishop with the pawn.\",\n      \"White retreats the bishop.\",\n      \"Black attacks the bishop again, gaining space.\",\n      \"White retreats the bishop to safety.\",\n      \"Black's knight develops to the edge.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-22\",\n    \"name\": \"Exchange Variation with Nxe4\",\n    \"description\": \"Early knight exchange after queen trade\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"dxe5\", \"dxe5\", \"Qxd8\", \"Rxd8\", \"Nxe5\", \"Nxe4\", \"Nxe4\", \"Bxe5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White captures to resolve tension.\",\n      \"Black recaptures, opening the d-file.\",\n      \"White exchanges queens, simplifying.\",\n      \"Black's rook recaptures.\",\n      \"White's knight captures the central pawn.\",\n      \"Black's knight captures the central pawn.\",\n      \"White's knight recaptures.\",\n      \"Black's bishop recaptures.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-23\",\n    \"name\": \"Classical Variation with knight exchange\",\n    \"description\": \"Early knight exchange in the center\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"O-O\", \"exd4\", \"Nxd4\", \"Re8\", \"f3\", \"c6\", \"Be3\", \"d5\", \"cxd5\", \"Nxd5\", \"Nxd5\", \"cxd5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White castles to safety.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures with the knight.\",\n      \"Black's rook occupies the e-file.\",\n      \"White supports e4 but weakens the kingside.\",\n      \"Black prepares the d5 push.\",\n      \"White develops the bishop.\",\n      \"Black breaks in the center.\",\n      \"White captures to relieve tension.\",\n      \"Black recaptures with the knight.\",\n      \"White exchanges knights.\",\n      \"Black recaptures with the pawn.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-24\",\n    \"name\": \"Smisch Variation with Nd5\",\n    \"description\": \"White plays Nd5 with tactical complications\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"dxc5\", \"Qxd8\", \"Rxd8\", \"Bxc5\", \"Nc6\", \"Nd5\", \"Nd7\", \"Nxe7+\", \"Nxe7\", \"Bxe7\", \"Bxb2\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White exchanges queens, simplifying.\",\n      \"Black's rook recaptures.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight develops.\",\n      \"White's knight moves to a strong central square.\",\n      \"Black's knight develops.\",\n      \"White's knight checks, winning a pawn.\",\n      \"Black's knight recaptures.\",\n      \"White's bishop captures the knight.\",\n      \"Black's bishop captures the pawn.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-25\",\n    \"name\": \"Smisch Variation with a4\",\n    \"description\": \"White plays a4 to prevent Black's queenside expansion\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"cxd5\", \"a6\", \"a4\", \"Qa5\", \"Bd3\", \"b5\", \"Nge2\", \"b4\", \"Nd1\", \"Nbd7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black opens the position.\",\n      \"White's queen develops.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black prevents Nb5.\",\n      \"White prevents Black's queenside expansion.\",\n      \"Black's queen attacks with tempo.\",\n      \"White develops the bishop.\",\n      \"Black expands on the queenside.\",\n      \"White's knight develops to avoid pins.\",\n      \"Black advances the pawn, attacking the knight.\",\n      \"White's knight retreats to safety.\",\n      \"Black's knight develops.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-26\",\n    \"name\": \"Four Pawns Attack with dxe6\",\n    \"description\": \"White captures on e6 early, opening the position\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"dxe6\", \"fxe6\", \"Bd3\", \"Nc6\", \"O-O\", \"Nd4\", \"Nxd4\", \"cxd4\", \"Nb5\", \"e5\", \"fxe5\", \"dxe5\", \"c5\", \"Be6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles.\",\n      \"White develops the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black challenges d5.\",\n      \"White captures, opening the position.\",\n      \"Black recaptures with the f-pawn.\",\n      \"White develops the bishop.\",\n      \"Black's knight develops.\",\n      \"White castles to safety.\",\n      \"Black's knight occupies a strong square.\",\n      \"White exchanges knights.\",\n      \"Black recaptures with the pawn.\",\n      \"White's knight jumps forward.\",\n      \"Black advances the pawn.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White advances the pawn.\",\n      \"Black's bishop develops.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-27\",\n    \"name\": \"Be3 Variation with f3\",\n    \"description\": \"White plays Be3 followed by f3\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Be2\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"Qa5\", \"f3\", \"dxc5\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the bishop, preparing castling.\",\n      \"Black castles.\",\n      \"White develops the bishop to control dark squares.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black's queen attacks with tempo.\",\n      \"White strengthens the center but weakens dark squares.\",\n      \"Black recaptures.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-28\",\n    \"name\": \"Classical Variation with Bg5 and h6\",\n    \"description\": \"White plays Bg5, Black responds with h6\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"d5\", \"a5\", \"Bg5\", \"h6\", \"Bh4\", \"Na6\", \"Nd2\", \"Qe8\", \"O-O\", \"Nh7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White advances the pawn.\",\n      \"Black expands on the queenside.\",\n      \"White's bishop pins the knight.\",\n      \"Black attacks the bishop.\",\n      \"White retreats the bishop.\",\n      \"Black's knight develops to the edge.\",\n      \"White's knight retreats to support the center.\",\n      \"Black's queen prepares to reposition.\",\n      \"White castles to safety.\",\n      \"Black's knight retreats to a defensive square.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-29\",\n    \"name\": \"Smisch Variation with Nxe7+\",\n    \"description\": \"Tactical complications with knight check\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"dxc5\", \"dxc5\", \"Qxd8\", \"Rxd8\", \"Bxc5\", \"Nc6\", \"Nd5\", \"Nd7\", \"Bxe7\", \"Nxe7\", \"Nxe7+\", \"Kf8\", \"Nd5\", \"Bxb2\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White captures the pawn.\",\n      \"Black recaptures.\",\n      \"White exchanges queens, simplifying.\",\n      \"Black's rook recaptures.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's knight develops.\",\n      \"White's knight moves to a strong central square.\",\n      \"Black's knight develops.\",\n      \"White's bishop captures the knight.\",\n      \"Black's knight recaptures.\",\n      \"White's knight checks.\",\n      \"Black's king moves to safety.\",\n      \"White's knight moves to a strong square.\",\n      \"Black's bishop captures the pawn.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-30\",\n    \"name\": \"Smisch Variation with Ra3\",\n    \"description\": \"White develops rook to a3 for queenside defense\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f3\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Qd2\", \"exd5\", \"cxd5\", \"a6\", \"a4\", \"Qa5\", \"Ra3\", \"Nbd7\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White plays the Smisch Variation.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black opens the position.\",\n      \"White's queen develops.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black prevents Nb5.\",\n      \"White prevents Black's queenside expansion.\",\n      \"Black's queen attacks with tempo.\",\n      \"White develops the rook to an unusual square for defense.\",\n      \"Black's knight develops.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-31\",\n    \"name\": \"Four Pawns Attack with Bg4 exchange\",\n    \"description\": \"Black develops Bg4, leading to bishop exchange\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"f4\", \"O-O\", \"Nf3\", \"c5\", \"d5\", \"e6\", \"Be2\", \"exd5\", \"cxd5\", \"Bg4\", \"O-O\", \"Nbd7\", \"h3\", \"Bxf3\", \"Bxf3\", \"Re8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White begins the Four Pawns Attack.\",\n      \"Black castles.\",\n      \"White develops the knight.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black challenges d5.\",\n      \"White develops the bishop.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black develops the bishop actively.\",\n      \"White castles to safety.\",\n      \"Black's knight develops.\",\n      \"White attacks the bishop.\",\n      \"Black exchanges bishop for knight.\",\n      \"White recaptures with the bishop.\",\n      \"Black's rook occupies the e-file.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-32\",\n    \"name\": \"Classical Variation with Kh1\",\n    \"description\": \"White plays Kh1 early, preparing kingside play\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"O-O\", \"exd4\", \"Nxd4\", \"Re8\", \"f3\", \"c6\", \"Kh1\", \"Nbd7\", \"Bf4\", \"Nh5\", \"Bxd6\", \"Qf6\", \"Nb3\", \"Nf4\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White castles to safety.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures with the knight.\",\n      \"Black's rook occupies the e-file.\",\n      \"White supports e4 but weakens the kingside.\",\n      \"Black prepares the d5 push.\",\n      \"White moves the king to safety, preparing kingside play.\",\n      \"Black's knight develops.\",\n      \"White develops the bishop actively.\",\n      \"Black's knight attacks the bishop.\",\n      \"White's bishop captures the pawn.\",\n      \"Black's queen attacks the bishop.\",\n      \"White's knight retreats.\",\n      \"Black's knight moves to an aggressive square.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-33\",\n    \"name\": \"Be3 Variation with Nf3\",\n    \"description\": \"White develops Be3 and Nf3\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Be2\", \"O-O\", \"Be3\", \"c5\", \"d5\", \"e6\", \"Nf3\", \"exd5\", \"cxd5\", \"Re8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the bishop, preparing castling.\",\n      \"Black castles.\",\n      \"White develops the bishop to control dark squares.\",\n      \"Black challenges the center.\",\n      \"White advances the pawn.\",\n      \"Black opens the position.\",\n      \"White develops the knight.\",\n      \"Black captures the pawn.\",\n      \"White recaptures.\",\n      \"Black's rook occupies the e-file.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-34\",\n    \"name\": \"Classical Variation with Bg5 and h6\",\n    \"description\": \"White plays Bg5, Black responds with h6\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"O-O\", \"exd4\", \"Nxd4\", \"Re8\", \"f3\", \"c6\", \"Kh1\", \"Nbd7\", \"Bg5\", \"h6\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White castles to safety.\",\n      \"Black captures, opening the center.\",\n      \"White recaptures with the knight.\",\n      \"Black's rook occupies the e-file.\",\n      \"White supports e4 but weakens the kingside.\",\n      \"Black prepares the d5 push.\",\n      \"White moves the king to safety.\",\n      \"Black's knight develops.\",\n      \"White develops the bishop, pinning the knight.\",\n      \"Black attacks the bishop.\"\n    ]\n  },\n  {\n    \"category\": \"King's Indian Defense\",\n    \"id\": \"kings-indian-35\",\n    \"name\": \"Exchange Variation with Nd5\",\n    \"description\": \"White plays Nd5 after queen exchange\",\n    \"moves\": [\"d4\", \"Nf6\", \"c4\", \"g6\", \"Nc3\", \"Bg7\", \"e4\", \"d6\", \"Nf3\", \"O-O\", \"Be2\", \"e5\", \"dxe5\", \"dxe5\", \"Qxd8\", \"Rxd8\", \"Nd5\", \"Rd7\", \"Nxe5\", \"Nxd5\", \"Nxd7\", \"Nb4\", \"Nxb8\", \"Nc2+\", \"Kd1\", \"Nxa1\", \"Bf4\", \"Rxb8\"],\n    \"explanations\": [\n      \"White establishes central control with the standard opening.\",\n      \"Black develops the knight.\",\n      \"White expands on the queenside.\",\n      \"Black prepares the fianchetto.\",\n      \"White develops the knight.\",\n      \"Black completes the fianchetto.\",\n      \"White builds the center.\",\n      \"Black supports e5.\",\n      \"White develops the knight.\",\n      \"Black castles.\",\n      \"White develops the bishop.\",\n      \"Black executes the central break.\",\n      \"White captures to resolve tension.\",\n      \"Black recaptures, opening the d-file.\",\n      \"White exchanges queens, simplifying.\",\n      \"Black's rook recaptures.\",\n      \"White's knight moves to a strong central square.\",\n      \"Black's rook moves to defend.\",\n      \"White's knight captures the central pawn.\",\n      \"Black's knight captures the knight.\",\n      \"White's knight captures the rook.\",\n      \"Black's knight moves with a fork threat.\",\n      \"White's knight captures the knight.\",\n      \"Black's knight forks king and rook.\",\n      \"White's king moves to safety.\",\n      \"Black's knight captures the rook.\",\n      \"White's bishop develops.\",\n      \"Black's rook captures the knight.\"\n    ]\n  }\n];","export const frenchDefenseLines = [\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-01\",\n    \"name\": \"Tarrasch Variation with c5\",\n    \"description\": \"Nd2 variation with early c5 break\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nd2\", \"c5\", \"c3\", \"cxd4\", \"cxd4\", \"dxe4\", \"Nxe4\", \"Bb4+\", \"Bd2\", \"Qxd4\", \"Qa4+\", \"Nc6\"],\n    \"explanations\": [\n      \"White establishes central control with the king's pawn.\",\n      \"French Defense - Black prepares to challenge the center with ...d5.\",\n      \"White reinforces the center and supports the e4 pawn.\",\n      \"Black immediately challenges White's central pawn structure.\",\n      \"Tarrasch Variation - White develops knight while keeping c3 clear for the c-pawn.\",\n      \"Black attacks the d4 pawn, forcing White to make a decision in the center.\",\n      \"White supports the d4 pawn, preparing to maintain central control.\",\n      \"Black captures on d4, forcing the recapture to open the center.\",\n      \"White recaptures, maintaining a central pawn majority.\",\n      \"Black captures the e4 pawn, exchanging central pawns.\",\n      \"White recaptures with the knight, developing a piece while maintaining structure.\",\n      \"Bishop check - Black pins the knight against the king, creating tactical opportunities.\",\n      \"White blocks the check with the bishop, developing a piece and breaking the pin.\",\n      \"Black boldly captures the d4 pawn with the queen, accepting doubled pawns for active play.\",\n      \"Queen check - White attacks the loose bishop while developing the queen actively.\",\n      \"Black blocks the check with the knight while developing a piece to its natural square.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-02\",\n    \"name\": \"Advance Variation Main Line\",\n    \"description\": \"Classical Advance French with Qb6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Qb6\", \"Nf3\", \"Nc6\", \"Be2\", \"cxd4\", \"cxd4\", \"Nge7\", \"O-O\", \"Nf5\", \"Be3\", \"Qxb2\", \"Nbd2\", \"Be7\"],\n    \"explanations\": [\n      \"White claims space in the center with the king's pawn.\",\n      \"French Defense - Black prepares to challenge White's center with ...d5.\",\n      \"White reinforces the center with the d-pawn.\",\n      \"Black immediately stakes a claim in the center.\",\n      \"Advance Variation - White gains space and fixes the pawn structure.\",\n      \"Standard counterplay - Black attacks both the b2 pawn and d4 pawn simultaneously.\",\n      \"White supports the d4 pawn, maintaining the central stronghold.\",\n      \"Queen attacks the b2 pawn, putting pressure on White's queenside.\",\n      \"Knight develops to its natural square, controlling central squares.\",\n      \"Black develops the knight to support the ...c5 advance and control d4.\",\n      \"Bishop develops modestly, preparing kingside castling.\",\n      \"Black captures on d4, opening the c-file and challenging the center.\",\n      \"White recaptures, maintaining the pawn center.\",\n      \"Black develops the knight to e7, a flexible square preparing ...Nf5 or ...Ng6.\",\n      \"White castles kingside, bringing the king to safety.\",\n      \"Knight moves to f5, attacking the e3 bishop and eyeing the d4 pawn.\",\n      \"Bishop develops to e3, supporting the d4 pawn and controlling the center.\",\n      \"Queen captures the b2 pawn - a risky but aggressive move that wins material.\",\n      \"White develops the knight, preparing to attack the queen and defend the c3 square.\",\n      \"Black develops the bishop, completing minor piece development.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-03\",\n    \"name\": \"Advance Variation with Nf5\",\n    \"description\": \"Knight to f5 creates pressure\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Qb6\", \"Nf3\", \"Nc6\", \"Be2\", \"cxd4\", \"cxd4\", \"Nge7\", \"O-O\", \"Nf5\", \"Nc3\", \"Nfxd4\", \"Nxd4\", \"Qxd4\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares for ...d5 challenge.\",\n      \"White reinforces the center with d4.\",\n      \"Black challenges the center immediately.\",\n      \"Advance Variation - White gains space and restricts Black's pieces.\",\n      \"Black attacks the b2 pawn, putting immediate pressure on White.\",\n      \"White supports the d4 pawn with c3.\",\n      \"Queen continues pressure on White's queenside.\",\n      \"Knight develops to f3, controlling central squares.\",\n      \"Black develops knight, supporting the ...c5 pawn break.\",\n      \"White develops bishop, preparing kingside castling.\",\n      \"Black captures on d4, opening the c-file.\",\n      \"White recaptures with the c-pawn.\",\n      \"Black develops knight to e7, a flexible square in the Advance French.\",\n      \"White castles, bringing king to safety.\",\n      \"Knight jumps to f5, attacking the e3 square and eyeing the d4 pawn.\",\n      \"White develops the queenside knight, preparing for central play.\",\n      \"Black's knight captures on d4, sacrificing itself to disrupt White's center.\",\n      \"White captures the knight, but now the queen is exposed.\",\n      \"Black's queen recaptures, gaining central control and attacking the e5 pawn.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-04\",\n    \"name\": \"Advance Variation with Bd7\",\n    \"description\": \"Bishop develops to d7\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Qb6\", \"Nf3\", \"Nc6\", \"Bd3\", \"cxd4\", \"cxd4\", \"Bd7\", \"O-O\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nc3\", \"a6\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares the central challenge.\",\n      \"White reinforces with d4.\",\n      \"Black immediately challenges White's center.\",\n      \"Advance Variation - White gains space.\",\n      \"Black's queen attacks b2, creating immediate pressure.\",\n      \"White supports d4 with c3.\",\n      \"Queen puts pressure on White's queenside.\",\n      \"Knight develops to its natural square.\",\n      \"Black develops knight, supporting the ...c5 break.\",\n      \"White develops bishop more actively than Be2, eyeing the h7 square.\",\n      \"Black captures on d4, opening the position.\",\n      \"White recaptures with the c-pawn.\",\n      \"Bishop develops to d7, connecting rooks and preparing queenside play.\",\n      \"White castles kingside.\",\n      \"Knight captures on d4, sacrificing itself to disrupt White's center.\",\n      \"White captures the knight.\",\n      \"Black's queen recaptures, gaining central control.\",\n      \"White develops the queenside knight.\",\n      \"Black prevents Nb5, securing the queenside.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-05\",\n    \"name\": \"Advance Variation with Nf3\",\n    \"description\": \"Early Nf3 development\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"Nf3\", \"cxd4\", \"Nxd4\", \"Ne7\", \"Nc3\", \"Nbc6\", \"Bb5\", \"Bd7\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces the center with d4.\",\n      \"Black challenges the center immediately.\",\n      \"Advance Variation - White gains space on the kingside.\",\n      \"Black attacks the d4 pawn, forcing concessions.\",\n      \"White develops knight instead of supporting with c3.\",\n      \"Black captures on d4, opening the center.\",\n      \"White recaptures with knight, developing a piece.\",\n      \"Black develops knight to e7, a flexible square in this structure.\",\n      \"White develops the queenside knight.\",\n      \"Black develops the other knight to c6, putting pressure on d4.\",\n      \"White develops bishop with pin on the knight.\",\n      \"Black develops bishop, breaking the pin and connecting rooks.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-06\",\n    \"name\": \"Advance Variation with Nxc6\",\n    \"description\": \"Knight exchange on c6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"Nf3\", \"cxd4\", \"Nxd4\", \"Ne7\", \"Nc3\", \"Nbc6\", \"Nxc6\", \"Nxc6\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Advance Variation - White gains space.\",\n      \"Black attacks the d4 pawn.\",\n      \"White develops knight to its natural square.\",\n      \"Black captures on d4, opening the center.\",\n      \"White recaptures with knight.\",\n      \"Black develops knight to e7, preparing ...Nf5 or ...Ng6.\",\n      \"White develops the queenside knight.\",\n      \"Black develops knight to c6, attacking d4.\",\n      \"White exchanges knights, simplifying the position.\",\n      \"Black recaptures, maintaining piece activity.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-07\",\n    \"name\": \"Winawer Variation Main Line\",\n    \"description\": \"Classical Winawer with Bb4\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"Bg5\", \"Bb4\", \"e5\", \"h6\", \"exf6\", \"hxg5\", \"fxg7\", \"Rg8\", \"Qh5\", \"Qf6\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces the center with d4.\",\n      \"Black challenges the center.\",\n      \"White develops knight, attacking d5.\",\n      \"Black develops knight, attacking e4.\",\n      \"Bishop pins the knight, putting pressure on Black's position.\",\n      \"Winawer Variation - Black pins the knight, creating immediate tension.\",\n      \"White advances, attacking the pinned knight.\",\n      \"Black attacks the bishop, forcing it to move or be captured.\",\n      \"White captures the knight, but loses the bishop pair.\",\n      \"Black captures the bishop, gaining the bishop pair.\",\n      \"Pawn advances to g7, threatening to promote and disrupting Black's kingside.\",\n      \"Rook attacks the advanced pawn.\",\n      \"Queen develops aggressively, attacking g5 and eyeing the kingside.\",\n      \"Black develops queen, defending g5 and preparing to contest the position.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-08\",\n    \"name\": \"Advance Variation with Qxd4\",\n    \"description\": \"Queen captures on d4\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"Nf3\", \"cxd4\", \"Qxd4\", \"Nc6\", \"Bb5\", \"Ne7\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Advance Variation - White gains space.\",\n      \"Black attacks the d4 pawn.\",\n      \"White develops knight to its natural square.\",\n      \"Black captures on d4, opening the center.\",\n      \"Queen recaptures, centralizing but potentially exposing itself.\",\n      \"Knight develops with tempo against the queen.\",\n      \"Bishop develops with pin on the knight.\",\n      \"Knight moves to e7, breaking the pin and maintaining flexibility.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-09\",\n    \"name\": \"Classical Variation with Bg5\",\n    \"description\": \"Bg5 pin against Nf6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"e5\", \"Nfd7\", \"Nf3\", \"c5\", \"Bg5\", \"Qb6\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"White develops knight, attacking d5.\",\n      \"Black develops knight, attacking e4.\",\n      \"White advances, attacking the knight.\",\n      \"Knight retreats to d7, maintaining defense of e5.\",\n      \"White develops the kingside knight.\",\n      \"Black attacks the d4 pawn, creating counterplay.\",\n      \"Bishop pins the knight, putting pressure on Black's position.\",\n      \"Queen attacks b2, creating threats on the queenside.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-10\",\n    \"name\": \"Exchange Variation Main Line\",\n    \"description\": \"Early pawn exchange\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Bb4\", \"Bd2\", \"O-O\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies the center.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White develops knight, eyeing d5 and e4 squares.\",\n      \"Black develops knight, completing kingside development.\",\n      \"White develops the other knight.\",\n      \"Bishop pins the knight, creating immediate pressure.\",\n      \"Bishop develops, breaking the pin.\",\n      \"Black castles, bringing the king to safety.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-11\",\n    \"name\": \"Exchange Variation with Nb4\",\n    \"description\": \"Knight maneuver to attack d3\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"Bd3\", \"Nc6\", \"Nf3\", \"Nb4\", \"O-O\", \"Nxd3\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies the position.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White develops bishop actively, eyeing the kingside.\",\n      \"Black develops knight, preparing queenside play.\",\n      \"White develops knight to its natural square.\",\n      \"Knight jumps to b4, attacking the bishop on d3.\",\n      \"White castles, bringing king to safety.\",\n      \"Black captures the bishop, exchanging a knight for bishop.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-12\",\n    \"name\": \"French Defense with Bf3\",\n    \"description\": \"Bishop retreats to f3 after exchange\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Bd3\", \"dxe4\", \"Bxe4\", \"Nf6\", \"Bf3\", \"c5\", \"Ne2\", \"Be7\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White develops bishop, preparing kingside castling.\",\n      \"Black captures on e4, exchanging pawns.\",\n      \"Bishop recaptures, maintaining piece activity.\",\n      \"Black develops knight, attacking the bishop.\",\n      \"Bishop retreats to f3, maintaining control of central squares.\",\n      \"Black challenges the center with c5.\",\n      \"White develops knight to e2, keeping options for f4 or g3.\",\n      \"Black develops bishop, preparing kingside castling.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-13\",\n    \"name\": \"Tarrasch Variation with Nc3\",\n    \"description\": \"Alternative knight development\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nd2\", \"c5\", \"c3\", \"cxd4\", \"cxd4\", \"dxe4\", \"Nxe4\", \"Bb4+\", \"Nc3\", \"Nf6\", \"Nf3\", \"O-O\", \"Bd3\", \"b6\", \"O-O\", \"Bb7\"],\n    \"explanations\": [\n      \"White establishes central control with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center immediately.\",\n      \"Tarrasch Variation - Knight develops while keeping c3 free.\",\n      \"Black attacks the d4 pawn.\",\n      \"White supports d4 with c3.\",\n      \"Black captures on d4, opening the center.\",\n      \"White recaptures, maintaining central control.\",\n      \"Black captures on e4, exchanging pawns.\",\n      \"White recaptures with knight.\",\n      \"Bishop check, pinning the knight.\",\n      \"White develops knight to c3 instead of blocking with bishop.\",\n      \"Black develops knight, attacking the e4 knight.\",\n      \"White develops the kingside knight.\",\n      \"Black castles, bringing king to safety.\",\n      \"White develops bishop actively.\",\n      \"Black prepares to develop the bishop to b7.\",\n      \"White castles, bringing king to safety.\",\n      \"Black completes development with bishop to b7.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-14\",\n    \"name\": \"Winawer Variation with Bd2\",\n    \"description\": \"Bishop retreats instead of exf6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"Bg5\", \"Bb4\", \"e5\", \"h6\", \"Bd2\", \"Bxc3\", \"bxc3\", \"Ne4\", \"Bd3\", \"Nxd2\", \"Qxd2\", \"c5\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"White develops knight, attacking d5.\",\n      \"Black develops knight, attacking e4.\",\n      \"Bishop pins the knight.\",\n      \"Winawer Variation - Black pins the knight.\",\n      \"White advances, attacking the pinned knight.\",\n      \"Black attacks the bishop.\",\n      \"Bishop retreats, avoiding capture.\",\n      \"Black captures on c3, doubling White's pawns.\",\n      \"White recaptures, accepting doubled pawns for bishop pair.\",\n      \"Black's knight moves to e4, occupying a strong central outpost.\",\n      \"White develops bishop, attacking the knight.\",\n      \"Knight captures the bishop, exchanging pieces.\",\n      \"Queen recaptures, developing with tempo.\",\n      \"Black attacks the center, challenging White's pawn structure.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-15\",\n    \"name\": \"Exchange Variation with c4\",\n    \"description\": \"Queenside pawn break\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"c4\", \"Bb4+\", \"Nc3\", \"Nf6\", \"Nf3\", \"O-O\", \"Be2\", \"dxc4\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White plays c4, challenging Black's central pawn.\",\n      \"Bishop check, developing with tempo.\",\n      \"White blocks with knight, developing a piece.\",\n      \"Black develops knight.\",\n      \"White develops the other knight.\",\n      \"Black castles, bringing king to safety.\",\n      \"White develops bishop modestly.\",\n      \"Black captures the pawn, accepting an isolated queen's pawn position.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-16\",\n    \"name\": \"Exchange Variation with Bd6\",\n    \"description\": \"Bishop develops to d6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"Bd3\", \"Nc6\", \"c3\", \"Bd6\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White develops bishop actively.\",\n      \"Black develops knight.\",\n      \"White supports the center with c3.\",\n      \"Black develops bishop to d6, eyeing the kingside.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-17\",\n    \"name\": \"Tarrasch Variation with exd5\",\n    \"description\": \"Early pawn capture\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nd2\", \"c5\", \"exd5\", \"Qxd5\", \"dxc5\", \"Bxc5\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Tarrasch Variation - Knight develops.\",\n      \"Black attacks d4 with c5.\",\n      \"White captures on d5, simplifying the center.\",\n      \"Queen recaptures, centralizing but potentially exposed.\",\n      \"White captures on c5, gaining a pawn.\",\n      \"Bishop recaptures, developing with tempo.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-18\",\n    \"name\": \"Exchange Variation with Bg4\",\n    \"description\": \"Bishop pin on the knight\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"Nf3\", \"Nf6\", \"Bd3\", \"Bd6\", \"O-O\", \"O-O\", \"c3\", \"Bg4\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White develops knight.\",\n      \"Black develops knight.\",\n      \"White develops bishop actively.\",\n      \"Black develops bishop to d6.\",\n      \"White castles, bringing king to safety.\",\n      \"Black castles, bringing king to safety.\",\n      \"White supports the center with c3.\",\n      \"Bishop pins the knight, creating pressure on White's position.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-19\",\n    \"name\": \"Tarrasch Variation with Bc4\",\n    \"description\": \"Active bishop development\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nd2\", \"c5\", \"exd5\", \"Qxd5\", \"Ngf3\", \"cxd4\", \"Bc4\", \"Qd6\", \"O-O\", \"Nf6\", \"Nb3\", \"Nc6\", \"Nbxd4\", \"Nxd4\", \"Nxd4\", \"Be7\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Tarrasch Variation - Knight develops.\",\n      \"Black attacks d4 with c5.\",\n      \"White captures on d5, simplifying.\",\n      \"Queen recaptures, centralizing.\",\n      \"White develops the other knight.\",\n      \"Black captures on d4.\",\n      \"Bishop develops actively to c4, eyeing f7.\",\n      \"Queen retreats to d6, defending f7.\",\n      \"White castles, bringing king to safety.\",\n      \"Black develops knight.\",\n      \"White's knight moves to b3, eyeing d4 and c5 squares.\",\n      \"Black develops the other knight.\",\n      \"White captures on d4 with knight.\",\n      \"Black recaptures with knight.\",\n      \"White recaptures with the other knight.\",\n      \"Black develops bishop, preparing kingside play.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-20\",\n    \"name\": \"Tarrasch Variation with Bb5\",\n    \"description\": \"Bishop pin on c6\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nd2\", \"c5\", \"Ngf3\", \"cxd4\", \"Nxd4\", \"Nc6\", \"Bb5\", \"Ne7\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Tarrasch Variation - Knight develops.\",\n      \"Black attacks d4 with c5.\",\n      \"White develops the other knight.\",\n      \"Black captures on d4.\",\n      \"White recaptures with knight.\",\n      \"Black develops knight, attacking d4.\",\n      \"Bishop pins the knight.\",\n      \"Knight moves to e7, breaking the pin while developing.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-21\",\n    \"name\": \"Winawer Variation with g5\",\n    \"description\": \"Kingside pawn advance\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"Bg5\", \"Bb4\", \"e5\", \"h6\", \"Bh4\", \"g5\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"White develops knight, attacking d5.\",\n      \"Black develops knight, attacking e4.\",\n      \"Bishop pins the knight.\",\n      \"Winawer Variation - Black pins the knight.\",\n      \"White advances, attacking the knight.\",\n      \"Black attacks the bishop.\",\n      \"Bishop retreats to h4.\",\n      \"Black advances g5, attacking the bishop and gaining space on the kingside.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-22\",\n    \"name\": \"Exchange Variation with Bg5 and Bg4\",\n    \"description\": \"Mutual bishop pins\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"exd5\", \"exd5\", \"Nf3\", \"Nf6\", \"Bd3\", \"Bd6\", \"O-O\", \"O-O\", \"Bg5\", \"Bg4\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Exchange Variation - White simplifies.\",\n      \"Black recaptures, maintaining symmetry.\",\n      \"White develops knight.\",\n      \"Black develops knight.\",\n      \"White develops bishop actively.\",\n      \"Black develops bishop to d6.\",\n      \"White castles, bringing king to safety.\",\n      \"Black castles, bringing king to safety.\",\n      \"White pins the knight with bishop.\",\n      \"Black pins White's knight with bishop, creating symmetrical tension.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-23\",\n    \"name\": \"Advance Variation with a3\",\n    \"description\": \"Preventive move on queenside\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"e5\", \"c5\", \"c3\", \"Qb6\", \"Nf3\", \"Nc6\", \"a3\", \"c4\", \"Nbd2\", \"Na5\", \"Be2\", \"Bd7\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"Advance Variation - White gains space.\",\n      \"Black attacks b2 with queen.\",\n      \"White supports d4 with c3.\",\n      \"Queen continues pressure on queenside.\",\n      \"White develops knight.\",\n      \"Black develops knight.\",\n      \"White prevents ...Bb4, securing the b3 square.\",\n      \"Black advances pawn to c4, gaining space on queenside.\",\n      \"White develops knight, preparing to challenge the c4 pawn.\",\n      \"Knight moves to a5, supporting the c4 pawn.\",\n      \"White develops bishop modestly.\",\n      \"Black develops bishop, connecting rooks.\"\n    ]\n  },\n  {\n    \"category\": \"French Defense\",\n    \"id\": \"french-24\",\n    \"name\": \"Classical Variation with f4\",\n    \"description\": \"Kingside pawn advance\",\n    \"moves\": [\"e4\", \"e6\", \"d4\", \"d5\", \"Nc3\", \"Nf6\", \"e5\", \"Nfd7\", \"f4\", \"c5\", \"Nf3\", \"Nc6\", \"Be3\", \"cxd4\", \"Nxd4\", \"Bc5\", \"Qd2\", \"O-O\"],\n    \"explanations\": [\n      \"White claims the center with e4.\",\n      \"French Defense - Black prepares ...d5.\",\n      \"White reinforces with d4.\",\n      \"Black challenges the center.\",\n      \"White develops knight, attacking d5.\",\n      \"Black develops knight, attacking e4.\",\n      \"White advances, attacking the knight.\",\n      \"Knight retreats to d7.\",\n      \"White advances f4, supporting the e5 pawn and gaining space.\",\n      \"Black attacks the center with c5.\",\n      \"White develops knight.\",\n      \"Black develops the other knight.\",\n      \"White develops bishop, supporting the center.\",\n      \"Black captures on d4.\",\n      \"White recaptures with knight.\",\n      \"Black develops bishop with tempo.\",\n      \"Queen moves to d2, connecting rooks and defending d4.\",\n      \"Black castles, bringing king to safety.\"\n    ]\n  }\n];","export const englundGambitLines = [\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-01\",\n    \"name\": \"Classic Englund Gambit Accepted\",\n    \"description\": \"Immediate pawn sacrifice for development\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Nbd2\", \"Qxf4\", \"e3\", \"Qb4\"],\n    \"explanations\": [\n      \"White establishes central presence with the queen's pawn, controlling e5 and c5.\",\n      \"The Englund Gambit - Black sacrifices a pawn to disrupt White's center and quick development.\",\n      \"White accepts the gambit, gaining a material advantage but allowing Black counterplay.\",\n      \"Black develops the knight with tempo, attacking the e5 pawn immediately.\",\n      \"White develops the knight to defend e5 while preparing kingside castling.\",\n      \"Black develops the queen actively, targeting the e5 pawn and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4, but this exposes it to future attacks.\",\n      \"Black checks the king while attacking the b2 pawn, creating immediate threats.\",\n      \"White blocks the check with the knight, developing a piece but blocking the queen's bishop.\",\n      \"Black captures the bishop, winning material and maintaining the initiative.\",\n      \"White attacks the queen with a pawn push, gaining tempo to continue development.\",\n      \"The queen retreats to a safe square while maintaining pressure on b2 and the center.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-02\",\n    \"name\": \"Alternative Knight Block\",\n    \"description\": \"Different knight block leads to similar tactics\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Nc3\", \"Qxf4\", \"e3\", \"Qb4\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit sacrifice, aiming to disrupt White's development.\",\n      \"White accepts the pawn, gaining material but allowing Black counterplay.\",\n      \"Black develops the knight with immediate pressure on the e5 pawn.\",\n      \"White develops the knight naturally, defending e5 and preparing castling.\",\n      \"Black's queen develops to e7, targeting the e5 pawn and preparing ...Qb4+.\",\n      \"White develops the bishop to f4, active but potentially exposed.\",\n      \"Black checks the king while attacking the b2 pawn, creating immediate threats.\",\n      \"White blocks with the queen's knight, developing a piece but allowing ...Qxf4.\",\n      \"Black captures the bishop, winning material and maintaining pressure.\",\n      \"White attacks the queen with a pawn push, gaining time to develop.\",\n      \"The queen retreats safely while maintaining threats against White's position.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-03\",\n    \"name\": \"Classic Checkmate Pattern\",\n    \"description\": \"Quick mate after Qb4+ and bishop maneuvers\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Bc3\", \"Bb4\", \"Qd2\", \"Bxc3\", \"Qxc3\", \"Qc1#\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn opening.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development and attack.\",\n      \"White accepts the pawn, gaining material but allowing Black's initiative.\",\n      \"Black develops the knight with tempo, attacking the e5 pawn.\",\n      \"White develops the knight to defend e5 and prepare kingside castling.\",\n      \"Black's queen develops actively, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively but exposes it to future attacks.\",\n      \"Black checks the king while threatening the b2 pawn, creating immediate pressure.\",\n      \"White blocks the check with the bishop, but this allows ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook and increasing material advantage.\",\n      \"White attacks the queen with the bishop, attempting to regain tempo.\",\n      \"Black pins the bishop with ...Bb4, creating tactical threats.\",\n      \"White develops the queen to defend the bishop and connect rooks.\",\n      \"Black captures the bishop, eliminating a defender and opening lines.\",\n      \"White recaptures with the queen, but this leaves the back rank vulnerable.\",\n      \"Checkmate! The queen delivers mate on c1, exploiting White's underdeveloped position.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-04\",\n    \"name\": \"Queen Block Variation\",\n    \"description\": \"White blocks with queen instead of bishop\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Qd2\", \"Qxb2\", \"Qc3\", \"Bb4\", \"Bd2\", \"Bxc3\", \"Bxc3\", \"Qc1#\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central presence.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material advantage.\",\n      \"Black develops the knight with immediate pressure on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4, but this exposes it.\",\n      \"Black checks the king while threatening the b2 pawn.\",\n      \"White blocks with the queen, but this allows ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook and gaining material.\",\n      \"White attacks the queen, trying to regain tempo and development.\",\n      \"Black pins the queen with ...Bb4, creating tactical threats.\",\n      \"White develops the bishop to break the pin.\",\n      \"Black captures the queen, winning material and maintaining attack.\",\n      \"White recaptures with the bishop, but the position remains critical.\",\n      \"Checkmate! Black's queen delivers mate on c1, exploiting White's exposed king.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-05\",\n    \"name\": \"Knight Sacrifice Line\",\n    \"description\": \"White sacrifices knight for attack\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Nc3\", \"Bb4\", \"Nd5\", \"Bxd2+\", \"Nxd2\", \"Nb4\", \"Nxc7+\", \"Kd8\", \"Nxa8\", \"Nxc2+\", \"Qxc2\", \"Qxc2\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the bishop, allowing ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook.\",\n      \"White develops the knight, aiming for counterplay.\",\n      \"Black pins the knight, creating tactical opportunities.\",\n      \"White sacrifices the knight to disrupt Black's position.\",\n      \"Black captures with check, maintaining material advantage.\",\n      \"White recaptures with the knight.\",\n      \"Black attacks the queen with the knight, gaining tempo.\",\n      \"White's knight captures with check, creating complications.\",\n      \"Black's king is forced to move, losing castling rights.\",\n      \"White captures the rook, winning material compensation.\",\n      \"Black's knight delivers check, attacking the queen.\",\n      \"White captures the knight with the queen.\",\n      \"Black captures the queen, simplifying to a winning endgame.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-06\",\n    \"name\": \"Bxc3 Capture Line\",\n    \"description\": \"Bishop captures on c3 leads to material gain\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Bc3\", \"Bb4\", \"Qd2\", \"Bxc3\", \"Nxc3\", \"Qxa1+\", \"Qd1\", \"Qxc3+\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for initiative.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the bishop, allowing ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook.\",\n      \"White attacks the queen with the bishop.\",\n      \"Black pins the bishop with ...Bb4, creating threats.\",\n      \"White develops the queen to defend and connect rooks.\",\n      \"Black captures the bishop, winning material.\",\n      \"White recaptures with the knight, developing a piece.\",\n      \"Black captures the rook with check, gaining significant material.\",\n      \"White blocks with the queen, but the position remains difficult.\",\n      \"Black captures the knight with check, maintaining a decisive advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-07\",\n    \"name\": \"Nd5 Attack Line\",\n    \"description\": \"Knight to d5 creates threats\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Nc3\", \"Qxf4\", \"Nd5\", \"Qe4\", \"Nxc7+\", \"Kd8\", \"Nxa8\", \"Nxe5\", \"Nxe5\", \"Qxe5\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the knight, developing a piece.\",\n      \"Black captures the bishop, winning material.\",\n      \"White attacks with the knight, threatening fork tactics.\",\n      \"Black's queen retreats to defend and maintain material.\",\n      \"White's knight captures with check, creating complications.\",\n      \"Black's king is forced to move, losing castling rights.\",\n      \"White captures the rook, gaining material compensation.\",\n      \"Black captures the e5 pawn with the knight.\",\n      \"White captures the knight, simplifying the position.\",\n      \"Black recaptures with the queen, maintaining material balance.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-08\",\n    \"name\": \"d5 Advance Variation\",\n    \"description\": \"White advances d5 instead of capturing\",\n    \"moves\": [\"d4\", \"e5\", \"d5\", \"Nf6\", \"c4\", \"Bb4+\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn.\",\n      \"The Englund Gambit - offering a pawn sacrifice.\",\n      \"White declines the gambit, advancing the pawn to gain space.\",\n      \"Black develops the knight to its natural square, attacking d5.\",\n      \"White supports the d5 pawn and expands on the queenside.\",\n      \"Black develops the bishop with check, pinning the knight and creating pressure.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-09\",\n    \"name\": \"Bd2 Capture Line\",\n    \"description\": \"Bishop captures on d2 leads to simplification\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Nc3\", \"Bb4\", \"Nd5\", \"Bxd2+\", \"Nxd2\", \"Nb4\", \"Nxb4\", \"Qxb4\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for initiative.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the bishop, allowing ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook.\",\n      \"White develops the knight, aiming for counterplay.\",\n      \"Black pins the knight with ...Bb4.\",\n      \"White attacks with the knight, creating threats.\",\n      \"Black captures with check, simplifying the position.\",\n      \"White recaptures with the knight.\",\n      \"Black attacks the queen with the knight.\",\n      \"White captures the knight, exchanging pieces.\",\n      \"Black recaptures with the queen, maintaining material advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-10\",\n    \"name\": \"e3 Exchange Variation\",\n    \"description\": \"White plays e3 instead of capturing\",\n    \"moves\": [\"d4\", \"e5\", \"e3\", \"exd4\", \"exd4\", \"d5\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn.\",\n      \"The Englund Gambit - offering a pawn sacrifice.\",\n      \"White prepares to recapture on d4, maintaining solid central structure.\",\n      \"Black captures the pawn, forcing the exchange.\",\n      \"White recaptures, maintaining a central pawn majority.\",\n      \"Black establishes a central pawn of their own, creating balanced play.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-11\",\n    \"name\": \"Nc3 Development Line\",\n    \"description\": \"White develops knight early\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Nc3\", \"Nxe5\", \"Nxe5\", \"Qxe5\", \"e4\", \"Bb4\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5.\",\n      \"White develops the queen's knight, preparing central expansion.\",\n      \"Black captures the e5 pawn with the knight.\",\n      \"White recaptures with the knight, exchanging pieces.\",\n      \"Black recaptures with the queen, centralizing the piece.\",\n      \"White advances the e-pawn, establishing a strong center.\",\n      \"Black develops the bishop with a pin on the knight, creating pressure.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-12\",\n    \"name\": \"Bf4 Capture Line\",\n    \"description\": \"Bishop to f4 followed by knight capture\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Nc3\", \"Nxe5\", \"Bf4\", \"Nxf3+\", \"gxf3\", \"d6\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5.\",\n      \"White develops the queen's knight, preparing central expansion.\",\n      \"Black captures the e5 pawn with the knight.\",\n      \"White develops the bishop actively, attacking the knight.\",\n      \"Black captures with check, forcing recapture and damaging White's pawn structure.\",\n      \"White recaptures with the pawn, doubling pawns but opening the g-file.\",\n      \"Black advances the d-pawn, gaining central space and preparing development.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-13\",\n    \"name\": \"Rb1 Defense Line\",\n    \"description\": \"White defends b2 with rook\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Nc3\", \"Bb4\", \"Rb1\", \"Qa3\", \"Rb3\", \"Qa5\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the bishop, allowing ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook.\",\n      \"White develops the knight, preparing counterplay.\",\n      \"Black pins the knight with ...Bb4.\",\n      \"White defends with the rook, protecting the knight and attacking the queen.\",\n      \"Black's queen retreats to a safer square.\",\n      \"White attacks the queen with the rook, gaining tempo.\",\n      \"Black's queen retreats further, maintaining pressure on the position.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-14\",\n    \"name\": \"Nd5 Attack with Ba5\",\n    \"description\": \"Knight to d5 met with Ba5 retreat\",\n    \"moves\": [\"d4\", \"e5\", \"dxe5\", \"Nc6\", \"Nf3\", \"Qe7\", \"Bf4\", \"Qb4+\", \"Bd2\", \"Qxb2\", \"Nc3\", \"Bb4\", \"Rb1\", \"Qa3\", \"Nd5\", \"Ba5\"],\n    \"explanations\": [\n      \"White opens with the queen's pawn, establishing central control.\",\n      \"The Englund Gambit - sacrificing a pawn for rapid development.\",\n      \"White accepts the gambit pawn, gaining material.\",\n      \"Black develops the knight with tempo on e5.\",\n      \"White develops the knight to defend e5 and prepare castling.\",\n      \"Black's queen develops to e7, targeting e5 and preparing ...Qb4+.\",\n      \"White develops the bishop actively to f4.\",\n      \"Black checks the king while threatening b2.\",\n      \"White blocks with the bishop, allowing ...Qxb2.\",\n      \"Black captures the b2 pawn, attacking the rook.\",\n      \"White develops the knight, preparing counterplay.\",\n      \"Black pins the knight with ...Bb4.\",\n      \"White defends with the rook, protecting the knight.\",\n      \"Black's queen retreats to maintain pressure.\",\n      \"White attacks with the knight, threatening fork tactics.\",\n      \"Black retreats the bishop, maintaining the pin and preparing ...O-O-O.\"\n    ]\n  },\n  {\n    \"category\": \"Englund Gambit\",\n    \"id\": \"englund-15\",\n    \"name\": \"Bf4 Immediate Capture\",\n    \"description\": \"Early bishop development leads to immediate capture\",\n    \"moves\": [\"d4\", \"e5\", \"Bf4\", \"exf4\"],\n    \"explanations\": [\n      \"White establishes central control with the queen's pawn.\",\n      \"The Englund Gambit - sacrificing a pawn for initiative.\",\n      \"White develops the bishop early, but this is premature in this line.\",\n      \"Black immediately captures the bishop, winning a piece for a pawn with a strong initiative.\"\n    ]\n  }\n];","export const englishOpeningLines = [\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-01\",\n    \"name\": \"Symmetrical Variation with Knight Attack\",\n    \"description\": \"Early e4 push against Nf6\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"e6\", \"e4\", \"Bb4\", \"e5\", \"Bxc3\", \"bxc3\", \"Ne4\", \"Qg4\", \"Ng5\", \"h4\"],\n    \"explanations\": [\n      \"Let's learn the English Opening! Rather than immediately pushing our central pawns, we start with the flank pawn to c4. This flexible opening can transpose into many different structures.\",\n      \"Black responds with the knight to f6, preparing to control the center and develop pieces.\",\n      \"We develop our queenside knight, supporting the center and preparing to control key squares.\",\n      \"Black plays e6, supporting a future d5 break and preparing bishop development.\",\n      \"We strike in the center with e4, establishing a strong pawn presence and challenging Black's setup.\",\n      \"Black pins our knight with Bb4, creating immediate tension and threatening to double our pawns.\",\n      \"We push forward with e5, attacking the knight and gaining space in the center.\",\n      \"Black captures on c3, accepting doubled pawns but damaging our queenside structure.\",\n      \"We recapture with the b-pawn, maintaining material equality but accepting doubled pawns for active play.\",\n      \"Black's knight moves to e4, occupying a central outpost and attacking our weakened pawn structure.\",\n      \"We develop the queen aggressively to g4, attacking the g7 pawn and threatening the knight on e4.\",\n      \"Black retreats the knight to g5, avoiding capture but moving to a less stable square.\",\n      \"After the final move - Well done! We're winning that knight :D By pushing h4, we attack the knight on g5 which has limited retreat squares, forcing Black into difficult defensive choices.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-02\",\n    \"name\": \"Reversed Sicilian with Knight Trade\",\n    \"description\": \"Early central pawn exchange leading to knight misplacement\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nc6\", \"Nf3\", \"Bc5\", \"Nxe5\", \"Nxe5\", \"d4\", \"Nxc4\", \"dxc5\"],\n    \"explanations\": [\n      \"We begin with the English Opening, starting with our flank pawn to c4.\",\n      \"Black responds with e5, establishing a symmetrical pawn structure.\",\n      \"We develop our queenside knight, preparing to control the center.\",\n      \"Black develops the knight to c6, mirroring our development.\",\n      \"We develop the kingside knight, putting immediate pressure on the e5 pawn.\",\n      \"Black develops the bishop to c5, controlling the center and preparing kingside castling.\",\n      \"We capture on e5, initiating central exchanges and testing Black's position.\",\n      \"Black recaptures with the knight, maintaining material equality.\",\n      \"We push d4, challenging Black's center and opening lines for our pieces.\",\n      \"Black captures our knight on c4, winning material but placing the knight on an unstable square.\",\n      \"After the final move - Nice! Even though material is equal, black's knight is so misplaced that the computer gives us a +2 point advantage. By capturing on c5, we regain our pawn and leave Black's knight stranded on c4 with no retreat.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-03\",\n    \"name\": \"Botvinnik System with Bishop Win\",\n    \"description\": \"Knight maneuver wins bishop\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Nc6\", \"e3\", \"Bb4\", \"Qc2\", \"d6\", \"Nd5\", \"Nxd5\", \"cxd5\", \"Ne7\", \"Qa4+\", \"Bd7\", \"Qxb4\"],\n    \"explanations\": [\n      \"We open with the English, playing c4 to control the center from the flank.\",\n      \"Black responds with e5, establishing a classical center.\",\n      \"We develop the queenside knight, preparing for central control.\",\n      \"Black develops the knight to f6, attacking the center and preparing castling.\",\n      \"We develop the kingside knight, increasing central pressure.\",\n      \"Black develops the other knight to c6, completing knight development.\",\n      \"We play e3, supporting the center and preparing bishop development.\",\n      \"Black pins our knight with Bb4, creating tactical possibilities.\",\n      \"We develop the queen to c2, supporting the center and preparing queenside play.\",\n      \"Black supports the e5 pawn with d6, maintaining the central structure.\",\n      \"We move the knight to d5, challenging Black's pieces and creating threats.\",\n      \"Black captures our knight, simplifying the position.\",\n      \"We recapture with the pawn, gaining central control and opening the c-file.\",\n      \"Black retreats the knight to e7, preparing to regroup.\",\n      \"We check with the queen, developing with tempo and attacking the bishop.\",\n      \"Black blocks with the bishop, defending while developing.\",\n      \"After the final move -  You just won yourself a free bishop :D By capturing on b4, we win a piece for free as the bishop has no safe retreat.\"\n    ]\n  },\n  {\n    \"category\": \" English Opening\",\n    \"id\": \"english-04\",\n    \"name\": \"Queen's Gambit Declined Structure\",\n    \"description\": \"Early d5 exchange leads to development advantage\",\n    \"moves\": [\"c4\", \"d5\", \"cxd5\", \"Qxd5\", \"Nc3\", \"Qd8\", \"Nf3\", \"Nf6\", \"d4\", \"e6\", \"e4\", \"Bb4\", \"Bd3\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4 to control the center.\",\n      \"Black immediately challenges with d5, entering Queen's Gambit Declined territory.\",\n      \"We capture on d5, simplifying the center.\",\n      \"Black recaptures with the queen, centralizing but potentially exposing it.\",\n      \"We develop the knight with tempo against the queen.\",\n      \"Black retreats the queen to d8, avoiding further harassment.\",\n      \"We develop the kingside knight, completing our knight development.\",\n      \"Black develops the knight to f6, attacking the center.\",\n      \"We establish a strong pawn center with d4.\",\n      \"Black plays e6, supporting the center and preparing bishop development.\",\n      \"We push e4, establishing a powerful pawn duo in the center.\",\n      \"Black pins our knight with Bb4, creating tactical tension.\",\n      \"After the final move - Our development and our center are soooo much better than black's. Even with equal material, the computer is giving us a +1.3 point advantage. By developing the bishop to d3, we complete our development with a strong piece eyeing the kingside.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-05\",\n    \"name\": \"Kingside Attack Variation\",\n    \"description\": \"Early e5 push attacks knight\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"e6\", \"e4\", \"Bb4\", \"e5\", \"Ng8\", \"Qg4\"],\n    \"explanations\": [\n      \"We start with the English Opening, playing c4 to control the center from the flank.\",\n      \"Black develops the knight to f6, attacking the center.\",\n      \"We develop the queenside knight, preparing for central expansion.\",\n      \"Black plays e6, preparing d5 and bishop development.\",\n      \"We strike in the center with e4, establishing a strong presence.\",\n      \"Black pins our knight with Bb4, creating immediate tension.\",\n      \"We push e5, attacking the knight and gaining space.\",\n      \"Black retreats the knight all the way to g8, losing considerable time.\",\n      \"After the final move - Beautiful! Black has a few ways to save the g7 pawn, but they all come at a cost of pawn structure or development. The computer loves our position so much that we get a +1.3 point advantage. By playing Qg4, we attack the vulnerable g7 pawn and maintain strong initiative.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-06\",\n    \"name\": \"Central Break with Space Advantage\",\n    \"description\": \"Complex pawn exchange leads to space advantage\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"e6\", \"e4\", \"d5\", \"e5\", \"Nfd7\", \"cxd5\", \"Nxe5\", \"d4\", \"Ng6\", \"dxe6\", \"Bxe6\", \"d5\"],\n    \"explanations\": [\n      \"We open with the English, playing c4 to control central squares.\",\n      \"Black develops the knight to f6, preparing for central play.\",\n      \"We develop the queenside knight, supporting the center.\",\n      \"Black plays e6, preparing the d5 break.\",\n      \"We establish a strong center with e4.\",\n      \"Black challenges immediately with d5.\",\n      \"We push e5, gaining space and attacking the knight.\",\n      \"Black retreats the knight to d7, maintaining defense of e5.\",\n      \"We capture on d5, opening the center.\",\n      \"Black captures on e5 with the knight, winning a pawn.\",\n      \"We push d4, attacking the knight and regaining initiative.\",\n      \"Black retreats the knight to g6, avoiding capture.\",\n      \"We capture on e6, opening the position and damaging Black's pawn structure.\",\n      \"Black recaptures with the bishop, developing a piece.\",\n      \"After the final move - Nice!! We have a solid space advantage over black. The eval bar says +0.8 for us. By pushing d5, we gain space, attack the bishop, and establish a strong passed pawn.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-07\",\n    \"name\": \"Dutch Defense Reversed\",\n    \"description\": \"Against f5 setup\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"f5\", \"d4\", \"e4\", \"Bf4\", \"Nf6\", \"e3\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black responds with e5, establishing a classical center.\",\n      \"We develop the queenside knight.\",\n      \"Black plays f5, adopting a Dutch Defense style setup.\",\n      \"We strike in the center with d4, challenging Black's structure.\",\n      \"Black pushes e4, gaining space but locking the position.\",\n      \"We develop the bishop to f4, controlling key squares and preparing development.\",\n      \"Black develops the knight to f6, completing kingside development.\",\n      \"After the final move - Nice! Our center is stronger and we have more development than black. The computer gives us a +1 point advantage. By playing e3, we support our center, prepare bishop development, and maintain a solid position.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-08\",\n    \"name\": \"Bishop Pair Advantage\",\n    \"description\": \"Knight maneuver wins bishop pair\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Bb4\", \"Nd5\", \"Bc5\", \"e3\", \"c6\", \"d4\", \"cxd5\", \"dxc5\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black pins our knight with Bb4.\",\n      \"We move the knight to d5, challenging Black's position.\",\n      \"Black retreats the bishop to c5, maintaining the pin.\",\n      \"We play e3, supporting the center and preparing development.\",\n      \"Black challenges our knight with c6.\",\n      \"We push d4, attacking the bishop and opening the center.\",\n      \"Black captures our knight, simplifying the position.\",\n      \"After the final move - Well done! Our bishop pair gives us a +1 eval advantage. By capturing on c5, we win the bishop pair and establish a strong positional advantage.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-09\",\n    \"name\": \"Central Pawn Majority\",\n    \"description\": \"Early pawn exchange leads to central control\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Bc5\", \"e3\", \"Nf6\", \"d4\", \"exd4\", \"exd4\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the bishop to c5.\",\n      \"We play e3, preparing central expansion.\",\n      \"Black develops the knight to f6.\",\n      \"We push d4, challenging the center.\",\n      \"Black captures on d4.\",\n      \"After the final move - Well done! Now we have 2 pawns in the center while black has 0 - and they also have to spend a turn moving their bishop. By recapturing with the pawn, we establish a strong central pawn majority.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-10\",\n    \"name\": \"King's Indian Reversed\",\n    \"description\": \"Symmetrical fianchetto setup\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"g6\", \"g3\", \"Bg7\", \"Bg2\", \"O-O\", \"d4\", \"d6\", \"Nf3\", \"Nbd7\", \"O-O\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the queenside knight.\",\n      \"Black plays g6, preparing a fianchetto.\",\n      \"We play g3, preparing our own fianchetto.\",\n      \"Black completes the fianchetto with Bg7.\",\n      \"We complete our fianchetto with Bg2.\",\n      \"Black castles kingside.\",\n      \"We establish a central presence with d4.\",\n      \"Black supports the center with d6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the queenside knight.\",\n      \"After the final move - Well done!! We are slightly ahead in evaluation and winrate. By castling, we complete our development and secure our king.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-11\",\n    \"name\": \"Symmetrical Fianchetto System\",\n    \"description\": \"Complete symmetrical development\",\n    \"moves\": [\"c4\", \"g6\", \"Nc3\", \"Bg7\", \"g3\", \"d6\", \"Bg2\", \"Nf6\", \"Nf3\", \"O-O\", \"O-O\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black plays g6, preparing a fianchetto setup.\",\n      \"We develop the queenside knight.\",\n      \"Black completes the fianchetto with Bg7.\",\n      \"We play g3, preparing our own fianchetto.\",\n      \"Black supports the center with d6.\",\n      \"We complete our fianchetto with Bg2.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black castles kingside.\",\n      \"After the final move - Well done! That's what I like to see :) It's a symmetrical game, and you'll play on from here. By castling, we complete our development and prepare for middlegame play.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-12\",\n    \"name\": \"Symmetrical English with d4 Break\",\n    \"description\": \"Early d4 exchange in symmetrical position\",\n    \"moves\": [\"c4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"Nf3\", \"Nf6\", \"d4\", \"cxd4\", \"Nxd4\", \"O-O\", \"O-O\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds symmetrically with c5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to c6.\",\n      \"We play g3, preparing a fianchetto.\",\n      \"Black plays g6, mirroring our setup.\",\n      \"We complete our fianchetto with Bg2.\",\n      \"Black completes their fianchetto with Bg7.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We break symmetry with d4, challenging the center.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight, centralizing it.\",\n      \"Black castles kingside.\",\n      \"After the final move - That was... emotional. By castling, we complete our development and secure our king in a complex symmetrical position.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-13\",\n    \"name\": \"Slav Defense Setup\",\n    \"description\": \"Against c6 and d5 setup\",\n    \"moves\": [\"c4\", \"c6\", \"Nf3\", \"d5\", \"e3\", \"Nf6\", \"Nc3\", \"Bg4\", \"Qb3\", \"Qb6\", \"Ne5\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black plays c6, preparing d5 in Slav Defense style.\",\n      \"We develop the kingside knight.\",\n      \"Black plays d5, challenging the center.\",\n      \"We play e3, supporting the center and preparing development.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the bishop to g4, pinning our knight.\",\n      \"We develop the queen to b3, attacking b7 and challenging the pin.\",\n      \"Black develops the queen to b6, defending b7 and maintaining the pin.\",\n      \"After the final move - Nice!! We got out of that sticky pin. And if black ever trades our queens, we're happy to open up the a-file for our rook. By playing Ne5, we attack the bishop and break the pin while occupying a strong central square.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-14\",\n    \"name\": \"Four Knights System\",\n    \"description\": \"Standard development against Bb4\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Nc6\", \"e3\", \"Bb4\", \"Qc2\", \"d6\", \"Nd5\", \"Bc5\", \"a3\", \"a5\", \"b3\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the other knight to c6.\",\n      \"We play e3, preparing development.\",\n      \"Black pins our knight with Bb4.\",\n      \"We develop the queen to c2, preparing queenside play.\",\n      \"Black supports the center with d6.\",\n      \"We move the knight to d5, challenging Black's position.\",\n      \"Black retreats the bishop to c5.\",\n      \"We play a3, preventing ...Bb4 ideas and preparing queenside expansion.\",\n      \"Black plays a5, preventing our b4 advance.\",\n      \"After the final move - Well done! We'll plant our bishop on b2 next, and then play the game from there. By playing b3, we prepare to develop our bishop to b2 and maintain a solid position.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-15\",\n    \"name\": \"King's Fianchetto Setup\",\n    \"description\": \"Against Dutch-style f5\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"d6\", \"Nf3\", \"f5\", \"g3\", \"Nf6\", \"Bg2\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black supports the center with d6.\",\n      \"We develop the kingside knight.\",\n      \"Black plays f5, adopting a Dutch-style setup.\",\n      \"We play g3, preparing a fianchetto.\",\n      \"Black develops the knight to f6.\",\n      \"After the final move - Well done! After a castle, we'll enjoy the rest of the game with an extremely strong bishop on g2. By completing our fianchetto, we establish a strong diagonal for our bishop.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-16\",\n    \"name\": \"Tactical Exchange Variation\",\n    \"description\": \"Complex pawn exchange leads to equality\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"e6\", \"e4\", \"d5\", \"e5\", \"d4\", \"exf6\", \"dxc3\", \"bxc3\", \"Qxf6\", \"Nf3\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the queenside knight.\",\n      \"Black plays e6, preparing d5.\",\n      \"We establish a strong center with e4.\",\n      \"Black challenges immediately with d5.\",\n      \"We push e5, attacking the knight.\",\n      \"Black pushes d4, attacking our knight.\",\n      \"We capture the knight on f6.\",\n      \"Black captures our knight on c3.\",\n      \"We recapture with the b-pawn.\",\n      \"Black recaptures the pawn on f6 with the queen.\",\n      \"After the final move - Nice! Next, we'll develop our bishop to d3 and then castle. The position is about equal. By developing the knight to f3, we complete our knight development and prepare for castling.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-17\",\n    \"name\": \"Queen's Pawn Game Transposition\",\n    \"description\": \"Transposes to Queen's Pawn structure\",\n    \"moves\": [\"c4\", \"e6\", \"Nc3\", \"d5\", \"e3\", \"Nf6\", \"Nf3\", \"Be7\", \"b3\", \"O-O\", \"Bb2\", \"c5\", \"cxd5\", \"exd5\", \"d4\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black plays e6, preparing d5.\",\n      \"We develop the queenside knight.\",\n      \"Black plays d5, challenging the center.\",\n      \"We play e3, supporting the center.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the bishop to e7.\",\n      \"We play b3, preparing a queenside fianchetto.\",\n      \"Black castles kingside.\",\n      \"We complete our fianchetto with Bb2.\",\n      \"Black plays c5, challenging the center.\",\n      \"We capture on d5.\",\n      \"Black recaptures with the e-pawn.\",\n      \"After the final move - Nice! We put an end to blacks central pawn storm. By playing d4, we establish a strong pawn center and challenge Black's position.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-18\",\n    \"name\": \"Closed System with Bb4\",\n    \"description\": \"Standard development against pin\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Nc6\", \"e3\", \"Bb4\", \"Qc2\", \"d6\", \"Nd5\", \"Nxd5\", \"cxd5\", \"Ne7\", \"Qa4+\", \"Bd7\", \"Qxb4\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the other knight to c6.\",\n      \"We play e3, preparing development.\",\n      \"Black pins our knight with Bb4.\",\n      \"We develop the queen to c2.\",\n      \"Black supports the center with d6.\",\n      \"We move the knight to d5.\",\n      \"Black captures our knight.\",\n      \"We recapture with the pawn.\",\n      \"Black retreats the knight to e7.\",\n      \"We check with the queen.\",\n      \"Black blocks with the bishop.\",\n      \"After the final move - You just won yourself a free bishop :D By capturing on b4, we win a piece for free.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-19\",\n    \"name\": \"Botvinnik System Repeat\",\n    \"description\": \"Repeat of bishop win line\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Nc6\", \"e3\", \"Bb4\", \"Qc2\", \"d6\", \"Nd5\", \"Nxd5\", \"cxd5\", \"Ne7\", \"Qa4+\", \"Bd7\", \"Qxb4\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the other knight to c6.\",\n      \"We play e3, supporting the center.\",\n      \"Black pins our knight with Bb4.\",\n      \"We develop the queen to c2.\",\n      \"Black supports the center with d6.\",\n      \"We move the knight to d5.\",\n      \"Black captures our knight.\",\n      \"We recapture with the pawn.\",\n      \"Black retreats the knight to e7.\",\n      \"We check with the queen.\",\n      \"Black blocks with the bishop.\",\n      \"After the final move - You just won yourself a free bishop :D By capturing on b4, we win a piece for free.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-20\",\n    \"name\": \"King's Indian Attack Setup\",\n    \"description\": \"Fianchetto against Dutch setup\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"d6\", \"Nf3\", \"f5\", \"g3\", \"Nf6\", \"Bg2\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black supports the center with d6.\",\n      \"We develop the kingside knight.\",\n      \"Black plays f5, adopting a Dutch setup.\",\n      \"We play g3, preparing a fianchetto.\",\n      \"Black develops the knight to f6.\",\n      \"After the final move - Well done! After a castle, we'll enjoy the rest of the game with an extremely strong bishop on g2.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-21\",\n    \"name\": \"Tactical Center Variation\",\n    \"description\": \"Complex pawn exchanges\",\n    \"moves\": [\"c4\", \"Nf6\", \"Nc3\", \"e6\", \"e4\", \"d5\", \"e5\", \"d4\", \"exf6\", \"dxc3\", \"bxc3\", \"Qxf6\", \"Nf3\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the queenside knight.\",\n      \"Black plays e6, preparing d5.\",\n      \"We establish a strong center with e4.\",\n      \"Black challenges immediately with d5.\",\n      \"We push e5, attacking the knight.\",\n      \"Black pushes d4, attacking our knight.\",\n      \"We capture the knight on f6.\",\n      \"Black captures our knight on c3.\",\n      \"We recapture with the b-pawn.\",\n      \"Black recaptures the pawn on f6 with the queen.\",\n      \"After the final move - Nice! Next, we'll develop our bishop to d3 and then castle. The position is about equal.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-22\",\n    \"name\": \"Queen's Pawn Game Structure\",\n    \"description\": \"Transpositional line\",\n    \"moves\": [\"c4\", \"e6\", \"Nc3\", \"d5\", \"e3\", \"Nf6\", \"Nf3\", \"Be7\", \"b3\", \"O-O\", \"Bb2\", \"c5\", \"cxd5\", \"exd5\", \"d4\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black plays e6, preparing d5.\",\n      \"We develop the queenside knight.\",\n      \"Black plays d5, challenging the center.\",\n      \"We play e3, supporting the center.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the bishop to e7.\",\n      \"We play b3, preparing a queenside fianchetto.\",\n      \"Black castles kingside.\",\n      \"We complete our fianchetto with Bb2.\",\n      \"Black plays c5, challenging the center.\",\n      \"We capture on d5.\",\n      \"Black recaptures with the e-pawn.\",\n      \"After the final move - Nice! We put an end to blacks central pawn storm.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-23\",\n    \"name\": \"Symmetrical English Basic\",\n    \"description\": \"Basic symmetrical setup\",\n    \"moves\": [\"c4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"Nf3\", \"Nf6\", \"d4\", \"cxd4\", \"Nxd4\", \"O-O\", \"O-O\"],\n    \"explanations\": [\n      \"We begin with the English Opening, playing c4.\",\n      \"Black responds symmetrically with c5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to c6.\",\n      \"We play g3, preparing a fianchetto.\",\n      \"Black plays g6, mirroring our setup.\",\n      \"We complete our fianchetto with Bg2.\",\n      \"Black completes their fianchetto with Bg7.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We break symmetry with d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black castles kingside.\",\n      \"After the final move - That was... emotional. By castling, we complete our development.\"\n    ]\n  },\n  {\n    \"category\": \"English Opening\",\n    \"id\": \"english-24\",\n    \"name\": \"Four Knights English\",\n    \"description\": \"Standard four knights setup\",\n    \"moves\": [\"c4\", \"e5\", \"Nc3\", \"Nf6\", \"Nf3\", \"Nc6\", \"e3\", \"Bb4\", \"Qc2\", \"d6\", \"Nd5\", \"Bc5\", \"a3\", \"a5\", \"b3\"],\n    \"explanations\": [\n      \"We open with the English, playing c4.\",\n      \"Black responds with e5.\",\n      \"We develop the queenside knight.\",\n      \"Black develops the knight to f6.\",\n      \"We develop the kingside knight.\",\n      \"Black develops the other knight to c6.\",\n      \"We play e3, preparing development.\",\n      \"Black pins our knight with Bb4.\",\n      \"We develop the queen to c2.\",\n      \"Black supports the center with d6.\",\n      \"We move the knight to d5.\",\n      \"Black retreats the bishop to c5.\",\n      \"We play a3, preventing ...Bb4.\",\n      \"Black plays a5, preventing b4.\",\n      \"After the final move - Well done! We'll plant our bishop on b2 next, and then play the game from there.\"\n    ]\n  }\n];","export const scotchGameLines = [\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-01\",\n    \"name\": \"Classical Scotch Main Line\",\n    \"description\": \"Standard Scotch with bishop exchange\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Nf6\", \"Nxc6\", \"bxc6\", \"Bxc5\"],\n    \"explanations\": [\n      \"Let's learn the scotch game! This opening literally just feels like a cheat code - it's so easy to get a winning position in just a few moves, and ALL of black's most common responses, especially at <2000 ELO, will make them lose on the spot. We begin with pawn to e4.\",\n      \"Black responds with e5, establishing the classical center.\",\n      \"We develop the knight to f3, attacking the e5 pawn and developing a piece.\",\n      \"Black develops the knight to c6, defending the e5 pawn.\",\n      \"We immediately strike in the center with d4, opening lines and challenging Black's position.\",\n      \"Black captures on d4, accepting the exchange.\",\n      \"We recapture with the knight, centralizing a piece.\",\n      \"Black develops the bishop to c5, attacking our knight and controlling the center.\",\n      \"We develop the bishop to e3, defending the knight and preparing queenside castling.\",\n      \"Black develops the knight to f6, attacking e4 and preparing kingside castling.\",\n      \"We capture on c6, damaging Black's pawn structure.\",\n      \"Black recaptures with the b-pawn, creating doubled pawns but opening the b-file.\",\n      \"We capture the bishop, winning the bishop pair and maintaining a strong position.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-02\",\n    \"name\": \"Scotch Four Knights Variation\",\n    \"description\": \"Queen exchange line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"c5\", \"Qe3\", \"Nf6\", \"e5\"],\n    \"explanations\": [\n      \"We open with e4, establishing central control.\",\n      \"Black responds with e5, mirroring our central pawn.\",\n      \"We develop the knight to f3, attacking e5.\",\n      \"Black defends with Nc6.\",\n      \"We strike immediately with d4, opening the center.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight, simplifying the position.\",\n      \"We recapture with the queen, centralizing it but potentially exposing it.\",\n      \"Black attacks our queen with c5, gaining tempo.\",\n      \"We move the queen to e3, maintaining central presence.\",\n      \"Black develops the knight to f6.\",\n      \"We push e5, attacking the knight and gaining space.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-03\",\n    \"name\": \"Gring Gambit Declined\",\n    \"description\": \"Tactical line with knight win\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"Nf6\", \"dxe5\", \"Nxe4\", \"Bc4\", \"Bc5\", \"Qd5\", \"Bxf2+\", \"Kf1\", \"O-O\", \"Qxe4\"],\n    \"explanations\": [\n      \"We begin with e4, establishing the center.\",\n      \"Black responds with e5.\",\n      \"We develop Nf3, attacking e5.\",\n      \"Black develops Nc6.\",\n      \"We play d4, challenging the center.\",\n      \"Black develops Nf6 instead of capturing on d4.\",\n      \"We capture on e5.\",\n      \"Black captures on e4 with the knight.\",\n      \"We develop the bishop to c4, attacking f7.\",\n      \"Black develops Bc5.\",\n      \"We attack with Qd5, threatening multiple pieces.\",\n      \"Black checks with Bxf2+.\",\n      \"We move the king to f1.\",\n      \"Black castles.\",\n      \"After the final move - Nice! We have an extra knight. By capturing on e4, we regain our pawn and maintain material advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-04\",\n    \"name\": \"Scotch with d6 Defense\",\n    \"description\": \"Against passive d6 setup\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"d6\", \"d5\", \"Nd4\", \"Nxd4\", \"exd4\", \"Qxd4\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black plays Nc6.\",\n      \"We strike with d4.\",\n      \"Black plays d6, a more passive defense.\",\n      \"We push d5, gaining space.\",\n      \"Black moves the knight to d4.\",\n      \"We capture the knight.\",\n      \"Black recaptures with the pawn.\",\n      \"We capture with the queen, centralizing it.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-05\",\n    \"name\": \"Complex Tactical Line\",\n    \"description\": \"Long tactical sequence\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Qf6\", \"Nb5\", \"Bc5\", \"Qe2\", \"Bb6\", \"N1c3\", \"a6\", \"Nd5\", \"Qd8\", \"Nxb6\", \"cxb6\", \"Nd6+\", \"Kf8\", \"Bf4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4, opening the center.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops the queen to f6, attacking our knight.\",\n      \"We move the knight to b5, threatening c7.\",\n      \"Black develops Bc5.\",\n      \"We develop the queen to e2, preparing castling.\",\n      \"Black retreats the bishop to b6.\",\n      \"We develop the other knight to c3.\",\n      \"Black plays a6, attacking our knight.\",\n      \"We move the knight to d5, centralizing.\",\n      \"Black retreats the queen to d8.\",\n      \"We capture the bishop on b6.\",\n      \"Black recaptures with the c-pawn.\",\n      \"We check with Nd6+.\",\n      \"Black moves the king to f8.\",\n      \"After the final move - Wow. The material is equal but we will win from here 100% of the time. Our knight is just too good. We'll castle now, develop our last pieces, and then launch a huge attack on black's weak position. By developing Bf4, we increase pressure on the weakened dark squares.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-06\",\n    \"name\": \"Scotch Gambit Accepted\",\n    \"description\": \"Aggressive attacking line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"d6\", \"Nc3\", \"Nf6\", \"Bg5\", \"Be7\", \"O-O-O\", \"O-O\", \"e5\", \"dxe5\", \"Qxe5\", \"Qe8\", \"Qxc7\", \"Be6\", \"Bb5\", \"Qc8\", \"Qxe7\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black plays d6.\",\n      \"We develop Nc3.\",\n      \"Black develops Nf6.\",\n      \"We pin the knight with Bg5.\",\n      \"Black develops Be7.\",\n      \"We castle queenside.\",\n      \"Black castles kingside.\",\n      \"We push e5.\",\n      \"Black captures on e5.\",\n      \"We recapture with the queen.\",\n      \"Black moves the queen to e8.\",\n      \"We capture on c7.\",\n      \"Black develops Be6.\",\n      \"We develop Bb5.\",\n      \"Black moves the queen to c8.\",\n      \"After the final move -  Knight will be coming to c7. Knight will win a rook. GG. By capturing on e7, we win material and maintain a crushing position.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-07\",\n    \"name\": \"Kingside Attack Variation\",\n    \"description\": \"Sacrificial attack line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nf6\", \"Nxc6\", \"bxc6\", \"Bd3\", \"Bc5\", \"e5\", \"Qe7\", \"O-O\", \"Nd5\", \"Nd2\", \"O-O\", \"Ne4\", \"Bb6\", \"c4\", \"Nb4\", \"Nf6+\", \"gxf6\", \"Bxh7+\", \"Kxh7\", \"Qh5+\", \"Kg8\", \"Qg4+\", \"Kh7\", \"Qh4+\", \"Kg8\", \"Bh6\", \"Qxe5\", \"Qh7+\", \"Kf8\", \"Qh8+\", \"Ke7\", \"Qxg7+\", \"Kd6\", \"Qxf6+\", \"Kc5\", \"Qxe5\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Nf6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with b-pawn.\",\n      \"We develop Bd3.\",\n      \"Black develops Bc5.\",\n      \"We push e5.\",\n      \"Black develops Qe7.\",\n      \"We castle kingside.\",\n      \"Black moves the knight to d5.\",\n      \"We develop Nd2.\",\n      \"Black castles.\",\n      \"We move the knight to e4.\",\n      \"Black retreats the bishop to b6.\",\n      \"We push c4.\",\n      \"Black moves the knight to b4.\",\n      \"We sacrifice with Nf6+.\",\n      \"Black captures with g-pawn.\",\n      \"We sacrifice the bishop with Bxh7+.\",\n      \"Black captures with the king.\",\n      \"We check with Qh5+.\",\n      \"Black moves the king to g8.\",\n      \"We check with Qg4+.\",\n      \"Black moves the king to h7.\",\n      \"We check with Qh4+.\",\n      \"Black moves the king to g8.\",\n      \"We develop Bh6.\",\n      \"Black captures on e5.\",\n      \"After the final move - Nice job winning a queen! The attack continues with mate threats.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-08\",\n    \"name\": \"Pressure on c7 Square\",\n    \"description\": \"Knight domination line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Ng8\", \"Nc3\", \"d6\", \"Bf4\", \"dxe5\", \"Qxe5+\", \"Qe7\", \"Nb5\", \"Qxe5+\", \"Bxe5\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black retreats the knight to g8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We develop Bf4.\",\n      \"Black captures on e5.\",\n      \"We check with Qxe5+.\",\n      \"Black blocks with Qe7.\",\n      \"We move the knight to b5.\",\n      \"Black captures our queen.\",\n      \"After the final move - Knight will be coming to c7. Knight will win a rook. GG. By recapturing with the bishop, we maintain a dominating position.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-09\",\n    \"name\": \"C7 Square Pressure Line\",\n    \"description\": \"Similar to previous with Be7\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Ng8\", \"Nc3\", \"d6\", \"Bf4\", \"dxe5\", \"Qxe5+\", \"Be7\", \"Nb5\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black retreats the knight to g8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We develop Bf4.\",\n      \"Black captures on e5.\",\n      \"We check with Qxe5+.\",\n      \"Black blocks with Be7.\",\n      \"After the final move - It's over. We just have too much pressure on the c7 square. There's a bunch of ways black COULD respond here, but none of them are good. By moving Nb5, we threaten the vulnerable c7 square.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-10\",\n    \"name\": \"Rook Win Variation\",\n    \"description\": \"Winning material line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Qe7\", \"Be3\", \"Ng8\", \"Nc3\", \"d6\", \"Nd5\", \"Qd7\", \"exd6\", \"Bxd6\", \"Qxg7\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black develops Qe7.\",\n      \"We develop Be3.\",\n      \"Black retreats the knight to g8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We move the knight to d5.\",\n      \"Black moves the queen to d7.\",\n      \"We capture on d6.\",\n      \"Black recaptures with the bishop.\",\n      \"After the final move - It's over. We're winning a rook and probably a few other pieces too. By capturing on g7, we attack the rook and win material.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-11\",\n    \"name\": \"Material Advantage Line\",\n    \"description\": \"Winning two pawns\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"d6\", \"Nc3\", \"Nf6\", \"Bg5\", \"Be7\", \"O-O-O\", \"O-O\", \"e5\", \"dxe5\", \"Qxe5\", \"Qe8\", \"Qxc7\", \"Be6\", \"Bb5\", \"Rc8\", \"Qxb7\", \"Rb8\", \"Bxe8\", \"Rxb7\", \"Ba4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black plays d6.\",\n      \"We develop Nc3.\",\n      \"Black develops Nf6.\",\n      \"We pin with Bg5.\",\n      \"Black develops Be7.\",\n      \"We castle queenside.\",\n      \"Black castles kingside.\",\n      \"We push e5.\",\n      \"Black captures on e5.\",\n      \"We recapture with the queen.\",\n      \"Black moves the queen to e8.\",\n      \"We capture on c7.\",\n      \"Black develops Be6.\",\n      \"We develop Bb5.\",\n      \"Black moves the rook to c8.\",\n      \"We capture on b7.\",\n      \"Black moves the rook to b8.\",\n      \"We capture the queen.\",\n      \"Black captures our queen.\",\n      \"After the final move - Nice! We made out like bandits and are now up two pawns! By retreating the bishop to a4, we save it and maintain our material advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-12\",\n    \"name\": \"Positional Advantage Line\",\n    \"description\": \"Comfortable position with advantage\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Nxd4\", \"Bxd4\", \"Bxd4\", \"Qxd4\", \"Qf6\", \"e5\", \"Qb6\", \"Qxb6\", \"axb6\", \"Nc3\", \"Ne7\", \"O-O-O\", \"O-O\", \"Bc4\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black captures our knight.\",\n      \"We recapture with the bishop.\",\n      \"Black captures our bishop.\",\n      \"We recapture with the queen.\",\n      \"Black develops Qf6.\",\n      \"We push e5.\",\n      \"Black moves the queen to b6.\",\n      \"We exchange queens.\",\n      \"Black recaptures with a-pawn.\",\n      \"We develop Nc3.\",\n      \"Black develops Ne7.\",\n      \"We castle queenside.\",\n      \"Black castles kingside.\",\n      \"After the final move - Nice! We have a very comfortable position. It'll be up to you to convert our 1.5 point advantage into a win. By developing Bc4, we complete our development with a strong bishop.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-13\",\n    \"name\": \"Development Advantage Line\",\n    \"description\": \"Better development and king safety\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Qf6\", \"e5\", \"Qe6\", \"Bc4\", \"Qg6\", \"Nc3\", \"Qxg2\", \"Bd5\", \"Qg6\", \"Bd2\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Qf6.\",\n      \"We push e5.\",\n      \"Black moves the queen to e6.\",\n      \"We develop Bc4.\",\n      \"Black moves the queen to g6.\",\n      \"We develop Nc3.\",\n      \"Black captures on g2.\",\n      \"We develop Bd5.\",\n      \"Black retreats the queen to g6.\",\n      \"After the final move - Even though material is equal, this game is not even close. Our development is so much better, and our king is about to be so much safer. By developing Bd2, we complete our development and prepare to castle.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-14\",\n    \"name\": \"Crushing Advantage Line\",\n    \"description\": \"+5 advantage position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Qe7\", \"Be3\", \"Ng8\", \"Nc3\", \"d6\", \"Nd5\", \"Qd7\", \"exd6\", \"Qxd6\", \"Bf4\", \"Qe6+\", \"Be2\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black develops Qe7.\",\n      \"We develop Be3.\",\n      \"Black retreats the knight to g8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We move the knight to d5.\",\n      \"Black moves the queen to d7.\",\n      \"We capture on d6.\",\n      \"Black recaptures with the queen.\",\n      \"We develop Bf4.\",\n      \"Black checks with the queen.\",\n      \"After the final move - Well done! The material is equal but we will literally win this game 100% of the time. Our pieces are just so good, and the computer gives us a +5 point advantage. By blocking with Be2, we develop a piece and prepare to castle.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-15\",\n    \"name\": \"Attacking Line with Qf4\",\n    \"description\": \"+2 advantage position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Qf6\", \"e5\", \"Qe6\", \"Bc4\", \"Qb6\", \"Qf4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Qf6.\",\n      \"We push e5.\",\n      \"Black moves the queen to e6.\",\n      \"We develop Bc4.\",\n      \"Black moves the queen to b6.\",\n      \"After the final move - Well done! Black will scramble to stop our attack, and in the meantime we'll castle and keep developing our pieces. The computer has at a +2 point advantage. By moving Qf4, we maintain pressure and prepare to develop our pieces.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-16\",\n    \"name\": \"Space Advantage Line\",\n    \"description\": \"+1 advantage with space\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"d6\", \"d5\", \"Nce7\", \"c4\", \"Nf6\", \"Nc3\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black plays d6.\",\n      \"We push d5.\",\n      \"Black retreats the knight to e7.\",\n      \"We play c4.\",\n      \"Black develops Nf6.\",\n      \"After the final move - Well done! We have so much space - giving us a +1 point advantage. By developing Nc3, we complete our knight development and control the center.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-17\",\n    \"name\": \"Terrifying Position Line\",\n    \"description\": \"Strong attacking setup\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nf6\", \"Nxc6\", \"bxc6\", \"Bd3\", \"Bc5\", \"e5\", \"Nd5\", \"Qg4\", \"g6\", \"Bh6\", \"d6\", \"Qa4\", \"Bd7\", \"O-O\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Nf6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with b-pawn.\",\n      \"We develop Bd3.\",\n      \"Black develops Bc5.\",\n      \"We push e5.\",\n      \"Black moves the knight to d5.\",\n      \"We develop Qg4.\",\n      \"Black plays g6.\",\n      \"We develop Bh6.\",\n      \"Black plays d6.\",\n      \"We move the queen to a4.\",\n      \"Black develops Bd7.\",\n      \"After the final move - Well done! Our position is just terrifying for black. By castling, we secure our king and prepare for the attack.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-18\",\n    \"name\": \"Endgame Advantage Line\",\n    \"description\": \"Better endgame prospects\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nf6\", \"Nxc6\", \"dxc6\", \"Qxd8+\", \"Kxd8\", \"f3\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Nf6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with d-pawn.\",\n      \"We exchange queens.\",\n      \"Black captures with the king.\",\n      \"After the final move - Well done! We will develop and castle - something our opponent no longer has the ability to do. By playing f3, we support the center and prepare development.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-19\",\n    \"name\": \"Central Control Line\",\n    \"description\": \"+1 advantage with center control\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"O-O\", \"O-O\", \"Ne5\", \"Be2\", \"d5\", \"f4\", \"Nc4\", \"Bxc4\", \"dxc4\", \"Nd2\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black castles.\",\n      \"We castle.\",\n      \"Black moves the knight to e5.\",\n      \"We retreat the bishop to e2.\",\n      \"Black plays d5.\",\n      \"We push f4.\",\n      \"Black moves the knight to c4.\",\n      \"We capture the knight.\",\n      \"Black recaptures with the pawn.\",\n      \"After the final move - Well done! We own the center and have more development and a better pawn structure. The computer gives us a +1 point advantage. By developing Nd2, we reposition the knight and maintain control.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-20\",\n    \"name\": \"Queen Exchange Line\",\n    \"description\": \"Simple center control\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Qf6\", \"e5\", \"Qb6\", \"Be3\", \"Qxd4\", \"Bxd4\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Qf6.\",\n      \"We push e5.\",\n      \"Black moves the queen to b6.\",\n      \"We develop Be3.\",\n      \"Black captures our queen.\",\n      \"After the final move - Well done! We simply own the center now. By recapturing with the bishop, we maintain a strong centralized piece.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-21\",\n    \"name\": \"Pawn Push Advantage\",\n    \"description\": \"Edge with f4 push\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"O-O\", \"O-O\", \"Ne5\", \"Be2\", \"d6\", \"f4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black castles.\",\n      \"We castle.\",\n      \"Black moves the knight to e5.\",\n      \"We retreat the bishop to e2.\",\n      \"Black plays d6.\",\n      \"After the final move - Well done! That pawn push is giving us an edge of the opponent. By pushing f4, we gain space and attack the knight.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-22\",\n    \"name\": \"High Win Rate Line\",\n    \"description\": \"70%+ win rate from position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"Ne5\", \"Be2\", \"d5\", \"O-O\", \"dxe4\", \"Nb5\", \"Bd6\", \"Bc5\", \"O-O\", \"Nxd6\", \"cxd6\", \"Qxd6\", \"Qxd6\", \"Bxd6\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black moves the knight to e5.\",\n      \"We retreat the bishop to e2.\",\n      \"Black plays d5.\",\n      \"We castle.\",\n      \"Black captures on e4.\",\n      \"We move the knight to b5.\",\n      \"Black retreats the bishop to d6.\",\n      \"We develop Bc5.\",\n      \"Black castles.\",\n      \"We capture on d6.\",\n      \"Black recaptures with c-pawn.\",\n      \"We capture on d6 with queen.\",\n      \"Black captures our queen.\",\n      \"After the final move - Well done! We win over 70% of the time from here. By capturing the bishop, we maintain material equality with better prospects.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-23\",\n    \"name\": \"Standard Development Line\",\n    \"description\": \"Ready to play position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"d6\", \"O-O\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black plays d6.\",\n      \"After the final move - Well done! We are ready to play some chess. By castling, we secure our king and complete development.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-24\",\n    \"name\": \"Bishop Attack Line\",\n    \"description\": \"Attacking the bishop\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Qf6\", \"Nb5\", \"Bc5\", \"Qe2\", \"Bb6\", \"N1c3\", \"Nge7\", \"Be3\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Qf6.\",\n      \"We move the knight to b5.\",\n      \"Black develops Bc5.\",\n      \"We develop Qe2.\",\n      \"Black retreats the bishop to b6.\",\n      \"We develop the other knight.\",\n      \"Black develops Nge7.\",\n      \"After the final move - Well done! We'll try and take that bishop if we can, and castle if we can't. By developing Be3, we attack the bishop and prepare development.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-25\",\n    \"name\": \"Standard Middle Game\",\n    \"description\": \"Equal middle game position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"O-O\", \"O-O\", \"d6\", \"Nxc6\", \"Nxc6\", \"Bxc5\", \"dxc5\", \"f4\", \"Be6\", \"e5\", \"Qe7\", \"Bxe6\", \"Qxe6\", \"Nd2\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black castles.\",\n      \"We castle.\",\n      \"Black plays d6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with the knight.\",\n      \"We capture the bishop.\",\n      \"Black recaptures with the pawn.\",\n      \"We push f4.\",\n      \"Black develops Be6.\",\n      \"We push e5.\",\n      \"Black develops Qe7.\",\n      \"We capture the bishop.\",\n      \"Black recaptures with the queen.\",\n      \"After the final move - Well done! Let's play some chess now. By developing Nd2, we reposition the knight for the middle game.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-26\",\n    \"name\": \"Slight Advantage Line\",\n    \"description\": \"Better position\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Qf6\", \"c3\", \"Nge7\", \"Bc4\", \"O-O\", \"O-O\", \"d6\", \"Nxc6\", \"Nxc6\", \"Bxc5\", \"dxc5\", \"f4\", \"Be6\", \"e5\", \"Qg6\", \"Bd3\", \"Bf5\", \"Bxf5\", \"Qxf5\", \"Nd2\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Qf6.\",\n      \"We play c3.\",\n      \"Black develops Nge7.\",\n      \"We develop Bc4.\",\n      \"Black castles.\",\n      \"We castle.\",\n      \"Black plays d6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with the knight.\",\n      \"We capture the bishop.\",\n      \"Black recaptures with the pawn.\",\n      \"We push f4.\",\n      \"Black develops Be6.\",\n      \"We push e5.\",\n      \"Black moves the queen to g6.\",\n      \"We develop Bd3.\",\n      \"Black develops Bf5.\",\n      \"We capture the bishop.\",\n      \"Black recaptures with the queen.\",\n      \"After the final move - Well done! We have a slightly better position. By developing Nd2, we prepare for the middle game.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-27\",\n    \"name\": \"Perfect Play Line\",\n    \"description\": \"Both sides play perfectly\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nf6\", \"Nxc6\", \"bxc6\", \"Bd3\", \"d5\", \"exd5\", \"cxd5\", \"O-O\", \"Be7\", \"c4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Nf6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with b-pawn.\",\n      \"We develop Bd3.\",\n      \"Black plays d5.\",\n      \"We capture on d5.\",\n      \"Black recaptures with c-pawn.\",\n      \"We castle.\",\n      \"Black develops Be7.\",\n      \"After the final move - Well done! Both you and black played absolutely perfectly. By playing c4, we challenge the center and create play.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-28\",\n    \"name\": \"Repeat Line 1\",\n    \"description\": \"Similar to earlier line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Bc5\", \"Be3\", \"Nf6\", \"Nxc6\", \"bxc6\", \"Bxc5\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Bc5.\",\n      \"We develop Be3.\",\n      \"Black develops Nf6.\",\n      \"We capture on c6.\",\n      \"Black recaptures with b-pawn.\",\n      \"We capture the bishop, maintaining advantage.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-29\",\n    \"name\": \"Repeat Line 2\",\n    \"description\": \"Another repeated line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"Nf6\", \"dxe5\", \"Nxe4\", \"Bc4\", \"Bc5\", \"Qd5\", \"Bxf2+\", \"Kf1\", \"O-O\", \"Qxe4\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black develops Nf6.\",\n      \"We capture on e5.\",\n      \"Black captures on e4.\",\n      \"We develop Bc4.\",\n      \"Black develops Bc5.\",\n      \"We play Qd5.\",\n      \"Black checks with Bxf2+.\",\n      \"We move Kf1.\",\n      \"Black castles.\",\n      \"After the final move - Nice! We have an extra knight.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-30\",\n    \"name\": \"Repeat Line 3\",\n    \"description\": \"Another repetition\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Qf6\", \"Nb5\", \"Bc5\", \"Qe2\", \"Bb6\", \"N1c3\", \"a6\", \"Nd5\", \"Qd8\", \"Nxb6\", \"cxb6\", \"Nd6+\", \"Kf8\", \"Bf4\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black develops Qf6.\",\n      \"We move Nb5.\",\n      \"Black develops Bc5.\",\n      \"We develop Qe2.\",\n      \"Black retreats Bb6.\",\n      \"We develop N1c3.\",\n      \"Black plays a6.\",\n      \"We move Nd5.\",\n      \"Black retreats Qd8.\",\n      \"We capture Nxb6.\",\n      \"Black recaptures cxb6.\",\n      \"We check Nd6+.\",\n      \"Black moves Kf8.\",\n      \"After the final move - Wow. The material is equal but we will win from here 100% of the time.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-31\",\n    \"name\": \"Repeat Line 4\",\n    \"description\": \"Another repeated sequence\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"d6\", \"Nc3\", \"Nf6\", \"Bg5\", \"Be7\", \"O-O-O\", \"O-O\", \"e5\", \"dxe5\", \"Qxe5\", \"Qe8\", \"Qxc7\", \"Be6\", \"Bb5\", \"Qc8\", \"Qxe7\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black plays d6.\",\n      \"We develop Nc3.\",\n      \"Black develops Nf6.\",\n      \"We pin with Bg5.\",\n      \"Black develops Be7.\",\n      \"We castle queenside.\",\n      \"Black castles kingside.\",\n      \"We push e5.\",\n      \"Black captures on e5.\",\n      \"We recapture with the queen.\",\n      \"Black moves Qe8.\",\n      \"We capture Qxc7.\",\n      \"Black develops Be6.\",\n      \"We develop Bb5.\",\n      \"Black moves Qc8.\",\n      \"After the final move - Knight will be coming to c7. Knight will win a rook. GG.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-32\",\n    \"name\": \"Repeat Line 5\",\n    \"description\": \"Another repeat\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Ng8\", \"Nc3\", \"d6\", \"Bf4\", \"dxe5\", \"Qxe5+\", \"Qe7\", \"Nb5\", \"Qxe5+\", \"Bxe5\"],\n    \"explanations\": [\n      \"We open with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black retreats Ng8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We develop Bf4.\",\n      \"Black captures dxe5.\",\n      \"We check Qxe5+.\",\n      \"Black blocks Qe7.\",\n      \"We move Nb5.\",\n      \"Black captures Qxe5+.\",\n      \"After the final move - Knight will be coming to c7. Knight will win a rook. GG.\"\n    ]\n  },\n  {\n    \"category\": \"Scotch Game\",\n    \"id\": \"scotch-33\",\n    \"name\": \"Repeat Line 6\",\n    \"description\": \"Final repeated line\",\n    \"moves\": [\"e4\", \"e5\", \"Nf3\", \"Nc6\", \"d4\", \"exd4\", \"Nxd4\", \"Nxd4\", \"Qxd4\", \"Nf6\", \"e5\", \"Qe7\", \"Be3\", \"Ng8\", \"Nc3\", \"d6\", \"Nd5\", \"Qd7\", \"exd6\", \"Bxd6\", \"Qxg7\"],\n    \"explanations\": [\n      \"We begin with e4.\",\n      \"Black plays e5.\",\n      \"We develop Nf3.\",\n      \"Black develops Nc6.\",\n      \"We play d4.\",\n      \"Black captures on d4.\",\n      \"We recapture with the knight.\",\n      \"Black captures our knight.\",\n      \"We recapture with the queen.\",\n      \"Black develops Nf6.\",\n      \"We push e5.\",\n      \"Black develops Qe7.\",\n      \"We develop Be3.\",\n      \"Black retreats Ng8.\",\n      \"We develop Nc3.\",\n      \"Black plays d6.\",\n      \"We move Nd5.\",\n      \"Black moves Qd7.\",\n      \"We capture exd6.\",\n      \"Black recaptures Bxd6.\",\n      \"After the final move - It's over. We're winning a rook and probably a few other pieces too.\"\n    ]\n  }\n];","export const BOARD_THEMES = {\n  chesscom: {\n    lightSquareStyle: { backgroundColor: \"#EEEED2\" },\n    darkSquareStyle: { backgroundColor: \"#769656\" }\n  },\n  lichess: {\n    lightSquareStyle: { backgroundColor: \"#f0d9b5\" },\n    darkSquareStyle: { backgroundColor: \"#b58863\" }\n  },\n  darkblue: {\n    lightSquareStyle: { backgroundColor: \"#aad3df\" },\n    darkSquareStyle: { backgroundColor: \"#3a6ea5\" }\n  }\n  ,purpleblack: {\n    lightSquareStyle: { backgroundColor: \"#B7B1FF\" },\n    darkSquareStyle: { backgroundColor: \"#3A2C6E\" }\n  }\n};\n\nexport const DEFAULT_THEME = \"chesscom\";\n\nexport const PIECE_THEMES = {\n  default: null,\n  wikipedia: \"https://unpkg.com/chessboardjsx@1.3.0/dist/img/chesspieces/wikipedia/{piece}.png\",\n  alpha: \"https://unpkg.com/chessboardjsx@1.3.0/dist/img/chesspieces/alpha/{piece}.png\",\n  highcontrast: \"https://unpkg.com/chessboardjsx@1.3.0/dist/img/chesspieces/alpha/{piece}.png\"\n};","import React, { Component } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport * as Chess from \"chess.js\";\nimport TopNav from \"./TopNav\";\nimport { OPENING_CATALOG } from \"../openings/openingCatalog\";\nimport { BOARD_THEMES, DEFAULT_THEME } from \"../theme/boardThemes\";\nimport \"./Home.css\";\n\nconst STORAGE_KEY = \"notation_trainer_opening_progress_v2\";\nconst LEARN_STORAGE_KEY = \"notation_trainer_learn_progress_v1\";\n\nconst OPENINGS = OPENING_CATALOG;\n\nconst _previewFenCache = new Map();\nconst PREVIEW_PLIES = 6;\n\nfunction _tokenizePgnLike(text) {\n  if (!text) return [];\n  const s = String(text).trim();\n  if (!s) return [];\n  const raw = s.split(/\\s+/).filter(Boolean);\n  const out = [];\n  for (const t of raw) {\n    // drop move numbers like \"1.\" or \"12...\" and results\n    if (/^\\d+\\.{1,3}$/.test(t)) continue;\n    if (t === \"*\" || t === \"1-0\" || t === \"0-1\" || t === \"1/2-1/2\") continue;\n    out.push(t);\n  }\n  return out;\n}\n\nfunction _extractMovesFromLine(line) {\n  if (!line) return [];\n  // line can be: string, array of SAN strings, or object containing moves fields\n  if (typeof line === \"string\") return _tokenizePgnLike(line);\n  if (Array.isArray(line)) {\n    // array might be [\"e4\", \"e5\", ...] or include move numbers\n    return _tokenizePgnLike(line.join(\" \"));\n  }\n  if (typeof line === \"object\") {\n    if (Array.isArray(line.moves)) return line.moves;\n    if (Array.isArray(line.san)) return line.san;\n    if (typeof line.moves === \"string\") return _tokenizePgnLike(line.moves);\n    if (typeof line.line === \"string\") return _tokenizePgnLike(line.line);\n    if (typeof line.pgn === \"string\") return _tokenizePgnLike(line.pgn);\n    if (typeof line.sequence === \"string\") return _tokenizePgnLike(line.sequence);\n    if (typeof line.text === \"string\") return _tokenizePgnLike(line.text);\n  }\n  return [];\n}\n\nfunction _getPreviewFenForOpening(opening) {\n  // Fast path: stable key based caching\n  const stableBase =\n    (opening && (opening.key || opening.id || opening.title)) || null;\n\n  if (stableBase) {\n    const stableKey = `${stableBase}|plies=${PREVIEW_PLIES}|pos=${opening.position || \"start\"}|ori=${opening.orientation || \"white\"}`;\n    if (_previewFenCache.has(stableKey)) return _previewFenCache.get(stableKey);\n\n    try {\n      const lines = (opening && opening.lines) || [];\n      const first = lines && lines.length ? lines[0] : null;\n      const moves = _extractMovesFromLine(first);\n\n      const game = new Chess();\n      if (moves && moves.length) {\n        // Apply first N plies: W1 B1 W2 B2 W3 B3 (or fewer if the line is shorter)\n        const plies = Math.min(PREVIEW_PLIES, moves.length);\n        for (let i = 0; i < plies; i += 1) {\n          const mv = moves[i];\n          if (!mv) break;\n          const ok = game.move(mv, { sloppy: true });\n          if (!ok) break;\n        }\n      }\n\n      const fen = game.fen() || \"start\";\n      _previewFenCache.set(stableKey, fen);\n      return fen;\n    } catch (_) {\n      _previewFenCache.set(stableKey, \"start\");\n      return \"start\";\n    }\n  }\n\n  // Fallback: build a signature to avoid collisions when key/id/title is missing\n  try {\n    const lines = (opening && opening.lines) || [];\n    const first = lines && lines.length ? lines[0] : null;\n    const moves = _extractMovesFromLine(first);\n\n    const signature = `sig|plies=${PREVIEW_PLIES}|pos=${(opening && opening.position) || \"start\"}|ori=${(opening && opening.orientation) || \"white\"}|moves=${(moves || []).slice(0, PREVIEW_PLIES).join(\" \")}`;\n    if (_previewFenCache.has(signature)) return _previewFenCache.get(signature);\n\n    const game = new Chess();\n    if (moves && moves.length) {\n      const plies = Math.min(PREVIEW_PLIES, moves.length);\n      for (let i = 0; i < plies; i += 1) {\n        const mv = moves[i];\n        if (!mv) break;\n        const ok = game.move(mv, { sloppy: true });\n        if (!ok) break;\n      }\n    }\n\n    const fen = game.fen() || \"start\";\n    _previewFenCache.set(signature, fen);\n    return fen;\n  } catch (_) {\n    return \"start\";\n  }\n}\n\n\n\n\nfunction _safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction _loadProgress() {\n  const empty = { lines: {}, openings: {} };\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    if (!raw) return empty;\n    const parsed = _safeJsonParse(raw, empty);\n    if (!parsed || typeof parsed !== \"object\") return empty;\n    if (!parsed.lines) parsed.lines = {};\n    if (!parsed.openings) parsed.openings = {};\n    return parsed;\n  } catch (_) {\n    return empty;\n  }\n}\n\n\nfunction _loadLearnProgress() {\n  const empty = { openings: {} };\n  try {\n    const raw = window.localStorage.getItem(LEARN_STORAGE_KEY);\n    if (!raw) return empty;\n    const parsed = _safeJsonParse(raw, empty);\n    if (!parsed || typeof parsed !== \"object\") return empty;\n    if (!parsed.openings || typeof parsed.openings !== \"object\") parsed.openings = {};\n    return parsed;\n  } catch (_) {\n    return empty;\n  }\n}\n\nfunction _loadSettings() {\n  const defaults = {\n    showConfetti: true,\n    playSounds: true,\n    boardTheme: DEFAULT_THEME\n  };\n  try {\n    const raw = window.localStorage.getItem(\"notation_trainer_opening_settings_v1\");\n    if (!raw) return defaults;\n    const parsed = JSON.parse(raw);\n    if (!parsed || typeof parsed !== \"object\") return defaults;\n    return {\n      showConfetti: parsed.showConfetti !== false,\n      playSounds: parsed.playSounds !== false,\n      boardTheme: parsed.boardTheme || DEFAULT_THEME\n    };\n  } catch (_) {\n    return defaults;\n  }\n}\n\nfunction _isCompleted(stats) {\n  return (stats && stats.timesClean >= 1) || false;\n}\n\nfunction _deriveCompletedCount(progress, openingKey, lines) {\n  const total = (lines && lines.length) || 0;\n  const statsMap = (progress && progress.lines && progress.lines[openingKey]) || {};\n\n  let completed = 0;\n  for (const l of lines || []) {\n    const s = statsMap[l.id] || {};\n    if (_isCompleted(s)) completed += 1;\n  }\n\n  return { completed, total };\n}\n\nconst snapBoardWidth = (n) => {\n  const v = Math.max(0, Math.floor(Number(n) || 0));\n  // Chessboard squares are 1/8 of width. Snap to a multiple of 8 to avoid subpixel piece drift.\n  return Math.max(8, Math.round(v / 8) * 8);\n};\n\n// KEY FIX: Ensure card thumbnails use pixel-perfect dimensions\n// 160px is divisible by 8 (160  8 = 20px per square), which ensures perfect alignment\nconst CARD_THUMB_W = 160;\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    const progress = _loadProgress();\n    const learnProgress = _loadLearnProgress();\n    const settings = _loadSettings();\n\n    this.heroFrameRef = React.createRef();\n\n    const perOpening = {};\n    let totalCompleted = 0;\n    let totalLines = 0;\n\n    for (const o of OPENINGS) {\n      const r = _deriveCompletedCount(progress, o.key, o.lines);\n      perOpening[o.key] = r;\n      totalCompleted += r.completed;\n      totalLines += r.total;\n    }\n\n    this.state = {\n      search: \"\",\n      progress,\n      \n      learnProgress,\nperOpening,\n      totalCompleted,\n      totalLines,\n      boardTheme: settings.boardTheme || DEFAULT_THEME,\n      viewportW: typeof window !== \"undefined\" ? window.innerWidth : 1200,\n      heroBoardW: null,\n      filtersOpen: false,\n      filters: {\n        color: { white: false, black: false },\n        progress: { new: false, inProgress: false, completed: false }\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (typeof window === \"undefined\") return;\n    window.addEventListener(\"resize\", this.handleResize);\n    this.updateHeroBoardWidth();\n    setTimeout(this.updateHeroBoardWidth, 0);\n  }\n\n  componentWillUnmount() {\n    if (typeof window === \"undefined\") return;\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  handleResize = () => {\n    this.setState({ viewportW: window.innerWidth });\n    this.updateHeroBoardWidth();\n  };\n\n  updateHeroBoardWidth = () => {\n    const el = this.heroFrameRef && this.heroFrameRef.current;\n    if (!el) return;\n\n    const available = Math.max(260, el.clientWidth - 28);\n    const max = 420;\n    const next = snapBoardWidth(Math.min(max, available));\n\n    if (this.state.heroBoardW !== next) {\n      this.setState({ heroBoardW: next });\n    }\n  };\n\n  getHeroBoardWidth = () => {\n    const w = (this.state && this.state.viewportW) || 1200;\n    const max = 420;\n\n    // Clamp to viewport on mobile to avoid horizontal overflow.\n    const clamped = Math.max(260, w - 72);\n    return snapBoardWidth(Math.min(max, clamped));\n  };\n\n\n  onSearchChange = (e) => {\n    this.setState({ search: (e && e.target && e.target.value) || \"\" });\n  };\n\n  goToOpening = (openingKey) => {\n    if (!openingKey) return;\n    if (!this.props || !this.props.history || !this.props.history.push) return;\n    this.props.history.push(`/openings?opening=${encodeURIComponent(openingKey)}`);\n  };\n\n  goToCreateCustomRep = () => {\n    if (!this.props || !this.props.history || !this.props.history.push) return;\n    this.props.history.push(`/openings?opening=${encodeURIComponent(\"london\")}&custom=1`);\n  };\n\n  toggleFilters = () => {\n    this.setState((s) => ({ filtersOpen: !s.filtersOpen }));\n  };\n\n  toggleFilter = (group, key) => {\n    this.setState((s) => ({\n      filters: {\n        ...s.filters,\n        [group]: {\n          ...s.filters[group],\n          [key]: !s.filters[group][key]\n        }\n      }\n    }));\n  };\n\n\nstartFirstAvailable = () => {\n  const openings = OPENINGS || [];\n  if (!openings.length) return;\n\n  const progressOpenings =\n    (this.state.progress && this.state.progress.openings) || {};\n\n  let best = null;\n  let bestTs = 0;\n\n  for (const o of openings) {\n    const p = progressOpenings[o.key] || {};\n    const learnOpenings = (this.state.learnProgress && this.state.learnProgress.openings) || {};\n    const lp = learnOpenings[o.key] || {};\n    const ts = Math.max(Number(p.lastPlayedAt) || 0, Number(lp.lastPlayedAt) || 0);\n    if (ts > bestTs) {\n      bestTs = ts;\n      best = o;\n    }\n  }\n\n  this.goToOpening((best || openings[0]).key);\n};\n\nrenderHeroBoard = () => {\n  const theme = BOARD_THEMES[this.state.boardTheme] || BOARD_THEMES[DEFAULT_THEME];\n\n  const boardW =\n    this.state.heroBoardW != null ? this.state.heroBoardW : this.getHeroBoardWidth();\n\n  return (\n    <div className=\"home-hero-board-frame\" ref={this.heroFrameRef}>\n      <div className=\"home-hero-board-inner\">\n        <Chessboard\n          draggable={false}\n          position=\"start\"\n          orientation=\"white\"\n          showNotation={false}\n          width={boardW}\n          {...theme}\n        />\n      </div>\n\n      <div className=\"home-hero-stats\">\n        <div className=\"home-hero-stat\">\n          <div className=\"home-hero-stat-value\">{this.state.totalLines}</div>\n          <div className=\"home-hero-stat-label\">total lines</div>\n        </div>\n\n        <div className=\"home-hero-stat\">\n          <div className=\"home-hero-stat-value\">{this.state.totalCompleted}</div>\n          <div className=\"home-hero-stat-label\">lines learned</div>\n        </div>\n\n        <div className=\"home-hero-stat\">\n          <div className=\"home-hero-stat-value\">{OPENINGS.length}</div>\n          <div className=\"home-hero-stat-label\">openings</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n  renderCard = (o) => {\n    const stats =\n      this.state.perOpening[o.key] || { completed: 0, total: (o.lines && o.lines.length) || 0 };\n    const pct = stats.total > 0 ? Math.round((stats.completed / stats.total) * 100) : 0;\n\n    return (\n      <div\n        key={o.key}\n        className={`home-course-card ${o.accent ? `accent-${o.accent}` : \"\"}`}\n        role=\"button\"\n        tabIndex={0}\n        onClick={() => this.goToOpening(o.key)}\n        onKeyDown={(e) => {\n          if (!e) return;\n          if (e.key === \"Enter\") {\n            this.goToOpening(o.key);\n            return;\n          }\n          if (e.key === \" \") {\n            e.preventDefault();\n            this.goToOpening(o.key);\n          }\n        }}\n      >\n        <div className=\"home-course-thumb\">\n          <Chessboard\n            draggable={false}\n            position={(o.position && o.position !== \"start\") ? o.position : _getPreviewFenForOpening(o)}\n            orientation={o.orientation || \"white\"}\n            showNotation={false}\n            // KEY FIX: Use exact pixel-perfect dimensions\n            width={CARD_THUMB_W}\n            {...BOARD_THEMES[this.state.boardTheme]}\n          />\n        </div>\n\n        <div className=\"home-course-main\">\n          <div className=\"home-course-top\">\n            <div className=\"home-course-title\">{o.title}</div>\n            {o.badge ? <div className=\"home-course-badge\">{o.badge}</div> : null}\n          </div>\n\n          <div className=\"home-course-desc\">{o.description}</div>\n\n          <div className=\"home-course-progress-row\">\n            <div className=\"home-course-progress\">\n              <div className=\"home-course-progress-fill\" style={{ width: `${pct}%` }} />\n            </div>\n            <div className=\"home-course-total\">{stats.total} lines total</div>\n          </div>\n\n          <div className=\"home-course-cta\">Start learning &gt;</div>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n\n    const q = (this.state.search || \"\").trim().toLowerCase();\n    const searchFiltered = !q\n      ? OPENINGS\n      : OPENINGS.filter((o) => {\n          const t = (o.title || \"\").toLowerCase();\n          const d = (o.description || \"\").toLowerCase();\n          return t.includes(q) || d.includes(q);\n        });\n\n    const filters = this.state.filters || {};\n    const anyChecked = (group) => Object.values(group || {}).some(Boolean);\n\n    const colorActive = anyChecked(filters.color);\n    const progressActive = anyChecked(filters.progress);\n\n    const deriveProgress = (o) => {\n      const stats =\n        this.state.perOpening[o.key] || { completed: 0, total: (o.lines && o.lines.length) || 0 };\n      const p =\n        (this.state.progress &&\n          this.state.progress.openings &&\n          this.state.progress.openings[o.key]) ||\n        {};\n      const lastPlayedAt = Number(p.lastPlayedAt) || 0;\n\n      const isCompleted = stats.total > 0 && stats.completed >= stats.total;\n      const isNew = o.badge === \"New\" || lastPlayedAt <= 0;\n\n      if (isCompleted) return \"completed\";\n      if (isNew) return \"new\";\n      return \"inProgress\";\n    };\n\n    const filtered = searchFiltered.filter((o) => {\n      if (colorActive) {\n        const ori = (o.orientation || \"white\").toLowerCase();\n        if (!filters.color[ori]) return false;\n      }\n\n      if (progressActive) {\n        const p = deriveProgress(o);\n        if (!filters.progress[p]) return false;\n      }\n\n      return true;\n    });\n\n    const withMeta = filtered.map((o, idx) => {\n      const p =\n        (this.state.progress &&\n          this.state.progress.openings &&\n          this.state.progress.openings[o.key]) ||\n        {};\n      const lastPlayedAt = Number(p.lastPlayedAt) || 0;\n      const isNew = o.badge === \"New\";\n      const group = lastPlayedAt > 0 ? 0 : isNew ? 1 : 2;\n      return { o, idx, lastPlayedAt, group };\n    });\n\n    withMeta.sort((a, b) => {\n      if (a.group !== b.group) return a.group - b.group;\n      if (a.group === 0) return b.lastPlayedAt - a.lastPlayedAt;\n      return a.idx - b.idx;\n    });\n\n    const sorted = withMeta.map((x) => x.o);\n    const progressOpenings =\n      (this.state.progress && this.state.progress.openings) || {};\n\n\n\n        const recommendedCount = 2;\n\n    const getStatsFor = (o) =>\n      this.state.perOpening[o.key] || { completed: 0, total: (o.lines && o.lines.length) || 0 };\n\n    const getLastPlayedAtFor = (o) => {\n      const pTs = Number((progressOpenings[o.key] || {}).lastPlayedAt) || 0;\n      const lTs = Number(((this.state.learnProgress && this.state.learnProgress.openings && this.state.learnProgress.openings[o.key]) || {}).lastPlayedAt) || 0;\n      return Math.max(pTs, lTs);\n    };\n\n    const isCompletedOpening = (o) => {\n      const s = getStatsFor(o);\n      return s.total > 0 && s.completed >= s.total;\n    };\n\n    const isStartedOpening = (o) => getLastPlayedAtFor(o) > 0;\n\n    const isNewOpening = (o) => o.badge === \"New\";\n\n    const startedNotCompleted = sorted\n      .filter((o) => isStartedOpening(o) && !isCompletedOpening(o))\n      .sort((a, b) => getLastPlayedAtFor(b) - getLastPlayedAtFor(a));\n\n    const recentlyPlayed = sorted\n      .filter((o) => isStartedOpening(o) && isCompletedOpening(o))\n      .sort((a, b) => getLastPlayedAtFor(b) - getLastPlayedAtFor(a));\n\n    const newOpenings = sorted\n      .filter((o) => !isStartedOpening(o) && isNewOpening(o));\n\n    const fallbackCatalog = sorted\n      .filter((o) => !isStartedOpening(o) && !isNewOpening(o));\n\n    const recommendedPool = [\n      ...startedNotCompleted,\n      ...recentlyPlayed,\n      ...newOpenings,\n      ...fallbackCatalog\n    ];\n\n    const recommended = recommendedPool.slice(0, recommendedCount);\nreturn (\n<div className=\"home-page\">\n  <TopNav title=\"Chess Opening Drills\"  hideHero />\n\n  <div className=\"home-hero-v2\">\n    <div className=\"home-hero-v2-inner\">\n      <div className=\"home-hero-v2-left\">\n        \n        <div className=\"home-hero-v2-title\">Ready to improve?</div>\n        <div className=\"home-hero-v2-sub\">\n          Start building accurate move recall today!\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"home-hero-v2-cta\"\n          onClick={this.startFirstAvailable}\n        >\n          Start Drilling \n        </button>\n\n        <div className=\"home-hero-v2-pillrow\">\n          <div className=\"home-hero-v2-pill\">Learn</div>\n          <div className=\"home-hero-v2-pill\">Practice</div>\n          <div className=\"home-hero-v2-pill\">Drill</div>\n        </div>\n      </div>\n\n      <div className=\"home-hero-v2-right\">{this.renderHeroBoard()}</div>\n    </div>\n  </div>\n\n  <div className=\"home-courses\">\n\n          <div className=\"home-courses-header\">\n            <div className=\"home-search-wrap\">\n              <div className=\"home-search\">\n                <span className=\"home-search-icon\">\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinejoin=\"round\"\n                    />\n                    <path\n                      d=\"M16.5 16.5 21 21\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                    />\n                  </svg>\n                </span>\n                <input\n                  className=\"home-search-input\"\n                  placeholder=\"Search openings...\"\n                  value={this.state.search}\n                  onChange={this.onSearchChange}\n                />\n              </div>\n\n              <button\n                className=\"home-filter-button\"\n                onClick={this.toggleFilters}\n                type=\"button\"\n              >\n                Filters\n              </button>\n\n              {this.state.filtersOpen && (\n                <div className=\"home-filters-panel\">\n                  <div className=\"filter-section\">\n                    <div className=\"filter-title\">Color</div>\n\n                    {[\"white\", \"black\"].map((k) => (\n                      <label key={k} className=\"checkbox-container\">\n                        {k.charAt(0).toUpperCase() + k.slice(1)}\n                        <input\n                          type=\"checkbox\"\n                          checked={this.state.filters.color[k]}\n                          onChange={() => this.toggleFilter(\"color\", k)}\n                        />\n                        <span className=\"checkmark\" />\n                      </label>\n                    ))}\n                  </div>\n\n                  <div className=\"filter-section\">\n                    <div className=\"filter-title\">Progress</div>\n\n                    {[\n                      [\"new\", \"New\"],\n                      [\"inProgress\", \"In Progress\"],\n                      [\"completed\", \"Completed\"]\n                    ].map(([k, label]) => (\n                      <label key={k} className=\"checkbox-container\">\n                        {label}\n                        <input\n                          type=\"checkbox\"\n                          checked={this.state.filters.progress[k]}\n                          onChange={() => this.toggleFilter(\"progress\", k)}\n                        />\n                        <span className=\"checkmark\" />\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"home-header-right\">\n              <button className=\"home-create-rep\" onClick={this.goToCreateCustomRep}>\n                <span className=\"home-create-rep-icon\" role=\"img\" aria-label=\"create custom line\">\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M16.5 3.5L20.5 7.5L8 20H4V16L16.5 3.5Z\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinejoin=\"round\"\n                    />\n                  </svg>\n                </span>\n              </button>\n\n              <div className=\"home-lines-learned\">\n                {this.state.totalCompleted}/{this.state.totalLines} lines learned\n              </div>\n            </div>\n          </div>\n\n          <div className=\"home-section home-section--recommended\">\n            <div className=\"home-section-row\">\n              <div className=\"home-section-left\">\n                <div className=\"home-section-title\">Recommended for you</div>\n                <div className=\"home-section-sub\">Picked based on your recent drills</div>\n              </div>\n            </div>\n            <div className=\"home-course-grid\">{recommended.map(this.renderCard)}</div>\n          </div>\n\n          <div className=\"home-section home-section--all\">\n            <div className=\"home-section-row home-section-row-tight\">\n              <div className=\"home-section-left\">\n                <div className=\"home-section-title\">All openings</div>\n                <div className=\"home-section-sub\">Browse the full library</div>\n              </div>\n              <div className=\"home-section-meta\">Total: {OPENINGS.length}</div>\n            </div>\n\n            <div className=\"home-course-grid\">{sorted.map(this.renderCard)}</div>\n          </div>\n        \n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Home;","import React, { useState } from 'react';\nimport TopNav from './TopNav';\nimport './About.css';\nimport '../App.css';\n\nimport { httpsCallable } from \"firebase/functions\";\nimport { functions } from \"../firebase\";\nimport { useAuth } from \"../auth/AuthProvider\";\n\n\nexport default function About(props) {\n  const { user } = useAuth();\n  const [busy, setBusy] = useState(false);\n  const [selectedPlan, setSelectedPlan] = useState(\"yearly\");\n\n  const fromState = props && props.location && props.location.state ? props.location.state : null;\n  const reason = fromState && fromState.reason ? String(fromState.reason) : \"\";\n\n  const showLockedNote =\n    reason === \"membership_required\" || reason === \"member_opening\" || reason === \"membership_requires_account\";\n\n  const go = (url) => {\n    if (!url) return;\n    try {\n      window.location.href = url;\n    } catch (_) {}\n  };\n\n  const startTrialCheckout = async () => {\n    if (!user) {\n      try {\n        const from = window.location.hash || \"#/about\";\n        window.location.href = `#/signup?from=${encodeURIComponent(from)}&reason=membership_requires_account`;\n      } catch (_) {}\n      return;\n    }\n\n    setBusy(true);\n    try {\n      const fn = httpsCallable(functions, \"createCheckoutSession\");\n      const res = await fn({ tier: \"member\", plan: selectedPlan });\n      const url = res && res.data && res.data.url ? String(res.data.url) : \"\";\n      if (url) go(url);\n    } catch (e) {\n      // eslint-disable-next-line no-alert\n      alert(\"Checkout failed. Please try again in a moment.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  const selectPlan = (plan) => {\n    if (plan !== \"monthly\" && plan !== \"yearly\") return;\n    setSelectedPlan(plan);\n  };\n\n  return (\n    <div className=\"about-page\">\n   \n\n      <TopNav active=\"about\" title=\"Chess Opening Drills\" />\n\n      <div className=\"about-wrap\">\n        <div className=\"about-card\">\n          <div className=\"about-hero\">\n            <div className=\"about-hero-badge\">7 day free trial</div>\n            <h2 className=\"about-title\">ChessDrills Premium</h2>\n            <p className=\"about-lead\">Then $39/year (Only $3.25/month) or $5.99/month.</p>\n          </div>\n\n          {showLockedNote ? (\n            <div className=\"about-note\">\n              <div className=\"about-note-title\">That feature is Premium only.</div>\n              <div className=\"about-note-sub\">Start the free trial to unlock it.</div>\n            </div>\n          ) : null}\n\n          <div className=\"about-section\">\n            <div className=\"about-section-title\">Choose a plan</div>\n\n            <div className=\"about-tiers\">\n              <button\n                type=\"button\"\n                className={\"about-tier \" + (selectedPlan === \"yearly\" ? \"selected\" : \"\")}\n                onClick={() => selectPlan(\"yearly\")}\n              >\n                <div className=\"about-tier-top\">\n                  <div className=\"about-tier-name\">\n                    Yearly\n                    <span className=\"about-tier-tag\">Best value</span>\n                  </div>\n                  <div className=\"about-tier-price\">$39 / year</div>\n                </div>\n                <div className=\"about-tier-desc\">\n                  Only $3.25/month.\n                </div>\n                <div className=\"about-tier-check\" aria-hidden=\"true\">\n                  <span className=\"about-tier-check-dot\" />\n                </div>\n              </button>\n\n              <button\n                type=\"button\"\n                className={\"about-tier \" + (selectedPlan === \"monthly\" ? \"selected\" : \"\")}\n                onClick={() => selectPlan(\"monthly\")}\n              >\n                <div className=\"about-tier-top\">\n                  <div className=\"about-tier-name\">Monthly</div>\n                  <div className=\"about-tier-price\">$5.99 / month</div>\n                </div>\n                <div className=\"about-tier-desc\">\n                  More flexible. Cancel anytime.\n                </div>\n                <div className=\"about-tier-check\" aria-hidden=\"true\">\n                  <span className=\"about-tier-check-dot\" />\n                </div>\n              </button>\n            </div>\n\n            <button\n              className=\"about-tier-btn\"\n              type=\"button\"\n              onClick={startTrialCheckout}\n              disabled={busy}\n              style={{ marginTop: 12, width: \"100%\" }}\n            >\n              {busy ? \"Opening checkout...\" : \"Start Free Trial\"}\n            </button>\n\n            <div className=\"about-muted\" style={{ marginTop: 10 }}>\n              Cancel anytime before day 7\n            </div>\n          </div>\n        <div className=\"about-section\">\n          <div className=\"about-section-title\">What you get</div>\n\n            <ul className=\"about-bullets\">\n              <li><strong>Learn mode:</strong> Build clean move accuracy before adding speed or pressure</li>\n              <li><strong>Practice mode:</strong> Built to strengthen long term memory so your moves hold up in real games</li>\n              <li><strong>Drill mode:</strong> Push for consecutive perfect runs</li>\n              <li><strong>Leaderboards:</strong> Daily, weekly, and all time leaderboards</li>\n            </ul>\n          </div>\n\n          <div className=\"about-section\">\n            <div className=\"about-section-title\">How it works</div>\n            <ol className=\"about-steps\">\n              <li>Create a free account</li>\n              <li>Upgrade via Stripe</li>\n              <li>Your account is marked as Member automatically and features unlock</li>\n            </ol>\n          </div>\n\n\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport Chessboard from \"chessboardjsx\";\nimport * as Chess from 'chess.js';\nimport PGNData from '../PGN/outfile.json';\nimport { faCircle as blackCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCircle as whiteCircle } from \"@fortawesome/free-regular-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { BOARD_THEMES, DEFAULT_THEME } from '../theme/boardThemes';\nimport './Board.css';\n\nconst ALPHA_PIECES = \"https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/img/chesspieces/alpha/{piece}.png\";\n\nfunction stripPieceProps(theme) {\n  if (!theme || typeof theme !== \"object\") return {};\n  const out = {};\n  for (const [k, v] of Object.entries(theme)) {\n    if (String(k).toLowerCase().includes(\"piece\")) continue;\n    out[k] = v;\n  }\n  return out;\n}\n\nconst game = new Chess();\nconst orientations = ['white', 'black'];\n\nclass Board extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      fen: 'start', \n      randomGameIndex: 0, \n      randomMoveIndex: 0,\n      initMove: '',\n      initMoveData: {},\n      nextMove: '',\n      nextMoveData: {},\n      history: [],\n      nextMoveColor: '',\n      squareStyles: {},\n      answer: '',\n      correctMoves: 0,\n      time: 60,\n      timerCount: 0,\n      incorrect: false,\n      correct: false,\n      selectedSquare: null,\n      legalTargets: [],\n      lastMove: null // { from, to, color }\n    }\n  }\n\n  /* ====================================== Lifecylcle Methods ====================================== */\n\n  componentDidMount() {\n    this.newPosition();\n\n    if(this.props.timed) {\n      this.interval = setInterval(() => this.setState({ timerCount: this.state.timerCount+1 }), 1000); // Start timer\n    \n      // Call callbackEnd once timer stops\n      setTimeout(() => {\n        const finalBoardProps = {\n          position: this.state.fen,\n          squareStyles: this.state.squareStyles,\n          allowDrag: () => false , \n          showNotation: this.props.showNotation,\n          orientation: this.props.orientation === 'random' ? this.state.orientation : this.props.orientation,\n          calcWidth: this.props.calcWidth,\n        }\n        this.props.callbackEnd(\n          this.state.correctMoves,\n          finalBoardProps)\n      }, this.state.time * 1000);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if(!this.props.timed) {\n      if(this.props.orientation !== prevProps.orientation){\n        this.newPosition();\n      }\n    } \n  }\n\n  componentWillUnmount() {\n    if(this.props.timed) {\n      clearInterval(this.interval);\n    } \n  }\n\n  /* ====================================== Component Methods ====================================== */\n\n  // Generate new board position\n  newPosition = () => {\n    let orientation = null;\n    if (this.props.orientation === 'random'){\n      orientation = orientations[Math.floor(Math.random() * 2)];\n    } else {\n      orientation = this.props.orientation;\n    }\n    let randomGameIndex = Math.floor(Math.random() * PGNData.length);\n    game.load_pgn(PGNData[randomGameIndex].data);\n    let history = game.history();\n\n    // In case game was not played\n    if(history.length <= 2) {\n      while(history.length <= 2){\n        randomGameIndex = Math.floor(Math.random() * PGNData.length);\n        game.load_pgn(PGNData[randomGameIndex].data);\n        history = game.history();\n      }\n    }\n    game.reset();\n\n    // Initial half move must be the opposite color of orientation. Initial move cannot be last half move\n    let randomMoveIndex = (orientation === 'white') ? \n      Math.floor(Math.random() *  Math.floor((history.length - 3) / 2)) * 2 + 1: \n      Math.floor(Math.random() *  Math.floor((history.length - 2) / 2)) * 2;\n    \n    // Do not use castles as move\n    if (history[randomMoveIndex+1] === 'O-O' || history[randomMoveIndex+1] === 'O-O-O') {\n        randomMoveIndex = (randomMoveIndex - 2) % history.length;\n    }\n\n    const initMove = history[randomMoveIndex];\n    const nextMove = history[randomMoveIndex+1];\n\n    // Save lastFullMove for defining the nextMoveColor state (ensures color and nextMove render at the same time)\n    let i;\n    let lastFullMove = {};\n      for (i = 0; i < (randomMoveIndex); i++) {\n        lastFullMove = game.move(history[i]);\n    }\n    \n    this.setState({ \n      fen: game.fen(), \n      randomGameIndex: randomGameIndex,\n      randomMoveIndex: randomMoveIndex,\n      initMove: initMove,\n      initMoveData: {},\n      nextMove: nextMove,\n      nextMoveData: {},\n      history: history,\n      nextMoveColor: lastFullMove.color === 'w' ? 'White' : 'Black',\n      squareStyles: {},\n      answer: '',\n      orientation: orientation,\n      lastMove: null\n    });\n\n    setTimeout(() => this.makeInitMove(), 100);\n    setTimeout(() => this.updateSquareStyling(), 800);\n  }\n\n  // For initMove animation\n  makeInitMove = () => {\n    const initMoveData =  game.move(this.state.initMove);\n    const nextMoveData = game.move(this.state.nextMove);\n    game.undo();\n    this.setState({ fen: game.fen(), initMoveData: initMoveData, nextMoveData: nextMoveData });\n  }\n\n  // For initMove colors\n  updateSquareStyling = () => {\n    let squareStyles = {};\n    squareStyles[this.state.initMoveData.from] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\n    squareStyles[this.state.initMoveData.to] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\n    this.setState({ squareStyles: squareStyles });\n  }\n\n  // Validate user move input\n  onDrop = ({ sourceSquare, targetSquare, piece }) => {\n    if (this.state.nextMoveData.from === sourceSquare \n       && this.state.nextMoveData.to === targetSquare\n       && (this.state.nextMoveData.color + this.state.nextMoveData.piece.toUpperCase()) === piece) {\n        if(!this.props.timed) {\n          this.props.callbackDisableSettings(true);\n        }\n        game.move(this.state.nextMove); \n        this.setState({ \n          answer: 'correct', \n          fen: game.fen(), \n          correctMoves: this.state.correctMoves+1,\n          correct: true,\n          selectedSquare: null,\n          legalTargets: [],\n          lastMove: {\n            from: sourceSquare,\n            to: targetSquare,\n            color: this.state.nextMoveData.color\n          }\n        });\n       } else if (sourceSquare === targetSquare) {\n        // Skip if piece is dropped onto original square\n       } else {\n         this.setState({ answer: 'incorrect', incorrect: true, selectedSquare: null, legalTargets: [] });\n       }\n  }\n\n  // Only allow correct colored pieces to be dragged\n  allowDrag = ({ piece }) => {\n    if (piece.charAt(0) === this.state.nextMoveData.color) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  clearSelection = () => {\n    if (this.state.selectedSquare || (this.state.legalTargets && this.state.legalTargets.length)) {\n      this.setState({ selectedSquare: null, legalTargets: [] });\n    }\n  };\n\n  getLegalTargets = (fromSquare) => {\n    if (!fromSquare) return [];\n    try {\n      const moves = game.moves({ square: fromSquare, verbose: true });\n      if (!moves || !moves.length) return [];\n      return moves.map((m) => m.to);\n    } catch (_) {\n      return [];\n    }\n  };\n\n  onSquareClick = (square) => {\n    const piece = game.get(square);\n    // only let user interact with the correct side to move (the expected move color)\n    if (!this.allowDrag({ piece: piece ? (piece.color + piece.type.toUpperCase()) : \"\" })) return;\n\n    if (!this.state.selectedSquare) {\n      if (!piece) return;\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    if (square === this.state.selectedSquare) {\n      this.clearSelection();\n      return;\n    }\n\n    // switch selection if clicking another own piece\n    if (piece && piece.color === this.state.nextMoveData.color) {\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    const from = this.state.selectedSquare;\n    const to = square;\n    this.setState({ selectedSquare: null, legalTargets: [] }, () => {\n      this.onDrop({ sourceSquare: from, targetSquare: to, piece: (this.state.nextMoveData.color + this.state.nextMoveData.piece.toUpperCase()) });\n    });\n  };\n\n  onSquareRightClick = () => {\n    this.clearSelection();\n  };\n\n\n\n  // Wait for movePrompt animation to end\n  onAnimationEnd = () => {\n    if (this.state.correct) {\n      this.setState({ incorrect: false, correct: false });\n      this.newPosition();\n    }\n    this.setState({ incorrect: false, correct: false });\n\n    if(!this.props.timed) {\n      setTimeout(() => {\n        this.props.callbackDisableSettings(false)\n      }, 800);\n    }\n  }\n\n  /* ====================================== Render Function ====================================== */\n\n  render() {\n    const incorrect = this.state.incorrect;\n    const correct = this.state.correct;\n\n    const effectiveCalcWidth = (dims) => {\n      const base = this.props.calcWidth ? this.props.calcWidth(dims) : Math.min(dims.screenWidth, dims.screenHeight);\n      if (this.props.preview) {\n        const cap = Number(this.props.previewMaxWidth) || 160;\n        return Math.min(base, cap);\n      }\n      return base;\n    };\n\n\n\n    const renderSquareStyles = { ...(this.state.squareStyles || {}) };\n\n    if (this.state.lastMove) {\n      const { from, to } = this.state.lastMove;\n      renderSquareStyles[from] = {\n        ...(renderSquareStyles[from] || {}),\n        backgroundColor: \"rgba(255, 215, 0, 0.45)\"\n      };\n      renderSquareStyles[to] = {\n        ...(renderSquareStyles[to] || {}),\n        backgroundColor: \"rgba(255, 215, 0, 0.45)\"\n      };\n    }\n\n    if (this.state.selectedSquare) {\n      renderSquareStyles[this.state.selectedSquare] = {\n        ...(renderSquareStyles[this.state.selectedSquare] || {}),\n        boxShadow: \"inset 0 0 0 3px rgba(170, 80, 255, 0.75)\"\n      };\n    }\n\n    if (this.state.legalTargets && this.state.legalTargets.length) {\n      for (const toSq of this.state.legalTargets) {\n        const existing = renderSquareStyles[toSq] || {};\n        const dot = \"radial-gradient(circle at center, rgba(170, 80, 255, 0.55) 18%, rgba(0,0,0,0) 20%)\";\n        const mergedBg = existing.backgroundImage ? (existing.backgroundImage + \", \" + dot) : dot;\n        renderSquareStyles[toSq] = {\n          ...existing,\n          backgroundImage: mergedBg,\n          backgroundRepeat: existing.backgroundRepeat ? existing.backgroundRepeat + \", no-repeat\" : \"no-repeat\",\n          backgroundPosition: existing.backgroundPosition ? existing.backgroundPosition + \", center\" : \"center\",\n          backgroundSize: existing.backgroundSize ? existing.backgroundSize + \", 100% 100%\" : \"100% 100%\"\n        };\n      }\n    }\n\n    return (\n      <div>\n        <Timer \n          time={this.state.time - this.state.timerCount} \n          display={this.props.timed ? 'block' : 'none'} />\n        <Chessboard\n          position={this.state.fen} \n          squareStyles={renderSquareStyles}\n          onDrop={this.onDrop}\n          allowDrag={this.allowDrag} \n          showNotation={this.props.showNotation} \n          orientation={this.props.orientation === 'random' ? this.state.orientation : this.props.orientation}\n          calcWidth={effectiveCalcWidth}\n          onSquareClick={this.onSquareClick}\n          onSquareRightClick={this.onSquareRightClick}\n          pieceTheme={this.props.pieceTheme === \"alpha\" ? ALPHA_PIECES : undefined}\n          {...stripPieceProps(BOARD_THEMES[this.props.boardTheme || DEFAULT_THEME])}\n          />\n        <div \n        id='movePrompt' >\n          {this.state.nextMoveColor === 'White' ? <FontAwesomeIcon icon={whiteCircle} /> : <FontAwesomeIcon icon={blackCircle} />}   \n          <span> </span>\n          <span \n          onAnimationEnd={this.onAnimationEnd}\n          className={incorrect ? 'incorrect' : (correct ? 'correct' : '')}>\n            {this.state.nextMove}\n            </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction Timer(props) {\n  return (\n    <div \n      className=\"timer-container\" \n      style={props.time < 10 ? {color: 'red', display: props.display} : {display: props.display}} >\n      <div>{props.time}</div>\n    </div>\n  );\n}\n\n\nexport default Board;\n","import React, { Component } from 'react';\nimport './Settings.css';\n\nclass Settings extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orientation: 'white',\n      showNotation: false\n    };\n    this.onChangeOrientation = this.onChangeOrientation.bind(this);\n    this.onChangeNotation = this.onChangeNotation.bind(this);\n  }\n\n  onChangeOrientation(event) {\n    this.setState({ orientation: event.target.value }, () => {\n      this.props.callbackSettings(\n        this.state.orientation, \n        this.state.showNotation);\n    });\n  }\n\n  onChangeNotation(event) {\n    this.setState({ showNotation: event.target.checked }, () => {\n      this.props.callbackSettings(\n        this.state.orientation, \n        this.state.showNotation\n        );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"settingsContainer\" style={this.props.style} >\n        <div className=\"radio-group-container\" onChange={this.onChangeOrientation}>\n          <label className=\"radio-container\">White\n            <input type=\"radio\" value=\"white\" name=\"orientation\" defaultChecked disabled={this.props.disabled}/> \n            <span className=\"checkmark\"></span>\n          </label>\n          <label className=\"radio-container\">Black \n            <input type=\"radio\" value=\"black\" name=\"orientation\" disabled={this.props.disabled}/> \n            <span className=\"checkmark\"></span>\n          </label>\n          <label className=\"radio-container\">Random\n            <input type=\"radio\" value=\"random\" name=\"orientation\" disabled={this.props.disabled}/> \n            <span className=\"checkmark\"></span>\n          </label>\n        </div>\n\n        <div className=\"checkbox-group-container\">\n          <label className=\"checkbox-container\">Show Coordinates \n            <input type=\"checkbox\" onChange={this.onChangeNotation} disabled={this.props.disabled}/> \n            <span className=\"checkmark\"></span>\n          </label>\n        </div>   \n      </div>\n    );\n  }\n}\n\nexport default Settings;","import React, { Component } from 'react';\nimport Board from './Board';\nimport Settings from './Settings';\nimport TopNav from './TopNav';\nimport { DEFAULT_THEME } from '../theme/boardThemes';\nimport './Board.css';\nimport './Practice.css';\n\nconst calcWidth = ({ screenWidth, screenHeight }) => {\n  return (screenWidth || screenHeight) < 1800 ? ((screenWidth || screenHeight) < 550 ? screenWidth : 500) : 600;\n}\n\nclass Practice extends Component {\n  constructor(props) {\n    super(props);\n    \n    const settings = this.loadSettings();\n    \n    this.state = {\n      orientation: 'white',\n      showNotation: false,\n      disableSettings: false,\n      boardTheme: settings.boardTheme || DEFAULT_THEME\n    }\n  }\n  \n  loadSettings = () => {\n    const defaults = { \n      showConfetti: true, \n      playSounds: true,\n      boardTheme: DEFAULT_THEME \n    };\n    try {\n      const raw = window.localStorage.getItem(\"notation_trainer_opening_settings_v1\");\n      if (!raw) return defaults;\n      const parsed = JSON.parse(raw);\n      if (!parsed || typeof parsed !== \"object\") return defaults;\n      return {\n        showConfetti: parsed.showConfetti !== false,\n        playSounds: parsed.playSounds !== false,\n        boardTheme: parsed.boardTheme || DEFAULT_THEME\n      };\n    } catch (_) {\n      return defaults;\n    }\n  };\n\n  callbackSettings = (orientation, showNotation) => {\n    this.setState({\n      orientation: orientation,\n      showNotation: showNotation\n    });\n  }\n\n  callbackDisableSettings = (disableSettings) => {\n    this.setState({\n      disableSettings: disableSettings\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"page-dark\">\n        <TopNav active=\"about\" title=\"Chess Notation Drills\" />\n        <div class=\"page-body\">\n          <Board\n            callbackDisableSettings={this.callbackDisableSettings}\n            orientation={this.state.orientation}\n            showNotation={this.state.showNotation}\n            calcWidth={calcWidth}\n            timed={false}\n            boardTheme={this.state.boardTheme}\n          />\n\n          <Settings\n            callbackSettings={this.callbackSettings}\n            style={{ marginTop: 15 }}\n            disabled={this.state.disableSettings}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Practice;\n","import { auth, db, serverTimestamp } from \"../firebase\";\nimport { doc, setDoc, increment } from \"firebase/firestore\";\n\nconst LS_ACTIVITY_DAYS_KEY = \"chessdrills.activity_days.v1\";\n\nfunction todayYMD() {\n  const d = new Date();\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\n\nexport function getActivityDays() {\n  try {\n    const raw = localStorage.getItem(LS_ACTIVITY_DAYS_KEY);\n    return raw ? JSON.parse(raw) : {};\n  } catch {\n    return {};\n  }\n}\n\nfunction saveActivityDays(days) {\n  try {\n    localStorage.setItem(LS_ACTIVITY_DAYS_KEY, JSON.stringify(days));\n  } catch (_) {}\n}\n\nfunction emitActivityUpdated() {\n  try {\n    window.dispatchEvent(new Event(\"activity:updated\"));\n  } catch (_) {}\n}\n\nlet lastSoftMarkAt = 0;\nlet lastRemoteWriteAt = 0;\n\nasync function tryWriteRemote(today, amount) {\n  const u = auth && auth.currentUser ? auth.currentUser : null;\n  if (!u || !u.uid) return;\n\n  // Avoid hammering Firestore if we mark activity frequently\n  const now = Date.now();\n  if (now - lastRemoteWriteAt < 20000) return;\n  lastRemoteWriteAt = now;\n\n  try {\n    const ref = doc(db, \"users\", u.uid);\n\n    await setDoc(\n      ref,\n      {\n        activityDays: { [today]: increment(amount) },\n        updatedAt: serverTimestamp()\n      },\n      { merge: true }\n    );\n  } catch (_) {\n    // ignore\n  }\n}\n\n/**\n * Hard mark: increments the day counter every time you call it.\n * Use this for meaningful events like completing a line.\n */\nexport function markActivityToday(amount = 1) {\n  const days = getActivityDays();\n  const today = todayYMD();\n\n  const prev = Number(days[today]) || 0;\n  const next = prev + (Number(amount) || 1);\n  days[today] = next;\n\n  saveActivityDays(days);\n  emitActivityUpdated();\n\n  tryWriteRemote(today, Number(amount) || 1);\n}\n\n/**\n * Soft mark: increments at most once per 15 minutes.\n * Use this for \"user is active\" signals like making moves, browsing openings, etc.\n */\nexport function touchActivityToday() {\n  const now = Date.now();\n  if (now - lastSoftMarkAt < 15 * 60 * 1000) return;\n  lastSoftMarkAt = now;\n\n  markActivityToday(1);\n}\n","import * as Chess from \"chess.js\";\n\nexport const calcWidth = ({ screenWidth }) => {\n  const vw = screenWidth || window.innerWidth || 360;\n\n  // keep the original padding assumption, but never use screenHeight for width\n  const usable = Math.max(260, vw - 100);\n\n  if (vw < 550) return usable;\n  if (vw < 1800) return 500;\n  return 600;\n};\n\nexport const X_SVG_DATA_URI =\n  \"data:image/svg+xml;utf8,\" +\n  encodeURIComponent(\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\">\n      <circle cx=\"32\" cy=\"32\" r=\"28\" fill=\"#d11f1f\"/>\n      <path d=\"M20 20 L44 44 M44 20 L20 44\" stroke=\"white\" stroke-width=\"6\" stroke-linecap=\"round\"/>\n    </svg>`\n  );\n\nexport function randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function pickRandomLineId(lines, excludeId) {\n  if (!lines || !lines.length) return null;\n  if (lines.length === 1) return lines[0].id;\n  let tries = 0;\n  while (tries < 20) {\n    const idx = randInt(0, lines.length - 1);\n    const id = lines[idx].id;\n    if (id !== excludeId) return id;\n    tries += 1;\n  }\n  return lines[0].id;\n}\n\nexport function splitMovesText(text) {\n  const t = String(text || \"\").trim();\n  if (!t) return [];\n  return t\n    .split(/[\\n\\r\\t ,]+/g)\n    .map((s) => s.trim())\n    .filter(Boolean);\n}\n\nexport function validateSanMoves(moves) {\n  try {\n    const g = new Chess();\n    for (let i = 0; i < moves.length; i += 1) {\n      const san = moves[i];\n      const mv = g.move(san, { sloppy: true });\n      if (!mv) return { ok: false, index: i, san: san };\n    }\n    return { ok: true };\n  } catch (_) {\n    return { ok: false, index: 0, san: \"\" };\n  }\n}\n\nexport function safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nexport function todayKey() {\n  const d = new Date();\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\n\nexport function sideForIndex(i) {\n  return i % 2 === 0 ? \"w\" : \"b\";\n}\n\nexport function countMovesForSide(moves, side) {\n  if (!moves || !moves.length) return 0;\n  let n = 0;\n  for (let i = 0; i < moves.length; i += 1) {\n    if (sideForIndex(i) === side) n += 1;\n  }\n  return n;\n}\n\nexport function countDoneMovesForSide(stepIndex, side) {\n  let n = 0;\n  for (let i = 0; i < stepIndex; i += 1) {\n    if (sideForIndex(i) === side) n += 1;\n  }\n  return n;\n}\n\nexport function categoryForLine(line) {\n  if (!line) return \"Other\";\n  if (line.category) return String(line.category);\n  const name = line.name ? String(line.name) : \"\";\n  const parts = name.split(\":\");\n  if (parts.length > 1) return parts[0].trim();\n  return \"Other\";\n}\n\nexport function groupLines(lines) {\n  const out = {};\n  (lines || []).forEach((l) => {\n    const cat = categoryForLine(l);\n    if (!out[cat]) out[cat] = [];\n    out[cat].push(l);\n  });\n\n  const preferred = [\n    \"Classic London\",\n    \"Early ...c5 Systems\",\n    \"Anti Bishop Ideas\",\n    \"Jobava London\",\n    \"Aggressive Plans\",\n    \"Open Sicilian\",\n    \"Anti-Sicilian\",\n    \"Closed Sicilian\",\n    \"Grand Prix\",\n    \"Moscow/Rossolimo\",\n    \"Other\"\n  ];\n\n  const cats = Object.keys(out);\n  cats.sort((a, b) => {\n    const ia = preferred.indexOf(a);\n    const ib = preferred.indexOf(b);\n    if (ia !== -1 || ib !== -1) {\n      return (ia === -1 ? 999 : ia) - (ib === -1 ? 999 : ib);\n    }\n    return a.localeCompare(b);\n  });\n\n  return { cats, map: out };\n}\n","import { OPENING_SETS } from \"../openings/openingCatalog\";\n\nexport function buildLineIndex(openingSets) {\n  const sets = openingSets || {};\n  const byOpeningKey = {};\n  const orderedIdsByOpeningKey = {};\n\n  Object.keys(sets).forEach((openingKey) => {\n    const set = sets[openingKey] || {};\n    const lines = Array.isArray(set.lines) ? set.lines : [];\n\n    const map = {};\n    const ordered = [];\n\n    lines.forEach((line) => {\n      if (!line || typeof line !== \"object\") return;\n      const id = line.id;\n      if (!id || typeof id !== \"string\") return;\n\n      map[id] = line;\n      ordered.push(id);\n    });\n\n    byOpeningKey[openingKey] = map;\n    orderedIdsByOpeningKey[openingKey] = ordered;\n  });\n\n  return { byOpeningKey, orderedIdsByOpeningKey };\n}\n\nexport const LINE_INDEX = buildLineIndex(OPENING_SETS);\n\nexport function getLineById(openingKey, lineId, index) {\n  const idx = index || LINE_INDEX;\n  const bucket = (idx && idx.byOpeningKey && idx.byOpeningKey[openingKey]) || {};\n  return bucket[lineId] || null;\n}\n\nexport function getOrderedLineIds(openingKey, index) {\n  const idx = index || LINE_INDEX;\n  const ordered = (idx && idx.orderedIdsByOpeningKey && idx.orderedIdsByOpeningKey[openingKey]) || [];\n  return Array.isArray(ordered) ? ordered : [];\n}\n","\n// Weighted practice line selection.\n// Intentionally UI-agnostic. Expects per-line stats to live in progress via getLineStats().\n\nconst DAY_MS = 24 * 60 * 60 * 1000;\n\nfunction clamp01(x) {\n  if (x <= 0) return 0;\n  if (x >= 1) return 1;\n  return x;\n}\n\nfunction weightedPick(items, weightFn) {\n  let total = 0;\n  const weights = items.map((it, idx) => {\n    const w = Math.max(0, Number(weightFn(it, idx)) || 0);\n    total += w;\n    return w;\n  });\n\n  if (total <= 0) return null;\n\n  let r = Math.random() * total;\n  for (let i = 0; i < items.length; i += 1) {\n    r -= weights[i];\n    if (r <= 0) return items[i];\n  }\n  return items[items.length - 1] || null;\n}\n\nexport function pickNextPracticeLineId({\n  openingKey,\n  lineIds,\n  progress,\n  getLineStats,\n  lastLineId,\n  forceRepeatLineId,\n  excludeLineIds\n}) {\n  const idsAll = Array.isArray(lineIds) ? lineIds.filter(Boolean) : [];\n  if (!openingKey || idsAll.length === 0) return null;\n\n  const exclude = Array.isArray(excludeLineIds) ? excludeLineIds.filter(Boolean).map(String) : [];\n  const excludeSet = new Set(exclude);\n  const ids = excludeSet.size > 0 ? idsAll.filter((id) => !excludeSet.has(String(id))) : idsAll;\n\n  if (forceRepeatLineId) return forceRepeatLineId;\n\n  const now = Date.now();\n\n  const scored = ids.map((id) => {\n    const s = getLineStats(progress, openingKey, id);\n    const timesSeen = Number(s.timesSeen) || 0;\n    const timesCompleted = Number(s.timesCompleted) || 0;\n    const timesClean = Number(s.timesClean) || 0;\n    const timesFailed = Number(s.timesFailed) || 0;\n    const lastFailedAt = Number(s.lastFailedAt) || 0;\n\n    const accuracy = timesCompleted > 0 ? (timesClean / timesCompleted) : 0;\n    const lowAccuracy = 1 - clamp01(accuracy);\n\n    const failedRecently = lastFailedAt > 0 && (now - lastFailedAt) <= DAY_MS;\n\n    return {\n      id,\n      timesSeen,\n      timesCompleted,\n      timesClean,\n      timesFailed,\n      lastFailedAt,\n      failedRecently,\n      lowAccuracy\n    };\n  });\n\n  const unseen = scored.filter((x) => x.timesSeen <= 0).map((x) => x.id);\n  if (unseen.length > 0) {\n    const pool = unseen.filter((id) => id !== lastLineId);\n    const choice = pool.length > 0 ? pool[Math.floor(Math.random() * pool.length)] : unseen[0];\n    return choice || null;\n  }\n\n  const recentlyFailed = scored\n    .filter((x) => x.failedRecently && x.timesFailed > 0)\n    .sort((a, b) => (b.lastFailedAt || 0) - (a.lastFailedAt || 0))\n    .map((x) => x.id);\n\n  if (recentlyFailed.length > 0) {\n    const pool = recentlyFailed.slice(0, Math.min(6, recentlyFailed.length));\n    const pick = weightedPick(pool, (_id, idx) => 10 - idx);\n    return pick || recentlyFailed[0] || null;\n  }\n\n  const pick = weightedPick(scored, (x) => {\n    let w = 1;\n    w += x.lowAccuracy * 20;\n    w += Math.min(10, x.timesFailed) * 3;\n    w += 1 / (1 + x.timesSeen);\n    if (x.id === lastLineId) w *= 0.05;\n    return w;\n  });\n\n  return (pick && pick.id) || null;\n}\n\nexport function pickNextLearnLineId({\n  openingKey,\n  lineIds,\n  learnProgress,\n  getLearnLineStats,\n  lastLineId,\n  forceRepeatLineId,\n  excludeLineIds\n}) {\n  if (!openingKey) return null;\n\n  const idsAll = Array.isArray(lineIds) ? lineIds.filter(Boolean) : [];\n  if (idsAll.length === 0) return null;\n\n  const exclude = Array.isArray(excludeLineIds) ? excludeLineIds.filter(Boolean).map(String) : [];\n  const excludeSet = new Set(exclude);\n  let ids = excludeSet.size > 0 ? idsAll.filter((id) => !excludeSet.has(String(id))) : idsAll;\n\n  // If exclusions would leave us with nothing, fall back to the full pool.\n  // This prevents the caller fallback to lineIds[0], which can cause loops.\n  if (!ids || ids.length === 0) ids = idsAll;\n\n  if (forceRepeatLineId) return forceRepeatLineId;\n\n  const now = Date.now();\n\n  const scored = ids.map((id) => {\n    const s = getLearnLineStats(learnProgress, openingKey, id) || {};\n\n    const timesSeen = Number(s.timesSeen) || 0;\n    const timesCompleted = Number(s.timesCompleted) || 0;\n    const timesClean = Number(s.timesClean) || 0;\n    const timesFailed = Number(s.timesFailed) || 0;\n    const lastFailedAt = Number(s.lastFailedAt) || 0;\n\n    const accuracy = timesCompleted > 0 ? (timesClean / timesCompleted) : 0;\n    const lowAccuracy = 1 - clamp01(accuracy);\n\n    const failedRecently = lastFailedAt > 0 && (now - lastFailedAt) <= DAY_MS;\n\n    return {\n      id,\n      timesSeen,\n      timesCompleted,\n      timesClean,\n      timesFailed,\n      lastFailedAt,\n      failedRecently,\n      lowAccuracy\n    };\n  });\n\n  const unseen = scored.filter((x) => x.timesSeen <= 0).map((x) => x.id);\n  if (unseen.length > 0) {\n    const pool = unseen.filter((id) => id !== lastLineId);\n    const choice = pool.length > 0 ? pool[Math.floor(Math.random() * pool.length)] : unseen[0];\n    return choice || null;\n  }\n\n  const recentlyFailed = scored\n    .filter((x) => x.failedRecently)\n    .sort((a, b) => (b.lastFailedAt || 0) - (a.lastFailedAt || 0))\n    .map((x) => x.id);\n\n  if (recentlyFailed.length > 0) {\n    const pool = recentlyFailed.filter((id) => id !== lastLineId);\n    const choice = pool.length > 0 ? pool[0] : recentlyFailed[0];\n    return choice || null;\n  }\n\n  const pick = weightedPick(scored, (x) => {\n    let w = 1;\n    w += x.lowAccuracy * 20;\n    w += Math.min(10, x.timesFailed) * 3;\n    w += 1 / (1 + x.timesSeen);\n    if (x.id === lastLineId) w *= 0.05;\n    return w;\n  });\n\n  // If we still picked the same line and alternatives exist, force a different id.\n  // This makes Learn \"Next\" actually advance.\n  if (pick && pick.id && String(pick.id) === String(lastLineId) && scored.length > 1) {\n    const alt = scored.filter((x) => String(x.id) !== String(lastLineId));\n    if (alt.length > 0) return alt[0].id;\n  }\n\n  return (pick && pick.id) || null;\n}\n","import { safeJsonParse, todayKey } from \"./otUtils\";\n\nexport const STORAGE_KEY = \"notation_trainer_opening_progress_v2\";\nexport const LEARN_STORAGE_KEY = \"notation_trainer_learn_progress_v1\";\nexport const SETTINGS_KEY = \"notation_trainer_opening_settings_v1\";\nexport const CUSTOM_REPS_KEY = \"notation_trainer_custom_lines_v1\";\n\nexport function loadCustomLines() {\n  try {\n    const raw = window.localStorage.getItem(CUSTOM_REPS_KEY);\n    if (!raw) return [];\n    const parsed = safeJsonParse(raw, []);\n    return Array.isArray(parsed) ? parsed : [];\n  } catch (_) {\n    return [];\n  }\n}\n\nexport function saveCustomLines(lines) {\n  try {\n    window.localStorage.setItem(CUSTOM_REPS_KEY, JSON.stringify(lines || []));\n  } catch (_) {\n    // ignore\n  }\n}\n\nexport function makeCustomId() {\n  return \"custom-\" + Date.now() + \"-\" + Math.floor(Math.random() * 1000000);\n}\n\nexport function loadProgress() {\n  const empty = { lines: {}, openings: {} };\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    if (!raw) return empty;\n    const parsed = safeJsonParse(raw, empty);\n    if (!parsed || typeof parsed !== \"object\") return empty;\n    if (!parsed.lines) parsed.lines = {};\n    if (!parsed.openings) parsed.openings = {};\n    return parsed;\n  } catch (_) {\n    return empty;\n  }\n}\n\nexport function saveProgress(progress) {\n  try {\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));\n  } catch (_) {\n    // ignore\n  }\n}\n\nexport function loadSettings(DEFAULT_THEME) {\n  const defaults = {\n    showConfetti: true,\n    playSounds: true,\n    boardTheme: DEFAULT_THEME\n  };\n  try {\n    const raw = window.localStorage.getItem(SETTINGS_KEY);\n    if (!raw) return defaults;\n    const parsed = safeJsonParse(raw, defaults);\n    if (!parsed || typeof parsed !== \"object\") return defaults;\n\n    return {\n      showConfetti: parsed.showConfetti !== false,\n      playSounds: parsed.playSounds !== false,\n      boardTheme: parsed.boardTheme || DEFAULT_THEME\n    };\n  } catch (_) {\n    return defaults;\n  }\n}\n\nexport function saveSettings(settings) {\n  try {\n    window.localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));\n  } catch (_) {\n    // ignore\n  }\n}\n\nexport function ensureOpening(progress, openingKey) {\n  if (!progress.lines[openingKey]) progress.lines[openingKey] = {};\n  if (!progress.openings[openingKey]) {\n    progress.openings[openingKey] = {\n      streak: 0,\n      bestStreak: 0,\n      completedToday: 0,\n      todayKey: todayKey(),\n      totalCompleted: 0,\n      totalClean: 0\n    };\n  }\n  const o = progress.openings[openingKey];\n  const t = todayKey();\n  if (o.todayKey !== t) {\n    o.todayKey = t;\n    o.completedToday = 0;\n    o.streak = 0;\n  }\n}\n\nexport function getLineStats(progress, openingKey, lineId) {\n  ensureOpening(progress, openingKey);\n  const bucket = progress.lines[openingKey];\n  if (!bucket[lineId]) {\n    bucket[lineId] = {\n      timesSeen: 0,\n      timesCompleted: 0,\n      timesClean: 0,\n      timesFailed: 0,\n      lastResult: null,\n      lastSeenAt: null,\n      lastFailedAt: null\n    };\n  } else {\n    // Backfill new fields for older saves.\n    if (typeof bucket[lineId].timesFailed !== \"number\") bucket[lineId].timesFailed = 0;\n    if (!(\"lastSeenAt\" in bucket[lineId])) bucket[lineId].lastSeenAt = null;\n    if (!(\"lastFailedAt\" in bucket[lineId])) bucket[lineId].lastFailedAt = null;\n  }\n  return bucket[lineId];\n}\n\n\nexport function loadLearnProgress() {\n  try {\n    const raw = window.localStorage.getItem(LEARN_STORAGE_KEY);\n    if (!raw) return { openings: {} };\n    const obj = safeJsonParse(raw, { openings: {} });\n    if (!obj || typeof obj !== \"object\") return { openings: {} };\n    if (!obj.openings || typeof obj.openings !== \"object\") obj.openings = {};\n    return obj;\n  } catch (_) {\n    return { openings: {} };\n  }\n}\n\nexport function saveLearnProgress(progress) {\n  try {\n    window.localStorage.setItem(LEARN_STORAGE_KEY, JSON.stringify(progress || { openings: {} }));\n  } catch (_) {}\n\n  try {\n    window.dispatchEvent(new Event(\"learnprogress:updated\"));\n  } catch (_) {}\n}\n\nexport function ensureLearnOpening(progress, openingKey) {\n  if (!progress.openings) progress.openings = {};\n  if (!progress.openings[openingKey]) {\n    progress.openings[openingKey] = { lines: {}, lastPlayedAt: null };\n  }\n  if (!progress.openings[openingKey].lines) progress.openings[openingKey].lines = {};\n}\n\nexport function getLearnLineStats(progress, openingKey, lineId) {\n  if (!progress || !openingKey || !lineId) {\n    return {\n      timesSeen: 0,\n      timesCompleted: 0,\n      timesClean: 0,\n      timesFailed: 0,\n      lastResult: \"\",\n      lastSeenAt: null,\n      lastFailedAt: null\n    };\n  }\n\n  ensureLearnOpening(progress, openingKey);\n  const bucket = progress.openings[openingKey].lines;\n\n  if (!bucket[lineId]) {\n    bucket[lineId] = {\n      timesSeen: 0,\n      timesCompleted: 0,\n      timesClean: 0,\n      timesFailed: 0,\n      lastResult: \"\",\n      lastSeenAt: null,\n      lastFailedAt: null\n    };\n  }\n\n  // backfill\n  if (typeof bucket[lineId].timesSeen !== \"number\") bucket[lineId].timesSeen = 0;\n  if (typeof bucket[lineId].timesCompleted !== \"number\") bucket[lineId].timesCompleted = 0;\n  if (typeof bucket[lineId].timesClean !== \"number\") bucket[lineId].timesClean = 0;\n  if (typeof bucket[lineId].timesFailed !== \"number\") bucket[lineId].timesFailed = 0;\n  if (!(\"lastResult\" in bucket[lineId])) bucket[lineId].lastResult = \"\";\n  if (!(\"lastSeenAt\" in bucket[lineId])) bucket[lineId].lastSeenAt = null;\n  if (!(\"lastFailedAt\" in bucket[lineId])) bucket[lineId].lastFailedAt = null;\n\n  return bucket[lineId];\n}\n\nexport function isCompleted(stats) {\n  return (stats && stats.timesClean >= 1) || false;\n}\n","import React from \"react\";\n\nexport default function OpeningTrainerCustomModal(props) {\n  if (!props || !props.open) return null;\n\n  return (\n    <div className=\"ot-modal-overlay\" onMouseDown={props.onCancel}>\n      <div className=\"ot-modal\" onMouseDown={(e) => e.stopPropagation()}>\n        <div className=\"ot-modal-title\">Add custom rep</div>\n\n        {props.error ? <div className=\"ot-modal-error\">{props.error}</div> : null}\n\n        <label className=\"ot-modal-label\">\n          Name (optional)\n          <input\n            className=\"ot-modal-input\"\n            value={props.name || \"\"}\n            onChange={(e) => props.onChangeName && props.onChangeName(e.target.value)}\n            placeholder=\"Example: My London vs Qb6\"\n          />\n        </label>\n\n        <label className=\"ot-modal-label\">\n          Moves (SAN, separated by spaces, commas, or new lines)\n          <textarea\n            className=\"ot-modal-textarea\"\n            value={props.movesText || \"\"}\n            onChange={(e) => props.onChangeMovesText && props.onChangeMovesText(e.target.value)}\n            placeholder=\"d4 d5 Bf4 Nf6 e3 e6 Nd2 c5 c3 Nc6\"\n          />\n        </label>\n\n        <div className=\"ot-modal-actions\">\n          <button className=\"ot-button ot-button-small\" onClick={props.onCancel}>\n            Cancel\n          </button>\n          <button className=\"ot-button ot-button-small ot-button-primary\" onClick={props.onSave}>\n            Save\n          </button>\n        </div>\n\n        <div className=\"ot-modal-hint\">\n          Tip: use standard SAN like Nf3, Bb5, O-O, exd5, Qxd8.\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { randInt } from \"./otUtils\";\n\nexport default function OpeningTrainerConfetti(props) {\n  if (!props || !props.active) return null;\n\n  const pieces = [];\n  for (let i = 0; i < 60; i += 1) {\n    const left = randInt(10, 90);\n    const delay = Math.random() * 0.15;\n    const dur = 0.85 + Math.random() * 0.55;\n    const rot = randInt(0, 360);\n    const size = randInt(6, 11);\n\n    pieces.push(\n      <span\n        key={i}\n        className=\"ot-confetti\"\n        style={{\n          left: left + \"vw\",\n          animationDelay: delay + \"s\",\n          animationDuration: dur + \"s\",\n          transform: \"rotate(\" + rot + \"deg)\",\n          width: size + \"px\",\n          height: Math.max(4, Math.floor(size * 0.55)) + \"px\"\n        }}\n      />\n    );\n  }\n\n  return <div className=\"ot-confetti-layer\">{pieces}</div>;\n}\n","// src/utils/periodKeys.js\n// Keys are used to scope leaderboard docs so daily/weekly/monthly boards actually reset.\n\nexport function dayKeyFromDate(dt = new Date()) {\n  const d = new Date(dt);\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\n\n// ISO week, Monday-based, matches \"reset every Monday\"\nexport function isoWeekKeyFromDate(dt = new Date()) {\n  const d = new Date(Date.UTC(dt.getFullYear(), dt.getMonth(), dt.getDate()));\n  // Thursday in current week decides the year.\n  const dayNum = d.getUTCDay() || 7; // 1..7 (Mon..Sun)\n  d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  const weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);\n  const y = d.getUTCFullYear();\n  const w = String(weekNo).padStart(2, \"0\");\n  return `${y}-W${w}`;\n}\n\nexport function monthKeyFromDate(dt = new Date()) {\n  const d = new Date(dt);\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  return `${y}-${m}`;\n}\n\nexport function leaderboardScopeKey(period, dt = new Date()) {\n  if (period === \"day\") return dayKeyFromDate(dt);\n  if (period === \"week\") return isoWeekKeyFromDate(dt);\n  if (period === \"month\") return monthKeyFromDate(dt);\n  return \"all\";\n}\n","import React, { Component } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport * as Chess from \"chess.js\";\nimport { OPENING_SETS as CATALOG_OPENING_SETS } from \"../openings/openingCatalog\";\nimport { useAuth } from \"../auth/AuthProvider\";\nimport TopNav from \"./TopNav\";\nimport { BOARD_THEMES, DEFAULT_THEME, PIECE_THEMES } from \"../theme/boardThemes\";\nimport \"./OpeningTrainer.css\";\nimport { getStreakState, markLineCompletedTodayDetailed } from \"../utils/streak\";\nimport { getActivityDays, markActivityToday, touchActivityToday } from \"../utils/activityDays\";\nimport { calcWidth, X_SVG_DATA_URI, pickRandomLineId, splitMovesText, validateSanMoves, countMovesForSide, countDoneMovesForSide, groupLines } from \"./openingTrainer/otUtils\";\nimport { getOrderedLineIds } from \"../utils/lineIndex\";\nimport { pickNextPracticeLineId, pickNextLearnLineId } from \"./openingTrainer/practicePicker\";\n\nimport { loadProgress, saveProgress, loadLearnProgress, saveLearnProgress, loadSettings, saveSettings, loadCustomLines, saveCustomLines, makeCustomId, ensureOpening, getLineStats, isCompleted, ensureLearnOpening, getLearnLineStats } from \"./openingTrainer/otStorage\";\nimport OpeningTrainerCustomModal from \"./openingTrainer/OpeningTrainerCustomModal\";\nimport OpeningTrainerConfetti from \"./openingTrainer/OpeningTrainerConfetti\";\nimport { db } from \"../firebase\";\nimport { doc, getDoc, setDoc, serverTimestamp } from \"firebase/firestore\";\nimport { dayKeyFromDate, isoWeekKeyFromDate, monthKeyFromDate } from \"../utils/periodKeys\";\n\n\nconst OPENING_SETS = CATALOG_OPENING_SETS;\n\n// ---- Logged-out free drills limiter ----\nconst FREE_DRILLS_KEY = \"chessdrills_free_drills_v1\";\n\nfunction loadFreeDrillsMap() {\n  try {\n    const raw = window.localStorage.getItem(FREE_DRILLS_KEY);\n    if (!raw) return {};\n    const parsed = JSON.parse(raw);\n    return parsed && typeof parsed === \"object\" ? parsed : {};\n  } catch (_) {\n    return {};\n  }\n}\n\nfunction saveFreeDrillsMap(map) {\n  try {\n    window.localStorage.setItem(FREE_DRILLS_KEY, JSON.stringify(map || {}));\n  } catch (_) {}\n}\n\nfunction getFreeDrillsCount(openingKey) {\n  const key = String(openingKey || \"\");\n  const map = loadFreeDrillsMap();\n  const n = map && typeof map[key] === \"number\" ? map[key] : 0;\n  return Math.max(0, n);\n}\n\nfunction incFreeDrillsCount(openingKey) {\n  const key = String(openingKey || \"\");\n  const map = loadFreeDrillsMap();\n  const cur = map && typeof map[key] === \"number\" ? map[key] : 0;\n  const next = Math.max(0, cur) + 1;\n  map[key] = next;\n  saveFreeDrillsMap(map);\n  return next;\n}\n\n\n// ---- Learn shuffle bag (prevents repeating same few lines) ----\nconst _learnBagKey = (openingKey) => `chessdrills.learn_bag.v1.${String(openingKey || \"\")}`;\n\nfunction _shuffleIds(ids) {\n  const a = Array.isArray(ids) ? ids.slice() : [];\n  for (let i = a.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const tmp = a[i];\n    a[i] = a[j];\n    a[j] = tmp;\n  }\n  return a;\n}\n\nfunction _loadLearnBag(openingKey) {\n  try {\n    const raw = window.localStorage.getItem(_learnBagKey(openingKey));\n    if (!raw) return null;\n    const obj = JSON.parse(raw);\n    if (!obj || !Array.isArray(obj.order)) return null;\n    const idx = Number(obj.idx) || 0;\n    return { order: obj.order.map(String), idx };\n  } catch (_) {\n    return null;\n  }\n}\n\nfunction _saveLearnBag(openingKey, bag) {\n  try {\n    window.localStorage.setItem(_learnBagKey(openingKey), JSON.stringify(bag || {}));\n  } catch (_) {}\n}\n\nfunction _sameIdSet(a, b) {\n  if (!Array.isArray(a) || !Array.isArray(b)) return false;\n  if (a.length !== b.length) return false;\n  const sa = a.map(String).slice().sort();\n  const sb = b.map(String).slice().sort();\n  for (let i = 0; i < sa.length; i += 1) {\n    if (sa[i] !== sb[i]) return false;\n  }\n  return true;\n}\n\nfunction _pickNextLearnFromBag({ openingKey, lineIds, excludeLineIds, lastLineId, forceRepeatLineId }) {\n  if (!openingKey) return null;\n  const idsAll = Array.isArray(lineIds) ? lineIds.filter(Boolean).map(String) : [];\n  if (idsAll.length === 0) return null;\n\n  if (forceRepeatLineId) return String(forceRepeatLineId);\n\n  const exclude = Array.isArray(excludeLineIds) ? excludeLineIds.filter(Boolean).map(String) : [];\n  const excludeSet = new Set(exclude);\n\n  let bag = _loadLearnBag(openingKey);\n  if (!bag || !_sameIdSet(bag.order, idsAll) || bag.order.length === 0) {\n    bag = { order: _shuffleIds(idsAll), idx: 0 };\n  }\n\n  // Try up to N picks from the bag to find a non-excluded line.\n  // If everything is excluded, we will fall back to allowing excluded lines.\n  const maxTries = bag.order.length;\n  let tries = 0;\n  let pick = null;\n\n  while (tries < maxTries) {\n    const i = bag.idx % bag.order.length;\n    const candidate = bag.order[i];\n    bag.idx = i + 1;\n    tries += 1;\n\n    if (excludeSet.size > 0 && excludeSet.has(String(candidate))) continue;\n    if (lastLineId && String(candidate) === String(lastLineId) && bag.order.length > 1) continue;\n\n    pick = candidate;\n    break;\n  }\n\n  // If we couldn't find a non-excluded candidate, allow excluded but still avoid immediate repeat if possible.\n  if (!pick) {\n    for (let k = 0; k < bag.order.length; k += 1) {\n      const candidate = bag.order[(bag.idx + k) % bag.order.length];\n      if (lastLineId && String(candidate) === String(lastLineId) && bag.order.length > 1) continue;\n      pick = candidate;\n      bag.idx = (bag.idx + k + 1) % bag.order.length;\n      break;\n    }\n  }\n\n  // If we've effectively exhausted the bag, reshuffle for the next cycle.\n  if (bag.idx >= bag.order.length) {\n    bag.order = _shuffleIds(idsAll);\n    bag.idx = 0;\n  }\n\n  _saveLearnBag(openingKey, bag);\n  return pick || null;\n}\n\n// ---- End Learn shuffle bag ----\n\nclass OpeningTrainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this._openCustomOnMount = false;\n    this.game = new Chess();\n\n    this._settingsAnchorEl = null;\n    this._linePickerAnchorEl = null;\n\n    let firstSetKey = \"london\";\n    try {\n      const search = (props && props.location && props.location.search) || \"\";\n      const params = new URLSearchParams(search);\n      \n      this._openCustomOnMount = params.get(\"custom\") === \"1\";\n      const fromHome = params.get(\"opening\");\n      if (fromHome && OPENING_SETS[fromHome]) firstSetKey = fromHome;\n    } catch (_) {\n      // ignore\n    }\n\n    const firstLinesBuiltIn = OPENING_SETS[firstSetKey].lines;\n    const customAll = loadCustomLines();\n    const customForFirst = customAll.filter((l) => l && l.openingKey === firstSetKey);\n    const firstLines = firstLinesBuiltIn.concat(customForFirst);\n    const firstId = pickRandomLineId(firstLines, null) || (firstLines[0] ? firstLines[0].id : \"\");\n\n    this._autoNextTimer = null;\n    this._confettiTimer = null;\n    this._streakToastTimer = null;\n\n    const progress = loadProgress();\n    const learnProgress = loadLearnProgress();\n    const settings = loadSettings(DEFAULT_THEME);\n\n    const drillStats = this.loadDrillStats();\n\n    this.state = {\n      openingKey: firstSetKey,\n      lineId: firstId,\n      sessionLineId: null,\n      practiceForceRepeat: false,\n      prevPracticeLineId: null,\n      prevLearnLineId: null,\n      learnRecentLineIds: [],\n      linePicker: \"random\",\n      gameMode: \"learn\",\n      modePanelVisible: true,\n      userHasPlayedThisLine: false,\n      helpUsed: false,\n      drillStreak: 0,\n      drillBestAllTime: (drillStats && drillStats.bestAllTime) || 0,\n      drillRunDead: false,\n      fen: \"start\",\n      stepIndex: 0,\n      mistakeUnlocked: false,\n      lastMistake: null,\n      completed: false,\n      confettiActive: false,\n      wrongAttempt: null,\n      progress: progress,\n      learnProgress: learnProgress,\n      learnForceRepeat: false,\n      showHint: false,\n      settingsOpen: false,\n      lineMenuOpen: false,\n      settings: settings,\n      customLines: customAll,\n      customModalOpen: false,\n      customName: \"\",\n      customMovesText: \"\",\n      customError: \"\"\n    ,\n      viewing: false,\n      viewIndex: 0,\n      viewFen: \"start\",\n      hintFromSquare: null,\n      solveArmed: false,\n      selectedSquare: null,\n      legalTargets: [],\n      streakToastOpen: false,\n      streakToastText: \"\",\n      lastMove: null, // { from, to }\n      memberGateOpen: false,\n      memberGateMode: \"\",\n      isMobile: false,\n      mobileBoardSize: null,\n      mobileHeaderMenu: null,\n      learnRewardPending: false,\n      learnNextReady: false\n    \n    };\n    \n    // Mobile layout measurement refs (used only when isMobile)\n    this._mobileTopbarRef = React.createRef();\n    this._mobilePillsRef = React.createRef();\n    this._mobileCoachRef = React.createRef();\n    this._mobileDockRef = React.createRef();\nthis._countedSeenForRun = false;\n\n    const base = process.env.PUBLIC_URL || \"\";\n    this.sfx = {\n      capture: new Audio(base + \"/sounds/capture.mp3\"),\n      illegal: new Audio(base + \"/sounds/illegal.mp3\"),\n      moveSelf: new Audio(base + \"/sounds/move-self.mp3\"),\n      moveOpponent: new Audio(base + \"/sounds/move-opponent.mp3\")\n    };\n\n    Object.values(this.sfx).forEach((a) => {\n      if (!a) return;\n      a.preload = \"auto\";\n      a.volume = 0.55;\n    });\n  }\n\n  _backfillActivityFromStreak = () => {\n    // Heatmap uses activity_days, streak uses daily_streak.\n    // Older users may have streak data but no activity history, so backfill 1 square.\n    try {\n      const s = getStreakState();\n      const last = s && s.lastCompletedDate ? String(s.lastCompletedDate) : \"\";\n      if (!last) return;\n\n      const days = getActivityDays();\n      if (days && Object.prototype.hasOwnProperty.call(days, last)) return;\n\n      const next = { ...(days || {}) };\n      next[last] = Math.max(1, Number(next[last]) || 0);\n\n      try {\n        window.localStorage.setItem(\"chessdrills.activity_days.v1\", JSON.stringify(next));\n      } catch (_) {}\n\n      try {\n        window.dispatchEvent(new Event(\"activity:updated\"));\n      } catch (_) {}\n    } catch (_) {\n      // ignore\n    }\n  };\n\n\n  isOpeningLocked = (openingKey) => {\n    const set = OPENING_SETS[openingKey];\n    if (!set) return false;\n\n    // \"New\" openings are gated behind a free account signup.\n    if (set.access === \"signup\" && !this.props.user) return true;\n\n    // Member-only openings.\n    if (set.access === \"member\" && !this.props.isMember) return true;\n\n    // Time-based early access for members.\n    if (set.earlyAccessUntil && !this.props.isMember) {\n      try {\n        const until = new Date(set.earlyAccessUntil);\n        if (!Number.isNaN(until.getTime()) && Date.now() < until.getTime()) return true;\n      } catch (_) {}\n    }\n\n    return false;\n  };\n\n  maybeRedirectForLockedOpening = (openingKey) => {\n    if (this.props.authLoading) return false;\n    if (!this.isOpeningLocked(openingKey)) return false;\n\n    const set = OPENING_SETS[openingKey];\n    const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n    const search = this.props && this.props.location ? this.props.location.search : \"\";\n    const from = `${pathname}${search}`;\n\n    const reason = set && set.access === \"member\" ? \"member_opening\" : \"new_opening\";\n\n    // Account required gates to signup, membership gates to About upgrade.\n    if (set && set.access === \"signup\" && !this.props.user) {\n      if (this.props && this.props.history && this.props.history.replace) {\n        this.props.history.replace({\n          pathname: \"/signup\",\n          state: { from, reason }\n        });\n      }\n      return true;\n    }\n\n    if (this.props && this.props.history && this.props.history.replace) {\n      this.props.history.replace({\n        pathname: \"/about\",\n        state: { from, reason }\n      });\n    }\n\n    return true;\n  };\n\n  enforceLearnGate = () => {\n    if (this.props.authLoading) return false;\n\n    const mode = this.state.gameMode || \"learn\";\n    const hasPaidAccess = !!(this.props.user && this.props.membershipActive === true);\n\n    // Practice + Drill are premium only.\n    if (mode === \"practice\" || mode === \"drill\") {\n      if (hasPaidAccess) return false;\n\n      if (this.props && this.props.history && this.props.history.replace) {\n        const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n        const search = this.props && this.props.location ? this.props.location.search : \"\";\n        const from = `${pathname}${search}`;\n\n        // Force them to About to start the Stripe trial.\n        this.props.history.replace({\n          pathname: \"/about\",\n          state: { from, reason: \"membership_required\" }\n        });\n      }\n      return true;\n    }\n\n    // Learn is free up to 3 completed drills per opening for non-members.\n    if (mode === \"learn\" && !hasPaidAccess) {\n      const openingKey = this.state.openingKey;\n      const used = getFreeDrillsCount(openingKey);\n\n      if (used >= 3) {\n        if (this.props && this.props.history && this.props.history.replace) {\n          const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n          const search = this.props && this.props.location ? this.props.location.search : \"\";\n          const from = `${pathname}${search}`;\n\n          this.props.history.replace({\n            pathname: \"/about\",\n            state: { from, reason: \"trial_required\" }\n          });\n        }\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n\n  componentDidMount() {\n    window.addEventListener(\"mousedown\", this.onWindowClick);\n    window.addEventListener(\"keydown\", this.onKeyDown);\n    window.addEventListener(\"resize\", this._onResizeMobileLayout);\n    this._onResizeMobileLayout();\n    if (this.maybeRedirectForLockedOpening(this.state.openingKey)) return;\n    if (this.enforceLearnGate()) return;\n    this._backfillActivityFromStreak();\n    this.resetLine(false);\n  \n    if (this._openCustomOnMount) {\n      this._openCustomOnMount = false;\n      this.openCustomModal();\n    }\n}\n\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.authLoading && !this.props.authLoading) {\n      this.maybeRedirectForLockedOpening(this.state.openingKey);\n    }\n\n    if (!this.props.authLoading) {\n      if (this.enforceLearnGate()) return;\n    }\n\n    if (prevState.gameMode !== this.state.gameMode) {\n      if (this.enforceLearnGate()) return;\n    }\n\n    if (prevState.openingKey !== this.state.openingKey) {\n      this.maybeRedirectForLockedOpening(this.state.openingKey);\n    }\n \n    // Mobile board sizing depends on actual rendered heights (coach text can change as you advance).\n    if (this.state.isMobile) {\n      const lineChanged = prevState.lineId !== this.state.lineId;\n      const stepChanged = prevState.stepIndex !== this.state.stepIndex;\n      const menuChanged = prevState.mobileHeaderMenu !== this.state.mobileHeaderMenu;\n      if (lineChanged || stepChanged || menuChanged) {\n        try {\n          window.requestAnimationFrame(() => this._onResizeMobileLayout());\n        } catch (_) {\n          // ignore\n        }\n      }\n    }\n\n  }\n\ncomponentWillUnmount() {\n    if (this._autoNextTimer) clearTimeout(this._autoNextTimer);\n    if (this._confettiTimer) clearTimeout(this._confettiTimer);\n    if (this._streakToastTimer) clearTimeout(this._streakToastTimer);\n    window.removeEventListener(\"mousedown\", this.onWindowClick);\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n    window.removeEventListener(\"resize\", this._onResizeMobileLayout);\n  }\n\n  _mobileBreakpointPx = 560;\n\n  _isMobileViewport = () => {\n    try {\n      return typeof window !== \"undefined\" && window.innerWidth <= this._mobileBreakpointPx;\n    } catch (_) {\n      return false;\n    }\n  };\n\n  _computeMobileBoardSize = () => {\n    try {\n      if (typeof window === \"undefined\") return null;\n\n      const w = Number(window.innerWidth) || 0;\n      const h = Number(window.innerHeight) || 0;\n\n      // Measure real rendered heights so the board can take the remaining space.\n      const getH = (ref) => {\n        try {\n          const el = ref && ref.current;\n          if (!el) return 0;\n          const r = el.getBoundingClientRect();\n          return Math.ceil(r.height || 0);\n        } catch (_) {\n          return 0;\n        }\n      };\n\n      const topbarH = getH(this._mobileTopbarRef);\n      const pillsH = getH(this._mobilePillsRef);\n      const coachH = getH(this._mobileCoachRef);\n      const dockH = getH(this._mobileDockRef) || 56;\n\n      // Keep a little slack for borders and iOS safe areas.\n      const safety = 10 + (typeof window !== \"undefined\" ? 0 : 0);\n\n      const availH = Math.max(0, h - topbarH - pillsH - coachH - dockH - safety);\n      const stageSidePad = 20; // matches .ot-mobile-stage padding: 0 10px\n      const boardPad = 6; // prevents piece clipping against rounded containers\n      const availW = Math.max(0, w - stageSidePad - boardPad * 2);\n      const availH2 = Math.max(0, availH - boardPad * 2);\n\n      const size = Math.floor(Math.max(0, Math.min(availW, availH2)));\n      if (!size) return null;\n\n      return size;\n    } catch (_) {\n      return null;\n    }\n  };\n\n  _onResizeMobileLayout = () => {\n    const isMobile = this._isMobileViewport();\n    const mobileBoardSize = isMobile ? this._computeMobileBoardSize() : null;\n\n    if (this.state.isMobile === isMobile && this.state.mobileBoardSize === mobileBoardSize) return;\n\n    this.setState({ isMobile, mobileBoardSize });\n  };\n\n  onWindowClick = (e) => {\n    if (!this.state.settingsOpen && !this.state.lineMenuOpen && !this.state.mobileHeaderMenu) return;\n\n    let t = e && e.target;\n\n    // On some mobile browsers the target can be a Text node, which breaks closest().\n    if (t && t.nodeType === 3) t = t.parentElement;\n\n    // Clicking pill buttons should not auto-close (otherwise open then instantly close).\n    try {\n      if (t && t.closest && (t.closest(\".ot-pill-btn\") || t.closest(\".ot-mobile-pill-btn\"))) return;\n    } catch (_) {}\n\n    // Clicking inside the mobile header menu should not auto-close it.\n    try {\n      if (t && t.closest && t.closest(\".ot-mobile-menu\")) return;\n    } catch (_) {}\n\n    if (this._settingsAnchorEl && t && this._settingsAnchorEl.contains(t)) return;\n    if (this._linePickerAnchorEl && t && this._linePickerAnchorEl.contains(t)) return;\n    if (this._desktopMenuEl && t && this._desktopMenuEl.contains(t)) return;\n\n    this.setState({ settingsOpen: false, lineMenuOpen: false, mobileHeaderMenu: null });\n  };\n\n  onKeyDown = (e) => {\n    const t = e && e.target;\n    const tag = t && t.tagName;\n    const editable = t && t.isContentEditable;\n\n    if (editable || tag === \"INPUT\" || tag === \"TEXTAREA\" || tag === \"SELECT\") return;\n\n    const key = e.key;\n\n    if (key === \"ArrowUp\" || key === \"Up\") {\n      e.preventDefault();\n      this.viewLive();\n      return;\n    }\n\n    if (key === \"ArrowLeft\" || key === \"Left\") {\n      e.preventDefault();\n      this.viewBack();\n      return;\n    }\n\n    if (key === \"ArrowRight\" || key === \"Right\") {\n      e.preventDefault();\n      this.viewForward();\n      return;\n    }\n\n    const isSpace = e.code === \"Space\" || key === \" \" || key === \"Spacebar\";\n    if (isSpace) {\n      if (e.repeat) return;\n      e.preventDefault();\n\n      if (this.state.solveArmed) {\n        this.playMoveForMe();\n      } else {\n        this.onHint();\n      }\n    }\n  };\n\n\n  getOpeningSet = () => {\n    return OPENING_SETS[this.state.openingKey] || OPENING_SETS.london;\n  };\nopenCustomModal = () => {\n  this.setState({\n    customModalOpen: true,\n    customName: \"\",\n    customMovesText: \"\",\n    customError: \"\"\n  });\n};\n\ncloseCustomModal = () => {\n  this.setState({ customModalOpen: false, customError: \"\" });\n};\n\nsaveCustomModal = () => {\n  const openingKey = this.state.openingKey;\n  const nameRaw = String(this.state.customName || \"\").trim();\n  const moves = splitMovesText(this.state.customMovesText);\n\n  if (!moves.length) {\n    this.setState({ customError: \"Paste moves in SAN format first.\" });\n    return;\n  }\n\n  const v = validateSanMoves(moves);\n  if (!v.ok) {\n    this.setState({\n      customError: `Bad move at #${(v.index || 0) + 1}: ${v.san || \"\"}`\n    });\n    return;\n  }\n\n  const name = nameRaw || `My rep (${moves.length} moves)`;\n\n  const nextLine = {\n    id: makeCustomId(),\n    openingKey: openingKey,\n    category: \"My Reps\",\n    name: name,\n    description: \"\",\n    moves: moves,\n    explanations: moves.map(() => \"\")\n  };\n\n  const existing = (this.state.customLines || []).slice();\n  const next = existing.concat([nextLine]);\n  saveCustomLines(next);\n\n  this.setState(\n    {\n      customLines: next,\n      customModalOpen: false,\n      customError: \"\",\n      linePicker: nextLine.id,\n      lineId: nextLine.id,\n      lineMenuOpen: false\n    },\n    () => this.resetLine(false)\n  );\n};\n\n\n  getLines = () => {\n    const set = this.getOpeningSet();\n    const builtIn = (set && set.lines) || [];\n\n    const openingKey = this.state.openingKey;\n    const customAll = this.state.customLines || [];\n    const customForOpening = customAll.filter((l) => l && l.openingKey === openingKey);\n\n    return builtIn.concat(customForOpening);\n  };\n\n  getPlayerColor = () => {\n    const set = this.getOpeningSet();\n    return (set && set.playerColor) || \"w\";\n  };\n\n  getLine = () => {\n    const lines = this.getLines();\n    return lines.find((l) => l.id === this.state.lineId) || lines[0];\n  };\n\n  getHintFromSquare = (expectedSan) => {\n    if (!expectedSan) return null;\n\n    try {\n      const fen = this.state.fen;\n      const g = !fen || fen === \"start\" ? new Chess() : new Chess(fen);\n      const mv = g.move(expectedSan, { sloppy: true });\n      if (!mv) return null;\n      return mv.from || null;\n    } catch (_) {\n      return null;\n    }\n  };\n\n  onHint = () => {\n    if (this.state.completed) return;\n    if (this.state.gameMode === \"drill\") return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    const mode = this.state.gameMode || \"learn\";\n    if (mode === \"drill\") return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const fromSq = this.getHintFromSquare(expected);\n\n    this.setState({\n      showHint: true,\n      solveArmed: true,\n      hintFromSquare: fromSq,\n      helpUsed: true\n    });\n  };\n\n  playMoveForMe = () => {\n    if (this.state.completed) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    const mode = this.state.gameMode || \"learn\";\n    if (mode === \"drill\") return;\n\n    if (this.state.viewing) this.viewLive();\n\n    const mv = this.game.move(expected, { sloppy: true });\n    if (!mv) return;\n\n    const flags = typeof mv.flags === \"string\" ? mv.flags : \"\";\n    const isCapture = flags.includes(\"c\") || flags.includes(\"e\");\n    this.playSfx(isCapture ? \"capture\" : \"moveSelf\");\n\n    const nextStep = this.state.stepIndex + 1;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: nextStep,\n        viewing: false,\n        viewIndex: nextStep,\n        viewFen: this.game.fen(),\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        // Solve breaks clean completion\n        helpUsed: true,\n        lastMove: { from: mv.from, to: mv.to }\n      },\n      () => {\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  toggleSettingsOpen = (e) => {\n    if (e && e.stopPropagation) e.stopPropagation();\n    this.setState({ settingsOpen: !this.state.settingsOpen });\n  };\n\n  toggleLineMenuOpen = (e) => {\n    if (e && e.stopPropagation) e.stopPropagation();\n    this.setState({ lineMenuOpen: !this.state.lineMenuOpen });\n  };\n\n\n  setSetting = (key, value) => {\n    const next = { ...(this.state.settings || {}) };\n    next[key] = value;\n    saveSettings(next);\n    this.setState({ settings: next });\n  };\n\n  getPieceThemeUrl = () => {\n    const k = (this.state.settings && this.state.settings.pieceTheme) ? String(this.state.settings.pieceTheme) : \"default\";\n    const url = PIECE_THEMES && Object.prototype.hasOwnProperty.call(PIECE_THEMES, k) ? PIECE_THEMES[k] : null;\n    return url || undefined;\n  };\n\n  _sfxLastAt = {};\n\n  playSfx = (key) => {\n    if (!this.state.settings || !this.state.settings.playSounds) return;\n\n    const a = this.sfx && this.sfx[key];\n    if (!a) return;\n\n    const now = Date.now();\n    const last = this._sfxLastAt[key] || 0;\n\n    if (now - last < 80) return;\n    this._sfxLastAt[key] = now;\n\n    try {\n      if (!a.paused) a.pause();\n      a.currentTime = 0;\n\n      const p = a.play();\n      if (p && typeof p.catch === \"function\") p.catch(() => {});\n    } catch (_) {\n      // ignore\n    }\n  };\n\n  showStreakToast = (text) => {\n    if (this._streakToastTimer) clearTimeout(this._streakToastTimer);\n\n    this.setState({ streakToastOpen: true, streakToastText: text });\n\n    this._streakToastTimer = setTimeout(() => {\n      this.setState({ streakToastOpen: false, streakToastText: \"\" });\n    }, 2200);\n  };\n\n\n  openMemberGate = (mode) => {\n    // Unified UX: even if buttons look disabled, explain why.\n    const m = String(mode || \"\");\n    this.setState({ memberGateOpen: true, memberGateMode: m });\n  };\n\n  closeMemberGate = () => {\n    this.setState({ memberGateOpen: false, memberGateMode: \"\" });\n  };\n\n  goToUpgrade = () => {\n    const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n    const search = this.props && this.props.location ? this.props.location.search : \"\";\n    const from = `${pathname}${search}`;\n\n    // Prefer router state when available, fall back to hash.\n    if (this.props && this.props.history && this.props.history.push) {\n      this.props.history.push({\n        pathname: \"/about\",\n        state: { from, reason: \"membership_required\" }\n      });\n      return;\n    }\n\n    try {\n      window.location.href = \"#/about\";\n    } catch (_) {}\n  };\n\n\n  goHome = () => {\n    // Close any open mobile menus before navigating.\n    if (this.state && (this.state.mobileHeaderMenu || this.state.lineMenuOpen || this.state.settingsOpen)) {\n      this.setState({ mobileHeaderMenu: null, lineMenuOpen: false, settingsOpen: false });\n    }\n\n    // Prefer router navigation if available.\n    if (this.props && typeof this.props.navigate === \"function\") {\n      this.props.navigate(\"/\");\n      return;\n    }\n    if (this.props && this.props.history && typeof this.props.history.push === \"function\") {\n      this.props.history.push(\"/\");\n      return;\n    }\n\n    // HashRouter fallback (GitHub Pages).\n    try {\n      window.location.hash = \"/\";\n      return;\n    } catch (_) {}\n\n    // Last resort.\n    try {\n      window.location.href = \"#/\";\n    } catch (_) {}\n  };\n\n\n  closeMobileHeaderMenu = () => {\n    if (!this.state.mobileHeaderMenu) return;\n    this.setState({ mobileHeaderMenu: null });\n  };\n\n  toggleMobileHeaderMenu = (which) => {\n    const next = this.state.mobileHeaderMenu === which ? null : which;\n    this.setState({\n      mobileHeaderMenu: next,\n      lineMenuOpen: false,\n      settingsOpen: false\n    });\n  };\n\n  getFenAtIndex = (index) => {\n    const line = this.getLine();\n    if (!line) return \"start\";\n\n    const g = new Chess();\n    const n = Math.max(0, Math.min(index || 0, line.moves.length));\n\n    for (let i = 0; i < n; i += 1) {\n      const mv = g.move(line.moves[i]);\n      if (!mv) break;\n    }\n\n    return g.fen();\n  };\n\n  getViewIndex = () => {\n    return this.state.viewing ? this.state.viewIndex : this.state.stepIndex;\n  };\n\n  goToViewIndex = (nextIndex) => {\n    const line = this.getLine();\n    if (!line) return;\n\n    const clamped = Math.max(0, Math.min(nextIndex, this.state.stepIndex));\n\n    if (clamped === this.state.stepIndex) {\n      this.setState({\n        viewing: false,\n        viewIndex: clamped,\n        viewFen: this.state.fen\n      });\n      return;\n    }\n\n    this.setState({\n      viewing: true,\n      viewIndex: clamped,\n      viewFen: this.getFenAtIndex(clamped),\n      showHint: false\n    });\n  };\n\n  viewBack = () => {\n    const i = this.getViewIndex();\n    if (i <= 0) return;\n    this.goToViewIndex(i - 1);\n  };\n\n  viewForward = () => {\n    const i = this.getViewIndex();\n    if (i >= this.state.stepIndex) return;\n    this.goToViewIndex(i + 1);\n  };\n\n  viewLive = () => {\n    this.goToViewIndex(this.state.stepIndex);\n  };\n\n  undoMistake = () => {\n    if (!this.state.lastMistake && !this.state.wrongAttempt) return;\n    this.setState({\n      fen: this.game.fen(),\n      wrongAttempt: null,\n      lastMistake: null,\n      completed: false,\n      showHint: false\n    });\n  };\n\n  resetLine = (keepUnlocked) => {\n    this.game.reset();\n    this.setState(\n      {\n        fen: \"start\",\n        stepIndex: 0,\n      viewing: false,\n      viewIndex: 0,\n      viewFen: \"start\",\n        completed: false,\n        mistakeUnlocked: keepUnlocked ? this.state.mistakeUnlocked : false,\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        selectedSquare: null,\n        legalTargets: [],\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        learnRewardPending: false,\n        learnNextReady: false\n      },\n      () => {\n        this._countedSeenForRun = false;\n        this.bumpSeenForMode();\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  startRandomLine = () => {\n    const lines = this.getLines();\n    const nextId = pickRandomLineId(lines, this.state.lineId);\n    if (!nextId) return;\n    this.setState(\n      {\n        lineId: nextId,\n        sessionLineId: nextId,\n        practiceForceRepeat: false,\n        linePicker: \"random\",\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        drillRunDead: false\n      },\n      () => {\n        const mode = this.state.gameMode || \"learn\";\n        if (mode === \"practice\" && this.state.linePicker === \"random\") {\n          this.startPracticeLine({ reason: \"next\" });\n          return;\n        }\n        if (mode === \"learn\" && this.state.linePicker === \"random\") {\n          this.startLearnLine({ reason: \"next\" });\n          return;\n        }\n        this.resetLine(false);\n      }\n    );\n  };\n\n\n\nnextLine = () => {\n  const mode = this.state.gameMode || \"learn\";\n\n  // Practice: Next always advances to the next practice-picked line\n  if (mode === \"practice\") {\n    this.startPracticeLine({ reason: \"next_button\" });\n    return;\n  }\n\n  // Learn: only use the learn picker when Random is selected\n  if (this.state.linePicker === \"random\" && mode === \"learn\") {\n    this.startLearnLine({ reason: \"next_button\" });\n    return;\n  }\n\n  // Drill and fixed-line selections fall back to random selection\n  this.startRandomLine();\n};\n\n\n\n  startPracticeLine = (opts) => {\n    const _reason = opts && opts.reason ? String(opts.reason) : \"\";\n    if (_reason) {\n      // reserved for future analytics hooks\n    }\n    const openingKey = this.state.openingKey;\n    const lineIdsRaw = getOrderedLineIds(openingKey);\n    const lineIds = (lineIdsRaw && lineIdsRaw.length) ? lineIdsRaw : this.getLines().map((l) => l.id);\n    const shouldExcludeRecent = (_reason === \"clean_complete\" || _reason === \"next_button\")\n      && !this.state.practiceForceRepeat;\n\n    const excludeLineIds = shouldExcludeRecent\n      ? [this.state.lineId, this.state.prevPracticeLineId].filter(Boolean).map(String)\n      : [];\n\n    const nextId = pickNextPracticeLineId({\n      openingKey,\n      lineIds,\n      progress: this.state.progress,\n      getLineStats,\n      lastLineId: this.state.lineId,\n      forceRepeatLineId: this.state.practiceForceRepeat ? this.state.lineId : null,\n      excludeLineIds\n    });\n\n    const safeNextId = nextId || (lineIds && lineIds.length ? lineIds[0] : null);\n    if (!safeNextId) return;\n\n    this.setState(\n      {\n        lineId: safeNextId,\n        sessionLineId: safeNextId,\n        linePicker: \"random\",\n        practiceForceRepeat: false,\n        prevPracticeLineId: this.state.lineId,\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        learnRewardPending: false,\n        learnNextReady: false,\n        drillRunDead: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  startLearnLine = (opts) => {\n    const _reason = opts && opts.reason ? String(opts.reason) : \"\";\n    if (_reason) {\n      // reserved for future analytics hooks\n    }\n\n    const openingKey = this.state.openingKey;\n    const lineIdsRaw = getOrderedLineIds(openingKey);\n    const lineIds = (lineIdsRaw && lineIdsRaw.length) ? lineIdsRaw : this.getLines().map((l) => l.id);\n    const shouldExcludeRecent = (_reason === \"clean_complete\" || _reason === \"next_button\")\n      && !this.state.learnForceRepeat;\n\n    const recent = Array.isArray(this.state.learnRecentLineIds) ? this.state.learnRecentLineIds : [];\n    const excludeLineIds = shouldExcludeRecent\n      ? [this.state.lineId, this.state.prevLearnLineId].concat(recent).filter(Boolean).map(String).slice(0, 6)\n      : [];\n\n    let nextId = _pickNextLearnFromBag({\n      openingKey,\n      lineIds,\n      excludeLineIds,\n      lastLineId: this.state.lineId,\n      forceRepeatLineId: this.state.learnForceRepeat ? this.state.lineId : null\n    });\n\n    // Safety: if bag selection fails for any reason, fall back to weighted picker\n    if (!nextId) {\n      nextId = pickNextLearnLineId({\n        openingKey,\n        lineIds,\n        learnProgress: this.state.learnProgress,\n        getLearnLineStats: getLearnLineStats,\n        lastLineId: this.state.lineId,\n        forceRepeatLineId: this.state.learnForceRepeat ? this.state.lineId : null,\n        excludeLineIds\n      });\n    }\n\n    const safeNextId = nextId || (lineIds && lineIds.length ? lineIds[0] : null);\n    if (!safeNextId) return;\n\n    this.setState(\n      {\n        lineId: safeNextId,\n        sessionLineId: safeNextId,\n        linePicker: \"random\",\n        learnForceRepeat: false,\n        prevLearnLineId: this.state.lineId,\n        learnRecentLineIds: [this.state.lineId].concat(recent).filter(Boolean).map(String).slice(0, 6),\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        learnRewardPending: false,\n        learnNextReady: false,\n        drillRunDead: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n  startLine = () => {\n    this.resetLine(true);\n  };\n\n  retryLine = () => {\n    this.resetLine(true);\n  };\n\n  setOpeningKey = (e) => {\n    const nextKey = e && e.target ? e.target.value : \"london\";\n    if (this.maybeRedirectForLockedOpening(nextKey)) return;\n    const nextSet = OPENING_SETS[nextKey] || OPENING_SETS.london;\n    const nextLines = nextSet.lines || [];\n    \nconst orderedIdsRaw = getOrderedLineIds(nextKey);\nconst orderedIds = (orderedIdsRaw && orderedIdsRaw.length) ? orderedIdsRaw : nextLines.map((l) => l.id);\n\nlet nextId = \"\";\n\nif (this.state.linePicker === \"random\" && this.state.gameMode === \"practice\") {\n  nextId = pickNextPracticeLineId({\n    openingKey: nextKey,\n    lineIds: orderedIds,\n    progress: this.state.progress,\n    getLineStats,\n    lastLineId: null,\n    forceRepeatLineId: null\n  }) || \"\";\n} else if (this.state.linePicker === \"random\" && this.state.gameMode === \"learn\") {\n  nextId = _pickNextLearnFromBag({\n    openingKey: nextKey,\n    lineIds: orderedIds,\n    excludeLineIds: [],\n    lastLineId: null,\n    forceRepeatLineId: null\n  }) || \"\";\n} else {\n  nextId = pickRandomLineId(nextLines, null) || \"\";\n}\n\nif (!nextId) nextId = nextLines[0] ? nextLines[0].id : \"\";\n\n    this.setState(\n      {\n        openingKey: nextKey,\n        lineId: nextId,\n        linePicker: \"random\",\n        prevPracticeLineId: null,\n        prevLearnLineId: null,\n        learnRecentLineIds: [],\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        drillRunDead: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  setLinePicker = (e) => {\n    const val = e && e.target ? e.target.value : \"random\";\n    if (!val) return;\n    if (val === \"__divider__\") return;\n\n    if (val === \"random\") {\n      this.setState({ linePicker: \"random\", practiceForceRepeat: false }, () => {\n        const mode = this.state.gameMode || \"learn\";\n        if (mode === \"practice\") {\n          this.startPracticeLine({ reason: \"picker_random\" });\n          return;\n        }\n        if (mode === \"learn\") {\n          this.startLearnLine({ reason: \"picker_random\" });\n          return;\n        }\n        this.startRandomLine();\n      });\n      return;\n    }\n\n    this.setState(\n      {\n        linePicker: val,\n        lineId: val,\n        sessionLineId: val,\n        practiceForceRepeat: false,\n        prevPracticeLineId: this.state.lineId,\n        prevLearnLineId: this.state.lineId,\n        learnRecentLineIds: [],\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false,\n        lastMove: null,\n        userHasPlayedThisLine: false,\n        modePanelVisible: true,\n        helpUsed: false,\n        drillRunDead: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  bumpSeen = () => {\n    if (this._countedSeenForRun) return;\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    ensureOpening(progress, openingKey);\n    progress.openings[openingKey].lastPlayedAt = Date.now();\n    const s = getLineStats(progress, openingKey, lineId);\n    s.timesSeen += 1;\n    s.lastSeenAt = Date.now();\n\n    saveProgress(progress);\n    this._countedSeenForRun = true;\n    this.setState({ progress });\n  };\n\n  bumpMistake = () => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    const s = getLineStats(progress, openingKey, lineId);\n    s.lastResult = \"fail\";\n    s.timesFailed = (Number(s.timesFailed) || 0) + 1;\n    s.lastFailedAt = Date.now();\n    saveProgress(progress);\n\n    const patch = { progress };\n    if ((this.state.gameMode || \"learn\") === \"practice\") {\n      patch.practiceForceRepeat = true;\n    }\n\n    this.setState(patch);\n  };\n\n  bumpCompleted = (wasClean) => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    ensureOpening(progress, openingKey);\n    const o = progress.openings[openingKey];\n    const s = getLineStats(progress, openingKey, lineId);\n\n    s.timesCompleted += 1;\n    s.lastResult = wasClean ? \"success\" : \"fail\";\n    s.lastSeenAt = Date.now();\n\n    o.totalCompleted = (o.totalCompleted || 0) + 1;\n    o.completedToday = (o.completedToday || 0) + 1;\n\n    if (wasClean) {\n      s.timesClean += 1;\n      o.totalClean = (o.totalClean || 0) + 1;\n      o.streak = (o.streak || 0) + 1;\n      o.bestStreak = Math.max(o.bestStreak || 0, o.streak);\n    } else {\n      o.streak = 0;\n      s.timesFailed = (Number(s.timesFailed) || 0) + 1;\n      s.lastFailedAt = Date.now();\n    }\n\n    saveProgress(progress);\n    this.setState({ progress });\n  };\n\n  bumpLearnSeen = () => {\n    if (this._countedSeenForRun) return;\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const learnProgress = { ...this.state.learnProgress };\n    ensureLearnOpening(learnProgress, openingKey);\n    learnProgress.openings[openingKey].lastPlayedAt = Date.now();\n\n    const s = getLearnLineStats(learnProgress, openingKey, lineId);\n    s.timesSeen += 1;\n    s.lastSeenAt = Date.now();\n\n    saveLearnProgress(learnProgress);\n    this._countedSeenForRun = true;\n    this.setState({ learnProgress });\n  };\n\n  bumpLearnMistake = () => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const learnProgress = { ...this.state.learnProgress };\n    const s = getLearnLineStats(learnProgress, openingKey, lineId);\n    s.lastResult = \"fail\";\n    s.timesFailed = (Number(s.timesFailed) || 0) + 1;\n    s.lastFailedAt = Date.now();\n\n    saveLearnProgress(learnProgress);\n    this.setState({ learnProgress, learnForceRepeat: true });\n  };\n\n  bumpLearnCompleted = (wasClean) => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const learnProgress = { ...this.state.learnProgress };\n    ensureLearnOpening(learnProgress, openingKey);\n    const s = getLearnLineStats(learnProgress, openingKey, lineId);\n\n    s.timesCompleted += 1;\n    s.lastResult = wasClean ? \"success\" : \"fail\";\n    s.lastSeenAt = Date.now();\n\n    if (wasClean) {\n      s.timesClean += 1;\n    }\n\n    saveLearnProgress(learnProgress);\n    this.setState({ learnProgress });\n  };\n\n  bumpSeenForMode = () => {\n    const mode = this.state.gameMode || \"learn\";\n    if (mode === \"drill\") return;\n    if (mode === \"learn\") {\n      this.bumpLearnSeen();\n    } else {\n      this.bumpSeen();\n    }\n  };\n\n  bumpMistakeForMode = () => {\n    const mode = this.state.gameMode || \"learn\";\n    if (mode === \"drill\") return;\n    if (mode === \"learn\") {\n      this.bumpLearnMistake();\n    } else {\n      this.bumpMistake();\n    }\n  };\n\n  bumpCompletedForMode = (wasClean) => {\n    const mode = this.state.gameMode || \"learn\";\n    if (mode === \"drill\") return;\n    if (mode === \"learn\") {\n      this.bumpLearnCompleted(wasClean);\n    } else {\n      this.bumpCompleted(wasClean);\n    }\n  };\n\n\n\n  playAutoMovesIfNeeded = () => {\n    const line = this.getLine();\n    if (!line) return;\n\n    let stepIndex = this.state.stepIndex;\n    const playerColor = this.getPlayerColor();\n\n    let didAutoMove = false;\n    let lastAutoMove = null;\n\n    while (stepIndex < line.moves.length && this.game.turn() !== playerColor) {\n      const expected = line.moves[stepIndex];\n      const mv = this.game.move(expected);\n      if (!mv) {\n        this.setState({ fen: this.game.fen() });\n        return;\n      }\n      lastAutoMove = mv;\n      stepIndex += 1;\n      didAutoMove = true;\n    }\n\n    const completed = stepIndex >= line.moves.length;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: stepIndex,\n        completed: completed,\n        lastMove: lastAutoMove ? { from: lastAutoMove.from, to: lastAutoMove.to } : this.state.lastMove\n      },\n      () => {\n        if (didAutoMove) this.playSfx(\"moveOpponent\");\n        if (completed) this.onCompletedLine();\n      }\n    );\n  };\n\nonCompletedLine = () => {\n  if (this._autoNextTimer) clearTimeout(this._autoNextTimer);\n  if (this._confettiTimer) clearTimeout(this._confettiTimer);\n\n  const streakResult = markLineCompletedTodayDetailed();\n  if (streakResult && streakResult.didMarkToday && streakResult.state) {\n    const s = streakResult.state;\n    this.showStreakToast(` ${s.current}`);\n  }\n\n  // Mark daily activity for every completed line (heatmap counts lines per day)\n  try { markActivityToday(); } catch (_) {}\n\n  const mode = this.state.gameMode || \"learn\";\n\n  const wasClean = !this.state.mistakeUnlocked && !this.state.helpUsed;\n\n  this.bumpCompletedForMode(wasClean);\n\n  const hasPaidAccess = !!(this.props.user && this.props.membershipActive === true);\n\n  if (!hasPaidAccess && mode === \"learn\") {\n    const nextCount = incFreeDrillsCount(this.state.openingKey);\n    if (nextCount >= 3) {\n      try {\n        if (this.props && this.props.history && this.props.history.replace) {\n          const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n          const search = this.props && this.props.location ? this.props.location.search : \"\";\n          const from = `${pathname}${search}`;\n\n          this.props.history.replace({\n            pathname: \"/about\",\n            state: { from, reason: \"trial_required\" }\n          });\n        }\n      } catch (_) {}\n    }\n  }\n\n  if (mode === \"practice\" && !wasClean) {\n    // Practice still advances, but unclean completions will be prioritized again soon.\n    this.setState({ modePanelVisible: true });\n  }\n\n  if (mode === \"learn\" && !wasClean) {\n    // Learn repeats until clean completion.\n    this.setState({ learnForceRepeat: true, modePanelVisible: true });\n\n    if (this._autoNextTimer) clearTimeout(this._autoNextTimer);\n    this._autoNextTimer = setTimeout(() => {\n      this.resetLine(false);\n      this.playAutoMovesIfNeeded();\n    }, 700);\n\n    return;\n  }\n\n  if (mode === \"drill\") {\n    const nextStreak = this.state.drillRunDead ? 0 : (Number(this.state.drillStreak) || 0) + 1;\n    const nextBest = Math.max(Number(this.state.drillBestAllTime) || 0, nextStreak);\n\n    const statsNow = this.loadDrillStats();\n    const todayKey = this.getTodayKey();\n    const weekKey = this.getIsoWeekKey();\n    const monthKey = this.getMonthKey();\n\n    let bestDay = Number(statsNow.bestDay) || 0;\n    let bestWeek = Number(statsNow.bestWeek) || 0;\n    let bestMonth = Number(statsNow.bestMonth) || 0;\n\n    if (statsNow.dayKey !== todayKey) bestDay = 0;\n    if (statsNow.weekKey !== weekKey) bestWeek = 0;\n    if (statsNow.monthKey !== monthKey) bestMonth = 0;\n\n    bestDay = Math.max(bestDay, nextStreak);\n    bestWeek = Math.max(bestWeek, nextStreak);\n    bestMonth = Math.max(bestMonth, nextStreak);\n\n    const nextStats = {\n      bestAllTime: Math.max(Number(statsNow.bestAllTime) || 0, nextStreak),\n      dayKey: todayKey,\n      bestDay,\n      weekKey,\n      bestWeek,\n      monthKey,\n      bestMonth\n    };\n\n    this.saveDrillStats(nextStats);\n    this.maybeWriteDrillStatsToFirestore(nextStats);\n\n    this.setState({\n      drillStreak: nextStreak,\n      drillBestAllTime: nextBest,\n      drillRunDead: false,\n      modePanelVisible: true\n    });\n  } else {\n    this.setState({ modePanelVisible: true });\n  }\n\n  // Confetti + Learn reward gating for Next\n  const wantsConfetti = !!(this.state.settings && this.state.settings.showConfetti);\n\n  // Next is a Learn only reward, reset it on every completion\n  if (mode === \"learn\") {\n    this.setState({ learnNextReady: false, learnRewardPending: wasClean });\n  }\n\n  if (wantsConfetti) {\n    this.setState({ confettiActive: true });\n\n    this._confettiTimer = setTimeout(() => {\n      this.setState((prev) => {\n        const next = { confettiActive: false };\n\n        // If Learn just completed cleanly, unlock Next after confetti ends\n        if (prev.gameMode === \"learn\" && prev.learnRewardPending) {\n          next.learnNextReady = true;\n          next.learnRewardPending = false;\n        }\n\n        return next;\n      });\n    }, 1200);\n  } else {\n    this.setState((prev) => {\n      const next = { confettiActive: false };\n\n      // If confetti is disabled, unlock Next immediately on clean Learn completion\n      if (mode === \"learn\" && wasClean) {\n        next.learnNextReady = true;\n        next.learnRewardPending = false;\n      }\n\n      return next;\n    });\n  }\n\n  if (mode === \"practice\") {\n    this._autoNextTimer = setTimeout(() => {\n      this.startPracticeLine({ reason: \"clean_complete\" });\n    }, 900);\n    return;\n  }\n\n  if (mode === \"drill\") {\n    this._autoNextTimer = setTimeout(() => {\n      this.startRandomLine();\n    }, 900);\n  }\n};\n\n  onDrop = ({ sourceSquare, targetSquare }) => {\n    if (this.state.completed) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    const mode = this.state.gameMode || \"learn\";\n\n    const move = this.game.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\"\n    });\n\n    if (!move) return;\n\n    // Any legal move counts as activity (throttled to avoid spam)\n    try { touchActivityToday(); } catch (_) {}\n\n    const playedSAN = move.san;\n\n    if (playedSAN !== expected) {\n      this.playSfx(\"illegal\");\n\n      this.bumpMistakeForMode();\n      this.game.undo();\n\n      if (mode === \"drill\") {\n        this.setState({\n          fen: this.game.fen(),\n          completed: false,\n          showHint: false,\n          solveArmed: false,\n          hintFromSquare: null,\n          lastMistake: {\n            expected: expected,\n            played: playedSAN,\n            explanation: \"\"\n          },\n          wrongAttempt: {\n            from: sourceSquare,\n            to: targetSquare\n          },\n          selectedSquare: null,\n          legalTargets: [],\n          userHasPlayedThisLine: true,\n          modePanelVisible: false,\n          drillStreak: 0,\n          drillRunDead: true\n        });\n\n        return;\n      }\n\n      const explanation = line.explanations[this.state.stepIndex] || \"\";\n\n      this.setState({\n        fen: this.game.fen(),\n        completed: false,\n        mistakeUnlocked: true,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        lastMistake: {\n          expected: expected,\n          played: playedSAN,\n          explanation: explanation\n        },\n        wrongAttempt: {\n          from: sourceSquare,\n          to: targetSquare\n        },\n        selectedSquare: null,\n        legalTargets: [],\n        userHasPlayedThisLine: true,\n        modePanelVisible: false\n      });\n\n      return;\n    }\n\n    const flags = typeof move.flags === \"string\" ? move.flags : \"\";\n    const isCapture = flags.includes(\"c\") || flags.includes(\"e\");\n    this.playSfx(isCapture ? \"capture\" : \"moveSelf\");\n\n    const nextStep = this.state.stepIndex + 1;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: nextStep,\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        selectedSquare: null,\n        legalTargets: [],\n        lastMove: { from: sourceSquare, to: targetSquare },\n        userHasPlayedThisLine: true,\n        modePanelVisible: false\n      },\n      () => {\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  allowDrag = ({ piece }) => {\n    if (this.state.completed) return false;\n    if (this.state.wrongAttempt) return false;\n    if (this.state.viewing) return false;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return false;\n\n    return piece && piece.charAt(0) === playerColor;\n  };\n\n  clearSelection = () => {\n    if (this.state.selectedSquare || (this.state.legalTargets && this.state.legalTargets.length)) {\n      this.setState({ selectedSquare: null, legalTargets: [] });\n    }\n  };\n\n  getLegalTargets = (fromSquare) => {\n    if (!fromSquare) return [];\n    try {\n      const moves = this.game.moves({ square: fromSquare, verbose: true });\n      if (!moves || !moves.length) return [];\n      return moves.map((m) => m.to);\n    } catch (_) {\n      return [];\n    }\n  };\n\n  onSquareClick = (square) => {\n    if (this.state.completed) return;\n    if (this.state.wrongAttempt) return;\n    if (this.state.viewing) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const piece = this.game.get(square);\n\n    if (!this.state.selectedSquare) {\n      if (!piece || piece.color !== playerColor) return;\n\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    if (square === this.state.selectedSquare) {\n      this.clearSelection();\n      return;\n    }\n\n    if (piece && piece.color === playerColor) {\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    const from = this.state.selectedSquare;\n    const to = square;\n\n    this.setState({ selectedSquare: null, legalTargets: [] }, () => {\n      this.onDrop({ sourceSquare: from, targetSquare: to });\n    });\n  };\n\n  onSquareRightClick = () => {\n    this.clearSelection();\n  };\n\n  stripMovePrefix = (text) => {\n  if (!text) return \"\";\n  const s = String(text).trim();\n\n  const idx = s.indexOf(\":\");\n  if (idx > 0 && idx <= 8) {\n    const head = s.slice(0, idx).trim();\n    const isSAN =\n      head === \"O-O\" ||\n      head === \"O-O-O\" ||\n      /^[KQRBN]?[a-h]?[1-8]?x?[a-h][1-8](=[QRBN])?[+#]?$/.test(head) ||\n      /^[a-h][1-8](=[QRBN])?[+#]?$/.test(head);\n\n    if (isSAN) return s.slice(idx + 1).trim();\n  }\n\n  return s;\n};\n\nsanitizeExplanation = (text, expectedSan) => {\n  let s = this.stripMovePrefix(text);\n  if (!s) return \"\";\n\n  if (expectedSan) {\n    const esc = String(expectedSan).replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    const reSan = new RegExp(\"\\\\b\" + esc + \"\\\\b\", \"g\");\n    s = s.replace(reSan, \"this move\");\n  }\n\n  return s;\n};\n\n\nrenderCoachBubble = (line) => {\n  if (!line) return null;\n\n  const mode = this.state.gameMode || \"learn\";\n  const unlocked =\n    mode === \"learn\"\n      ? true\n      : mode === \"practice\"\n      ? !!this.state.mistakeUnlocked || !!this.state.helpUsed\n      : false;\n\n  const coachIndex = this.getViewIndex();\n  const raw = unlocked\n    ? line.explanations[coachIndex] || \"\"\n    : mode === \"drill\"\n    ? \"No help in Drill Mode\"\n    : \"What's the best move?\";\n\n  const text = unlocked ? this.stripMovePrefix(raw) : raw;\n\n  return (\n    <div className=\"ot-bubble\">\n      <div className=\"ot-bubble-row\">\n        <div className=\"ot-buddy\" title=\"Your drill buddy\"></div>\n        <div className=\"ot-coach-text\">{text}</div>\n      </div>\n    </div>\n  );\n};\n\nrenderCoachArea = (line, doneYourMoves, totalYourMoves, expectedSan) => {\n  if (!line) return null;\n\n  const canUndo = !!(this.state.lastMistake || this.state.wrongAttempt);\n\n  const mode = this.state.gameMode || \"learn\";\n\n  const unlocked = mode === \"learn\" ? true : mode === \"practice\" ? (!!this.state.mistakeUnlocked || !!this.state.helpUsed) : false;\n\n  const coachIndex = this.getViewIndex();\n  const raw = unlocked ? (line.explanations[coachIndex] || \"\") : mode === \"drill\" ? \"No help in Drill Mode\" : \"What's the best move?\";\n  const text = unlocked ? this.stripMovePrefix(raw) : raw;\n\n  return (\n    <div className=\"ot-coach\" style={{ position: \"relative\" }}>\n      <div className=\"ot-coach-head\">\n        <div className=\"ot-coach-left\">\n          <div className=\"ot-coach-title\">\n            <button className=\"ot-mode-pill ot-pill-btn\" onClick={() => this.toggleMobileHeaderMenu(\"mode\")} title=\"Mode\" aria-label=\"Mode\">\n              {mode === \"learn\" ? (\n                <>\n                  <span role=\"img\" aria-label=\"learn\"></span> Learn\n                </>\n              ) : mode === \"practice\" ? (\n                <>\n                  <span role=\"img\" aria-label=\"practice\"></span> Practice\n                </>\n              ) : (\n                <>\n                  <span role=\"img\" aria-label=\"drill\"></span> Drill\n                </>\n              )}\n            </button>\n            <button className=\"ot-open-pill ot-pill-btn\" onClick={() => this.toggleMobileHeaderMenu(\"opening\")} title=\"Opening\" aria-label=\"Opening\">{(() => { const s = OPENING_SETS[this.state.openingKey]; return (s && (s.name || s.title || s.label)) || this.state.openingKey; })()} </button>\n            <button className=\"ot-line-pill ot-pill-btn\" onClick={() => this.toggleMobileHeaderMenu(\"line\")} title=\"Line\" aria-label=\"Line\">{line.name} </button>\n          </div>\n        </div>\n\n        <div className=\"ot-card-head-right\">\n          <span className=\"ot-mini-count\">\n            {doneYourMoves}/{totalYourMoves}\n          </span>\n          {mode === \"drill\" ? (\n            <div className=\"ot-drill-stats\">\n              <div className=\"ot-drill-stat\">\n                <div className=\"ot-drill-label\">Score</div>\n                <div className=\"ot-drill-value\">{Number(this.state.drillStreak) || 0}</div>\n              </div>\n              <div className=\"ot-drill-stat\">\n                <div className=\"ot-drill-label\">High</div>\n                <div className=\"ot-drill-value\">{Number(this.state.drillBestAllTime) || 0}</div>\n              </div>\n            </div>\n          ) : null}\n          {canUndo ? (\n            <button className=\"ot-mini-btn\" onClick={this.undoMistake} title=\"Undo mistake\">\n              Undo\n            </button>\n          ) : null}\n        \n      {!this.state.isMobile && this.state.mobileHeaderMenu ? (\n        <div\n          className=\"ot-desktop-pill-menu\"\n          ref={(el) => (this._desktopMenuEl = el)}\n          onClick={(e) => e.stopPropagation()}\n          style={{ position: \"absolute\", top: 44, right: 12, width: 280, maxHeight: 360, overflowY: \"auto\", padding: 10, borderRadius: 14, background: \"rgba(10, 10, 12, 0.96)\", border: \"1px solid rgba(255,255,255,0.12)\", boxShadow: \"0 16px 40px rgba(0,0,0,0.45)\", zIndex: 9999 }}\n        >\n          {this.state.mobileHeaderMenu === \"mode\" ? (\n            <>\n              <div className=\"ot-mobile-menu-title\">Mode</div>\n              <div className=\"ot-mode-list\">\n                <button className=\"ot-mode-item\" onClick={() => { this.setGameMode(\"learn\"); this.closeMobileHeaderMenu(); }}>\n                  <span><span role=\"img\" aria-label=\"learn\"></span> Learn</span>\n                  <span />\n                </button>\n\n                <button\n                  className={\"ot-mode-item\" + (!this.props.user || !this.props.isMember ? \" locked\" : \"\")}\n                  onClick={() => { this.setGameMode(\"practice\"); this.closeMobileHeaderMenu(); }}\n                >\n                  <span><span role=\"img\" aria-label=\"practice\"></span> Practice</span>\n                  <span>{!this.props.user || !this.props.isMember ? \"Member\" : \"\"}</span>\n                </button>\n\n                <button\n                  className={\"ot-mode-item\" + (!this.props.user || !this.props.isMember ? \" locked\" : \"\")}\n                  onClick={() => { this.setGameMode(\"drill\"); this.closeMobileHeaderMenu(); }}\n                >\n                  <span><span role=\"img\" aria-label=\"drill\"></span> Drill</span>\n                  <span>{!this.props.user || !this.props.isMember ? \"Member\" : \"\"}</span>\n                </button>\n              </div>\n            </>\n          ) : this.state.mobileHeaderMenu === \"opening\" ? (\n            <>\n              <div className=\"ot-mobile-menu-title\">Opening</div>\n              <select\n                className=\"ot-select\"\n                value={this.state.openingKey}\n                onChange={(e) => {\n                  this.setOpeningKey(e);\n                  this.closeMobileHeaderMenu();\n                }}\n              >\n                {Object.keys(OPENING_SETS).map((k) => {\n                  const s = OPENING_SETS[k];\n                  const label = (s && (s.name || s.title || s.label)) || k;\n                  return (\n                    <option key={k} value={k}>\n                      {label}\n                    </option>\n                  );\n                })}\n              </select>\n            </>\n          ) : (\n            <>\n              <div className=\"ot-mobile-menu-title\">Line</div>\n              <select\n                className=\"ot-line-select ot-line-select-compact\"\n                value={this.state.linePicker}\n                onChange={(e) => {\n                  this.setLinePicker(e);\n                  this.closeMobileHeaderMenu();\n                }}\n              >\n                <option value=\"random\">Random line</option>\n                <option value=\"__divider__\" disabled>\n                  \n                </option>\n\n                {(() => {\n                  const grouped = groupLines(this.getLines());\n                  return grouped.cats.map((cat) => {\n                    const arr = grouped.map[cat] || [];\n                    return (\n                      <optgroup key={cat} label={cat}>\n                        {arr.map((l) => {\n                          const s = getLineStats(this.state.progress, this.state.openingKey, l.id);\n                          const symbol = isCompleted(s) ? \"\" : s.timesSeen > 0 ? \"\" : \"\";\n                          return (\n                            <option key={l.id} value={l.id}>\n                              {symbol} {l.name}\n                            </option>\n                          );\n                        })}\n                      </optgroup>\n                    );\n                  });\n                })()}\n              </select>\n            </>\n          )}\n        </div>\n      ) : null}\n\n</div>\n      </div>\n\n      <div className=\"ot-bubble\">\n        <div className=\"ot-bubble-row\">\n          <div className=\"ot-buddy\" title=\"Your drill buddy\"></div>\n          <div className=\"ot-coach-text\">{text}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n  setGameMode = (nextMode) => {\n    const mode = nextMode || \"learn\";\n\n    const hasPaidAccess = !!(this.props.user && this.props.membershipActive === true);\n\n    // Practice and Drill are always premium (Stripe trial counts as premium).\n    if ((mode === \"practice\" || mode === \"drill\") && !hasPaidAccess) {\n      if (this.props && this.props.history && this.props.history.replace) {\n        const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n        const search = this.props && this.props.location ? this.props.location.search : \"\";\n        const from = `${pathname}${search}`;\n\n        this.props.history.replace({\n          pathname: \"/about\",\n          state: { from, reason: \"membership_required\" }\n        });\n      } else {\n        this.openMemberGate(mode);\n      }\n      return;\n    }\n\n    // Free users (logged out or free account) get up to 3 completed Learn drills per opening.\n    if (mode === \"learn\" && !hasPaidAccess) {\n      const openingKey = this.state.openingKey;\n      const used = getFreeDrillsCount(openingKey);\n\n      if (used >= 3) {\n        if (this.props && this.props.history && this.props.history.replace) {\n          const pathname = this.props && this.props.location ? this.props.location.pathname : \"/openings\";\n          const search = this.props && this.props.location ? this.props.location.search : \"\";\n          const from = `${pathname}${search}`;\n\n          this.props.history.replace({\n            pathname: \"/about\",\n            state: { from, reason: \"trial_required\" }\n          });\n        }\n        return;\n      }\n    }\n\n    if (mode === this.state.gameMode) return;\n\n    this.setState(\n      {\n        gameMode: mode,\n        modePanelVisible: true,\n        userHasPlayedThisLine: false,\n        helpUsed: false,\n        learnRewardPending: false,\n        learnNextReady: false,\n        drillStreak: mode === \"drill\" ? 0 : this.state.drillStreak,\n        drillRunDead: false,\n        mistakeUnlocked: false,\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        completed: false,\n        lastMove: null,\n        selectedSquare: null,\n        legalTargets: []\n      },\n      () => {\n        if (mode === \"practice\" && this.state.linePicker === \"random\") {\n          this.startPracticeLine({ reason: \"mode_enter\" });\n          return;\n        }\n        if (mode === \"learn\" && this.state.linePicker === \"random\") {\n          this.startLearnLine({ reason: \"mode_enter\" });\n          return;\n        }\n        this.resetLine(false);\n      }\n    );\n  };// ---- Drill stats + keys (localStorage + optional Firestore) ----\n  getTodayKey = () => {\n    const d = new Date();\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, \"0\");\n    const day = String(d.getDate()).padStart(2, \"0\");\n    return `${y}-${m}-${day}`;\n  };\n\n  getMonthKey = () => {\n    const d = new Date();\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, \"0\");\n    return `${y}-${m}`;\n  };\n\n  getIsoWeekKey = () => {\n    // ISO week date (yyyy-Www)\n    const d = new Date();\n    // Copy and force UTC to avoid DST weirdness\n    const date = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));\n    // Thursday in current week decides the year\n    const dayNum = date.getUTCDay() || 7;\n    date.setUTCDate(date.getUTCDate() + 4 - dayNum);\n    const yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1));\n    const weekNo = Math.ceil(((date - yearStart) / 86400000 + 1) / 7);\n    return `${date.getUTCFullYear()}-W${String(weekNo).padStart(2, \"0\")}`;\n  };\n\n  loadDrillStats = () => {\n    const key = \"chessdrills.drill_stats.v1\";\n    try {\n      const raw = window.localStorage.getItem(key);\n      if (!raw) {\n        return {\n          bestAllTime: 0,\n          dayKey: this.getTodayKey(),\n          bestDay: 0,\n          weekKey: this.getIsoWeekKey(),\n          bestWeek: 0,\n          monthKey: this.getMonthKey(),\n          bestMonth: 0\n        };\n      }\n      const obj = JSON.parse(raw);\n\n      return {\n        bestAllTime: Number(obj.bestAllTime) || 0,\n        dayKey: String(obj.dayKey || this.getTodayKey()),\n        bestDay: Number(obj.bestDay) || 0,\n        weekKey: String(obj.weekKey || this.getIsoWeekKey()),\n        bestWeek: Number(obj.bestWeek) || 0,\n        monthKey: String(obj.monthKey || this.getMonthKey()),\n        bestMonth: Number(obj.bestMonth) || 0\n      };\n    } catch (_) {\n      return {\n        bestAllTime: 0,\n        dayKey: this.getTodayKey(),\n        bestDay: 0,\n        weekKey: this.getIsoWeekKey(),\n        bestWeek: 0,\n        monthKey: this.getMonthKey(),\n        bestMonth: 0\n      };\n    }\n  };\n\n  saveDrillStats = (stats) => {\n    const key = \"chessdrills.drill_stats.v1\";\n    try {\n      window.localStorage.setItem(key, JSON.stringify(stats || {}));\n    } catch (_) {}\n  };\n\n  writeDrillStatsToFirestore = async (stats) => {\n    // No anticheat. Just best streaks reported by client.\n    const user = this.props && this.props.user;\n    const uid = user && user.uid;\n    if (!uid) return;\n\n    try {\n      const ref = doc(db, \"users\", uid);\n      await setDoc(\n        ref,\n        {\n          drillLeaderboard: {\n            bestAllTime: Number(stats.bestAllTime) || 0,\n            dayKey: String(stats.dayKey || \"\"),\n            bestDay: Number(stats.bestDay) || 0,\n            weekKey: String(stats.weekKey || \"\"),\n            bestWeek: Number(stats.bestWeek) || 0,\n            monthKey: String(stats.monthKey || \"\"),\n            bestMonth: Number(stats.bestMonth) || 0,\n            updatedAt: serverTimestamp()\n          }\n        },\n        { merge: true }\n      );\n    } catch (_) {\n      // ignore write errors (offline, permissions, etc)\n    }\n  };\n\n\n  renderModePanel = () => {\n    const mode = this.state.gameMode || \"learn\";\n    const show = !this.state.userHasPlayedThisLine || this.state.completed;\n    if (!show) return null;\n\n    return (\n      <div className=\"ot-mode-panel\">\n        <button\n          className={\"ot-mode-card ot-mode-card-big\" + (mode === \"learn\" ? \" active\" : \"\") + ((!this.props.user || (!this.props.isMember && !false)) ? \" locked\" : \"\")}\n          onClick={() => this.setGameMode(\"learn\")}\n          type=\"button\"\n        >\n          <div className=\"ot-mode-card-title\"><span role=\"img\" aria-label=\"learn\"></span> Learn</div>\n          <div className=\"ot-mode-card-sub\">Explanations on. Repeat until clean.</div>\n        </button>\n\n        <button\n          className={\"ot-mode-card\" + (mode === \"practice\" ? \" active\" : \"\") + (!this.props.isMember ? \" locked\" : \"\")}\n          onClick={() => (this.props.isMember ? this.setGameMode(\"practice\") : this.openMemberGate(\"practice\"))}\n          type=\"button\"\n\n        >\n          <div className=\"ot-mode-card-title\"><span role=\"img\" aria-label=\"practice\"></span> Practice</div>\n          <div className=\"ot-mode-card-sub\">Auto next. Help unlocks explanations.</div>\n        </button>\n\n        <button\n          className={\"ot-mode-card\" + (mode === \"drill\" ? \" active\" : \"\") + (!this.props.isMember ? \" locked\" : \"\")}\n          onClick={() => (this.props.isMember ? this.setGameMode(\"drill\") : this.openMemberGate(\"drill\"))}\n          type=\"button\"\n\n        >\n          <div className=\"ot-mode-card-title\"><span role=\"img\" aria-label=\"drill\"></span> Drill</div>\n          <div className=\"ot-mode-card-sub\">No hints. Streak resets on mistake.</div>\n        </button>\n      </div>\n    );\n  };\n\n\n  \n  maybeWriteDrillStatsToFirestore = async (stats) => {\n    // Best-effort write, no anticheat. Must never crash UI.\n    try {\n      const u = this.props && this.props.user ? this.props.user : null;\n      if (!u || !u.uid) return;\n\n      // Cache username so we don't read Firestore every completion.\n      let username = \"\";\n      try {\n        if (this._lbUserCache && this._lbUserCache.uid === u.uid) {\n          username = String(this._lbUserCache.username || \"\");\n        }\n      } catch (_) {}\n\n      if (!username) {\n        try {\n          const snap = await getDoc(doc(db, \"users\", u.uid));\n          if (snap.exists()) {\n            const d = snap.data() || {};\n            const un = d.username ? String(d.username).trim() : \"\";\n            const dn = d.displayName ? String(d.displayName).trim() : \"\";\n            username = un || dn || \"\";\n          }\n        } catch (_) {}\n      }\n\n      if (!username) {\n        const dn = u.displayName ? String(u.displayName).trim() : \"\";\n        const em = u.email ? String(u.email).trim() : \"\";\n        username = dn || (em ? em.split(\"@\")[0] : \"\") || \"Anonymous\";\n      }\n\n      this._lbUserCache = { uid: u.uid, username };\n\n      const packBase = (score) => ({\n        uid: u.uid,\n        username: username,\n        score: Number(score) || 0,\n        updatedAt: serverTimestamp()\n      });\n\n      const now = new Date();\n      const dayKey = dayKeyFromDate(now);\n      const weekKey = isoWeekKeyFromDate(now);\n      const monthKey = monthKeyFromDate(now);\n\n      const writes = [];\n\n      // All Time\n      writes.push(setDoc(doc(db, \"leaderboards_drill_alltime\", u.uid), packBase(stats.bestAllTime), { merge: true }));\n\n      // Daily, Weekly, Monthly (scoped keys so boards actually reset)\n      writes.push(\n        setDoc(\n          doc(db, \"leaderboards_drill_daily\", u.uid),\n          { ...packBase(stats.bestDay), dayKey },\n          { merge: true }\n        )\n      );\n      writes.push(\n        setDoc(\n          doc(db, \"leaderboards_drill_weekly\", u.uid),\n          { ...packBase(stats.bestWeek), weekKey },\n          { merge: true }\n        )\n      );\n      writes.push(\n        setDoc(\n          doc(db, \"leaderboards_drill_monthly\", u.uid),\n          { ...packBase(stats.bestMonth), monthKey },\n          { merge: true }\n        )\n      );\n\n      await Promise.all(writes);\n    } catch (_) {\n      // swallow\n    }\n  };\nrender() {\n    const line = this.getLine();\n    if (!line) return null;\n    const nextExpected = line.moves[this.state.stepIndex] || null;\n\n    const viewIndex = this.getViewIndex();\n    const coachExpected = line.moves[viewIndex] || null;\n    const boardFen = this.state.viewing ? this.state.viewFen : this.state.fen;\n    const canViewBack = viewIndex > 0;\n    const canViewForward = viewIndex < this.state.stepIndex;\n\n    const canUndo = !!(this.state.lastMistake || this.state.wrongAttempt);\n\n    const playerColor = this.getPlayerColor();\n\n    const totalYourMoves = countMovesForSide(line.moves, playerColor);\n    const doneYourMoves = countDoneMovesForSide(this.state.stepIndex, playerColor);\n\n    const yourProgressPct = totalYourMoves > 0 ? Math.round((doneYourMoves / totalYourMoves) * 100) : 0;\n\n    const squareStyles = {};\n\n    if (this.state.wrongAttempt && this.state.wrongAttempt.to) {\n      squareStyles[this.state.wrongAttempt.to] = {\n        backgroundImage: `url(\"${X_SVG_DATA_URI}\")`,\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"center\",\n        backgroundSize: \"70%\"\n      };\n    }\n\n    if (this.state.lastMove) {\n      const { from, to } = this.state.lastMove;\n      squareStyles[from] = {\n        ...(squareStyles[from] || {}),\n        backgroundColor: \"rgba(255, 215, 0, 0.45)\"\n      };\n      squareStyles[to] = {\n        ...(squareStyles[to] || {}),\n        backgroundColor: \"rgba(255, 215, 0, 0.45)\"\n      };\n    }\n\n    if (this.state.hintFromSquare) {\n      squareStyles[this.state.hintFromSquare] = {\n        background: \"rgba(80, 170, 255, 0.45)\"\n      };\n    }\n\n    if (this.state.selectedSquare) {\n      squareStyles[this.state.selectedSquare] = {\n        ...(squareStyles[this.state.selectedSquare] || {}),\n        boxShadow: \"inset 0 0 0 3px rgba(170, 80, 255, 0.75)\"\n      };\n    }\n\n    if (this.state.legalTargets && this.state.legalTargets.length) {\n      for (const toSq of this.state.legalTargets) {\n        const existing = squareStyles[toSq] || {};\n        const dot = \"radial-gradient(circle at center, rgba(170, 80, 255, 0.55) 18%, rgba(0,0,0,0) 20%)\";\n        const mergedBg = existing.backgroundImage ? (existing.backgroundImage + \", \" + dot) : dot;\n        squareStyles[toSq] = {\n          ...existing,\n          backgroundImage: mergedBg,\n          backgroundRepeat: existing.backgroundRepeat ? existing.backgroundRepeat + \", no-repeat\" : \"no-repeat\",\n          backgroundPosition: existing.backgroundPosition ? existing.backgroundPosition + \", center\" : \"center\",\n          backgroundSize: existing.backgroundSize ? existing.backgroundSize + \", 100% 100%\" : \"100% 100%\"\n        };\n      }\n    }\n\n    return (\n      <div className={\"ot-container\" + (this.state.isMobile ? \" ot-mobile\" : \"\")}>\n        <OpeningTrainerConfetti active={this.state.confettiActive} />\n        <OpeningTrainerCustomModal\n          open={this.state.customModalOpen}\n          error={this.state.customError}\n          name={this.state.customName}\n          movesText={this.state.customMovesText}\n          onChangeName={(v) => this.setState({ customName: v })}\n          onChangeMovesText={(v) => this.setState({ customMovesText: v })}\n          onCancel={this.closeCustomModal}\n          onSave={this.saveCustomModal}\n        />\n\n        {this.state.memberGateOpen ? (\n          <div className=\"ot-gate-overlay\" role=\"dialog\" aria-modal=\"true\">\n            <div className=\"ot-gate-card\">\n              <div className=\"ot-gate-title\">Members only. Upgrade to access Practice and Drill.</div>\n              <div className=\"ot-gate-sub\">\n                {this.state.memberGateMode === \"practice\" ? \"Practice Mode\" : \"Drill Mode\"} requires a paid membership.\n              </div>\n              <div className=\"ot-gate-actions\">\n                <button type=\"button\" className=\"ot-gate-btn\" onClick={this.goToUpgrade}>\n                  Upgrade\n                </button>\n                <button type=\"button\" className=\"ot-gate-btn secondary\" onClick={this.closeMemberGate}>\n                  Not now\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n\n        {this.state.streakToastOpen ? (\n          <div\n            style={{\n              position: \"fixed\",\n              top: 16,\n              left: \"50%\",\n              transform: \"translateX(-50%)\",\n              zIndex: 9999,\n              padding: \"10px 14px\",\n              borderRadius: 12,\n              background: \"rgba(20, 20, 25, 0.92)\",\n              border: \"1px solid rgba(255,255,255,0.12)\",\n              color: \"white\",\n              fontWeight: 700,\n              letterSpacing: \"0.1px\",\n              maxWidth: \"92vw\",\n              textAlign: \"center\",\n              boxShadow: \"0 12px 28px rgba(0,0,0,0.35)\"\n            }}\n          >\n            {this.state.streakToastText}\n          </div>\n        ) : null}\n\n\n        {this.state.isMobile ? (\n          <style id=\"ot-mobile-root-style\">\n            {`\n              .ot-container.ot-mobile {\n\n                width: 100vw;\n                overflow-x: hidden;\n                box-sizing: border-box;                height: 100dvh;\n                min-height: 100dvh;\n                padding: 0;\n                margin: 0;\n                display: flex;\n                flex-direction: column;\n              }\n\n              .ot-container.ot-mobile .ot-top-line {\n                display: none;\n              }\n\n              .ot-container.ot-mobile .ot-controls {\n                display: none;\n              }\n\n              .ot-container.ot-mobile .ot-main {\n\n                min-height: 0;                flex: 1;\n                display: flex;\n                flex-direction: column;\n                padding: 0;\n                margin: 0;\n              }\n\n              \n              .ot-container.ot-mobile .ot-mobile-root {\n                width: var(--ot-mobile-board-w, 100%);\n                max-width: 100%;\n                margin-left: auto;\n                margin-right: auto;\n                box-sizing: border-box;\n                display: flex;\n                flex-direction: column;\n                align-items: stretch;\n              }\n\n.ot-container.ot-mobile .ot-mobile-coach {\n                padding: 8px 10px 6px 10px;\n                max-height: 190px;\n                overflow: auto;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-board-wrap {\n\n                min-height: 0;\n                flex: 0 0 auto;\n                display: flex;\n                align-items: flex-start;\n                justify-content: flex-start;\n                padding: 0;\n                width: 100%;\n              }\n\n              .ot-container.ot-mobile .ot-board {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                padding: 0;\n                margin: 0;\n                              overflow: visible;\n}\n\n              .ot-container.ot-mobile .ot-board-head {\n                display: none;\n              }\n\n              .ot-container.ot-mobile .ot-side {\n                display: none;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-dock {\n                height: 56px;\n                padding: 0 0 calc(8px + env(safe-area-inset-bottom)) 0;\n                display: flex;\n                align-items: center;\n                justify-content: flex-start;\n                gap: 8px;\n                overflow-x: auto;\n                border-top: 1px solid rgba(255,255,255,0.08);\n                background: rgba(10, 10, 12, 0.85);\n                -webkit-backdrop-filter: blur(10px);\n                backdrop-filter: blur(10px);\n              }\n\n              .ot-container.ot-mobile .ot-mobile-dock button,\n              .ot-container.ot-mobile .ot-mobile-dock select {\n                flex: 0 0 auto;\n                height: 38px;\n                padding: 0 10px;\n                border-radius: 10px;\n                font-size: 14px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-dock .ot-mobile-icon {\n                width: 40px;\n                padding: 0;\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n              }\n\n              \n\n              .ot-container.ot-mobile .ot-mobile-header {\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                padding: 10px 10px 8px 10px;\n              }\n\n\n              .ot-container.ot-mobile .ot-mobile-header-area {\n                padding: 10px 0 0 0;\n                width: 100%;\n                box-sizing: border-box;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-stage {\n                flex: 0 0 auto;\n                min-height: 0;\n                display: flex;\n                flex-direction: column;\n                align-items: stretch;\n                justify-content: flex-start;\n                gap: 8px;\n                padding: 0;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-back {\n\n                width: 40px;\n                height: 40px;\n                border-radius: 12px;\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 18px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-topbar {\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                padding: 8px 0 6px 0;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-progress-inline {\n                flex: 1;\n                min-width: 0;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-progress-inline .ot-progress-bar {\n                height: 10px;\n                border-radius: 999px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-pillrow {\n                display: flex;\n                align-items: center;\n                gap: 8px;\n                padding: 0 0 8px 0;\n                overflow-x: auto;\n                -webkit-overflow-scrolling: touch;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-coach {\n                padding: 0;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-coach-scroll {\n                padding: 0 0 6px 0;\n                height: clamp(72px, 14vh, 110px);\n                overflow-y: auto;\n                overflow-x: hidden;\n                scrollbar-gutter: stable;\n                box-sizing: border-box;\n                width: 100%;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-header-mid {\n                flex: 1;\n                min-width: 0;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n                overflow: hidden;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-pill-btn {\n                max-width: 44vw;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                height: 34px;\n                padding: 0 8px;\n                border-radius: 10px;\n                font-size: 14px;\n                border: 1px solid rgba(255,255,255,0.14);\n                background: rgba(255,255,255,0.04);\n                box-shadow: none;\n                color: rgba(255,255,255,0.95);\n              }\n\n              .ot-container.ot-mobile .ot-mobile-pill-btn.active {\n                border-color: rgba(255,255,255,0.22);\n                background: rgba(255,255,255,0.08);\n              }\n\n              .ot-container.ot-mobile .ot-mobile-mini-count {\n                flex: 0 0 auto;\n                font-size: 13px;\n                opacity: 0.85;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-progress {\n                padding: 0 10px 6px 10px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu {\n                position: fixed;\n                left: 10px;\n                right: 10px;\n                top: 58px;\n                z-index: 9999;\n                border-radius: 14px;\n                padding: 10px;\n                background: rgba(10, 10, 12, 0.96);\n                border: 1px solid rgba(255,255,255,0.12);\n                box-shadow: 0 16px 40px rgba(0,0,0,0.45);\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu-title {\n                font-weight: 800;\n                margin-bottom: 8px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu button,\n              .ot-container.ot-mobile .ot-mobile-menu select {\n                width: 100%;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu .ot-mode-list {\n                display: flex;\n                flex-direction: column;\n                gap: 8px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu .ot-mode-item {\n                height: 42px;\n                border-radius: 12px;\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                padding: 0 12px;\n              }\n\n              .ot-container.ot-mobile .ot-mobile-menu .ot-mode-item.locked {\n                opacity: 0.55;\n              }\n\n              .ot-container.ot-mobile .ot-coach-text {\n                font-size: 15px;\n                line-height: 1.25;\n              }\n              .ot-container.ot-mobile .ot-bubble,\n              .ot-container.ot-mobile .ot-bubble-row {\n                width: 100%;\n                box-sizing: border-box;\n              }\n\n              .ot-container.ot-mobile .ot-coach-text {\n                min-width: 0;\n                overflow-wrap: anywhere;\n              }\n\n              .ot-container.ot-mobile .ot-bubble,\n              .ot-container.ot-mobile .ot-bubble-row {\n                background: #ececf1;\n                color: #111111;\n                border: 1px solid rgba(0,0,0,0.08);\n              }\n\n              .ot-container.ot-mobile .ot-coach-text {\n                color: #000000;\n              }\n\n              .ot-container.ot-mobile .ot-bubble-icon {\n                color: rgba(0,0,0,0.75);\n              }\n\n            `}\n          </style>\n        ) : null}\n\n        {this.state.isMobile ? null : <TopNav title=\"Chess Opening Drills\" />}\n{/* Per-line progress (moved to top) */}\n        <div className=\"ot-top-line\">\n          <div className=\"ot-top-line-row\">\n            <div className=\"ot-top-line-count\">\n              \n            </div>\n          </div>\n\n          <div className=\"ot-progress-bar ot-progress-bar-top\">\n            <div className=\"ot-progress-fill\" style={{ width: yourProgressPct + \"%\" }} />\n          </div>\n        </div>\n\n                <div className=\"ot-main\">\n          {this.state.isMobile ? (\n            <div className=\"ot-mobile-root\" style={{ \"--ot-mobile-board-w\": (this.state.mobileBoardSize ? `${this.state.mobileBoardSize}px` : \"100%\") }}>\n              \n              <div className=\"ot-mobile-header-area\">\n\n                <div className=\"ot-mobile-pillrow\" ref={this._mobilePillsRef}>\n                  <button\n                    className={\"ot-mobile-pill-btn\" + (this.state.mobileHeaderMenu === \"mode\" ? \" active\" : \"\")}\n                    onClick={() => this.toggleMobileHeaderMenu(\"mode\")}\n                    title=\"Mode\"\n                    aria-label=\"Mode\"\n                  >\n                    {(() => {\n                      const mode = this.state.gameMode || \"learn\";\n                      return mode === \"learn\" ? (\n                        <>\n                          <span role=\"img\" aria-label=\"learn\"></span> Learn\n                        </>\n                      ) : mode === \"practice\" ? (\n                        <>\n                          <span role=\"img\" aria-label=\"practice\"></span> Practice\n                        </>\n                      ) : (\n                        <>\n                          <span role=\"img\" aria-label=\"drill\"></span> Drill\n                        </>\n                      );\n                    })()}{\" \"}\n                    \n                  </button>\n\n                  <button\n                    className={\"ot-mobile-pill-btn\" + (this.state.mobileHeaderMenu === \"opening\" ? \" active\" : \"\")}\n                    onClick={() => this.toggleMobileHeaderMenu(\"opening\")}\n                    title=\"Opening\"\n                    aria-label=\"Opening\"\n                  >\n                    {(() => {\n                      const s = OPENING_SETS[this.state.openingKey];\n                      return (s && (s.name || s.title || s.label)) || this.state.openingKey;\n                    })()}{\" \"}\n                    \n                  </button>\n\n                  <button\n                    className={\"ot-mobile-pill-btn\" + (this.state.mobileHeaderMenu === \"line\" ? \" active\" : \"\")}\n                    onClick={() => this.toggleMobileHeaderMenu(\"line\")}\n                    title=\"Line\"\n                    aria-label=\"Line\"\n                  >\n                    {(line && line.name) || \"Line\"} \n                  </button>\n                </div>\n\n                <div className=\"ot-mobile-topbar\" ref={this._mobileTopbarRef}>\n                  <button className=\"ot-icon-btn ot-mobile-back\" onClick={this.goHome} title=\"Back\" aria-label=\"Back\">\n                    \n                  </button>\n\n                  <div className=\"ot-mobile-progress-inline\" aria-label=\"Progress\">\n                    <div className=\"ot-progress-bar ot-progress-bar-top\">\n                      <div className=\"ot-progress-fill\" style={{ width: yourProgressPct + \"%\" }} />\n                    </div>\n                  </div>\n\n                  <div className=\"ot-mobile-mini-count\">\n                    {doneYourMoves}/{totalYourMoves}\n                  </div>\n                </div>\n\n                {this.state.mobileHeaderMenu ? (\n                  <>\n                    <div\n                      onClick={this.closeMobileHeaderMenu}\n                      style={{ position: \"fixed\", inset: 0, zIndex: 9998 }}\n                    />\n                    <div className=\"ot-mobile-menu\" onClick={(e) => e.stopPropagation()}>\n                      {this.state.mobileHeaderMenu === \"mode\" ? (\n                        <>\n                          <div className=\"ot-mobile-menu-title\">Mode</div>\n                          <div className=\"ot-mode-list\">\n                            <button className=\"ot-mode-item\" onClick={() => { this.setGameMode(\"learn\"); this.closeMobileHeaderMenu(); }}>\n                              <span><span role=\"img\" aria-label=\"learn\"></span> Learn</span>\n                              <span />\n                            </button>\n\n                            <button\n                              className={\"ot-mode-item\" + (!this.props.user || !this.props.isMember ? \" locked\" : \"\")}\n                              onClick={() => { this.setGameMode(\"practice\"); this.closeMobileHeaderMenu(); }}\n                            >\n                              <span><span role=\"img\" aria-label=\"practice\"></span> Practice</span>\n                              <span>{!this.props.user || !this.props.isMember ? \"Member\" : \"\"}</span>\n                            </button>\n\n                            <button\n                              className={\"ot-mode-item\" + (!this.props.user || !this.props.isMember ? \" locked\" : \"\")}\n                              onClick={() => { this.setGameMode(\"drill\"); this.closeMobileHeaderMenu(); }}\n                            >\n                              <span><span role=\"img\" aria-label=\"drill\"></span> Drill</span>\n                              <span>{!this.props.user || !this.props.isMember ? \"Member\" : \"\"}</span>\n                            </button>\n                          </div>\n                        </>\n                      ) : this.state.mobileHeaderMenu === \"opening\" ? (\n                        <>\n                          <div className=\"ot-mobile-menu-title\">Opening</div>\n                          <select\n                            className=\"ot-select\"\n                            value={this.state.openingKey}\n                            onChange={(e) => {\n                              this.setOpeningKey(e);\n                              this.closeMobileHeaderMenu();\n                            }}\n                          >\n                            {Object.keys(OPENING_SETS).map((k) => {\n                              const s = OPENING_SETS[k];\n                              const label = (s && (s.name || s.title || s.label)) || k;\n                              return (\n                                <option key={k} value={k}>\n                                  {label}\n                                </option>\n                              );\n                            })}\n                          </select>\n                        </>\n                      ) : (\n                        <>\n                          <div className=\"ot-mobile-menu-title\">Line</div>\n                          <select\n                            className=\"ot-line-select ot-line-select-compact\"\n                            value={this.state.linePicker}\n                            onChange={(e) => {\n                              this.setLinePicker(e);\n                              this.closeMobileHeaderMenu();\n                            }}\n                          >\n                            <option value=\"random\">Random line</option>\n                            <option value=\"__divider__\" disabled>\n                              \n                            </option>\n\n                            {(() => {\n                              const grouped = groupLines(this.getLines());\n                              return grouped.cats.map((cat) => {\n                                const arr = grouped.map[cat] || [];\n                                return (\n                                  <optgroup key={cat} label={cat}>\n                                    {arr.map((l) => {\n                                      const s = getLineStats(this.state.progress, this.state.openingKey, l.id);\n                                      const symbol = isCompleted(s) ? \"\" : s.timesSeen > 0 ? \"\" : \"\";\n                                      return (\n                                        <option key={l.id} value={l.id}>\n                                          {symbol} {l.name}\n                                        </option>\n                                      );\n                                    })}\n                                  </optgroup>\n                                );\n                              });\n                            })()}\n                          </select>\n                        </>\n                      )}\n                    </div>\n                  </>\n                ) : null}\n\n                \n              </div>\n\n\n              <div className=\"ot-mobile-stage\">\n                <div className=\"ot-mobile-coach-scroll\" ref={this._mobileCoachRef}>{this.renderCoachBubble(line)}</div>\n\n              <div className=\"ot-mobile-board-wrap\">\n                <div className=\"ot-board\">\n                  <Chessboard\n                    width={this.state.mobileBoardSize || undefined}\n                    position={boardFen}\n                    onDrop={this.onDrop}\n                    allowDrag={this.allowDrag}\n                    orientation={playerColor === \"b\" ? \"black\" : \"white\"}\n                    showNotation={true}\n                    squareStyles={squareStyles}\n                    onSquareClick={this.onSquareClick}\n                    onSquareRightClick={this.onSquareRightClick}\n                    pieceTheme={this.getPieceThemeUrl()}\n                    {...BOARD_THEMES[this.state.settings.boardTheme || DEFAULT_THEME]}\n                  />\n                </div>\n              </div>\n\n              </div>\n\n              <div className=\"ot-mobile-dock\" ref={this._mobileDockRef}>\n                <button\n                  className=\"ot-gear ot-mobile-icon\"\n                  onClick={this.toggleSettingsOpen}\n                  title=\"Settings\"\n                  aria-label=\"Settings\"\n                >\n                  <span role=\"img\" aria-label=\"settings\"></span>\n                </button>\n\n                {canUndo ? (\n                  <button className=\"ot-mini-btn\" onClick={this.undoMistake} title=\"Undo mistake\">\n                    Undo\n                  </button>\n                ) : null}\n\n                {this.state.gameMode === \"drill\" ? null : (\n                  <button\n                    className={\n                      \"ot-button ot-button-small ot-button-dock ot-hint-btn\" +\n                      (this.state.showHint ? \" ot-hint-btn-on\" : \"\")\n                    }\n                    onClick={this.state.solveArmed ? this.playMoveForMe : this.onHint}\n                    disabled={!nextExpected || this.state.completed || this.state.viewing}\n                    title={\n                      !nextExpected\n                        ? \"Line complete\"\n                        : this.state.solveArmed\n                        ? \"Play the move (breaks clean completion)\"\n                        : \"Highlight the piece to move\"\n                    }\n                  >\n                    {this.state.solveArmed ? \"Solve\" : \"Hint\"}\n                  </button>\n                )}\n\n                <button\n                  className=\"ot-button ot-button-small ot-button-dock\"\n                  onClick={this.retryLine}\n                  title=\"Retry\"\n                >\n                  Retry\n                </button>\n\n                {this.state.gameMode === \"learn\" && this.state.learnNextReady ? (\n                <button\n                  className=\"ot-button ot-button-small ot-button-dock\"\n                  onClick={this.nextLine}\n                  title=\"Pick the next line\"\n                >\n                  Next\n                </button>\n              ) : null}\n\n         <button\n                  className=\"ot-icon-btn ot-mobile-icon\"\n                  onClick={this.viewBack}\n                  disabled={!canViewBack}\n                  title=\"Back\"\n                  aria-label=\"Back\"\n                >\n                  \n                </button>\n\n                <button\n                  className=\"ot-icon-btn ot-mobile-icon\"\n                  onClick={this.viewForward}\n                  disabled={!canViewForward}\n                  title=\"Forward\"\n                  aria-label=\"Forward\"\n                >\n                  \n                </button>\n              </div>\n\n              {this.state.lineMenuOpen ? (\n                <div\n                  className=\"ot-line-popover\"\n                  onClick={(e) => e.stopPropagation()}\n                  ref={(el) => (this._linePickerAnchorEl = el)}\n                  style={{ position: \"fixed\", left: 10, right: 10, bottom: 64, zIndex: 9998 }}\n                >\n                  <div className=\"ot-line-popover-title\">Line select</div>\n                  <button className=\"ot-mini-btn ot-add-rep-btn\" onClick={this.openCustomModal} title=\"Paste a custom rep\">\n                    + Add rep\n                  </button>\n\n                  <select\n                    className=\"ot-line-select ot-line-select-compact\"\n                    value={this.state.linePicker}\n                    onChange={(e) => {\n                      this.setLinePicker(e);\n                      this.setState({ lineMenuOpen: false });\n                    }}\n                  >\n                    <option value=\"random\">Random line</option>\n                    <option value=\"__divider__\" disabled>\n                      \n                    </option>\n\n                    {(() => {\n                      const grouped = groupLines(this.getLines());\n                      return grouped.cats.map((cat) => {\n                        const arr = grouped.map[cat] || [];\n                        return (\n                          <optgroup key={cat} label={cat}>\n                            {arr.map((l) => {\n                              const s = getLineStats(this.state.progress, this.state.openingKey, l.id);\n                              const symbol = isCompleted(s) ? \"\" : s.timesSeen > 0 ? \"\" : \"\";\n                              return (\n                                <option key={l.id} value={l.id}>\n                                  {symbol} {l.name}\n                                </option>\n                              );\n                            })}\n                          </optgroup>\n                        );\n                      });\n                    })()}\n                  </select>\n                </div>\n              ) : null}\n\n              {this.state.settingsOpen ? (\n                <div\n                  className=\"ot-settings-menu\"\n                  onClick={(e) => e.stopPropagation()}\n                  ref={(el) => (this._settingsAnchorEl = el)}\n                  style={{ position: \"fixed\", left: 10, right: 10, bottom: 64, zIndex: 9999 }}\n                >\n                  <div className=\"ot-settings-title\">Settings</div>\n\n                  <label className=\"ot-settings-row\">\n                    <input\n                      type=\"checkbox\"\n                      checked={!!(this.state.settings && this.state.settings.showConfetti)}\n                      onChange={(e) => this.setSetting(\"showConfetti\", !!e.target.checked)}\n                    />\n                    <span>Show Confetti</span>\n                  </label>\n\n                  <label className=\"ot-settings-row\">\n                    <input\n                      type=\"checkbox\"\n                      checked={!!(this.state.settings && this.state.settings.playSounds)}\n                      onChange={(e) => this.setSetting(\"playSounds\", !!e.target.checked)}\n                    />\n                    <span>Play Sounds</span>\n                  </label>\n\n                  <div className=\"ot-settings-title\" style={{ marginTop: \"12px\" }}>Board Theme</div>\n\n                  <label className=\"ot-settings-row\">\n                    <input\n                      type=\"radio\"\n                      name=\"boardThemeMobile\"\n                      checked={this.state.settings.boardTheme === \"chesscom\"}\n                      onChange={() => this.setSetting(\"boardTheme\", \"chesscom\")}\n                    />\n                    <span>Chess.com</span>\n                  </label>\n\n                  <label className=\"ot-settings-row\">\n                    <input\n                      type=\"radio\"\n                      name=\"boardThemeMobile\"\n                      checked={this.state.settings.boardTheme === \"lichess\"}\n                      onChange={() => this.setSetting(\"boardTheme\", \"lichess\")}\n                    />\n                    <span>Lichess</span>\n                  </label>\n\n                  <label className=\"ot-settings-row\">\n                    <input\n                      type=\"radio\"\n                      name=\"boardThemeMobile\"\n                      checked={this.state.settings.boardTheme === \"darkblue\"}\n                      onChange={() => this.setSetting(\"boardTheme\", \"darkblue\")}\n                    />\n                    <span>Dark Blue</span>\n                  </label>\n                </div>\n              ) : null}\n            </div>\n          ) : (\n            <>\n          <div className=\"ot-board\">\n\n            <div className=\"ot-board-head\">\n              <select className=\"ot-opening-select\" value={this.state.openingKey} onChange={this.setOpeningKey}>\n                <option value=\"london\">London</option>\n                <option value=\"sicilian\">Sicilian Defense</option>\n<option value=\"ruy\">Ruy Lopez</option>\n<option value=\"friedliver\">Fried Liver Attack</option>\n                <option value=\"stafford\">Stafford Gambit</option>\n            <option value=\"carokann\">Caro-Kann Defense</option>\n            <option value=\"qga\">Queens Gambit Accepted</option>\n            <option value=\"qgd\">Queens Gambit Declined</option>\n              \n            <option value=\"italian\">Italian Game</option>\n            <option value=\"kingsindian\">King's Indian Defense</option>\n            <option value=\"french\">French Defense</option>\n            <option value=\"englund\">Englund Gambit</option>\n<option value=\"english\">English Opening</option>\n<option value=\"scotchgame\">Scotch Game</option>\n</select>\n            </div>\n<Chessboard\n  calcWidth={calcWidth}\n  position={boardFen}\n  onDrop={this.onDrop}\n  allowDrag={this.allowDrag}\n  orientation={playerColor === \"b\" ? \"black\" : \"white\"}\n  showNotation={true}\n  squareStyles={squareStyles}\n  onSquareClick={this.onSquareClick}\n  onSquareRightClick={this.onSquareRightClick}\n  pieceTheme={this.getPieceThemeUrl()}\n  {...BOARD_THEMES[this.state.settings.boardTheme || DEFAULT_THEME]}\n/>\n          </div>\n\n          \n          <div className=\"ot-side\">\n            <div className=\"ot-panel\">\n              <div className=\"ot-panel-body\">\n              {this.renderCoachArea(line, doneYourMoves, totalYourMoves, coachExpected)}\n              {this.renderModePanel()}\n\n              <div className=\"ot-dock\">\n                <div className=\"ot-dock-left\" style={{ position: \"relative\" }}>\n                  <div\n                    className=\"ot-panel-header-actions\"\n                    ref={(el) => {\n                      this._settingsAnchorEl = el;\n                    }}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <button className=\"ot-gear\" onClick={this.toggleSettingsOpen} title=\"Settings\" aria-label=\"Settings\">\n                      <span role=\"img\" aria-label=\"settings\"></span>\n                    </button>\n\n                    {this.state.settingsOpen ? (\n                      <div className=\"ot-settings-menu\" onClick={(e) => e.stopPropagation()} style={{ position: \"absolute\", left: 0, bottom: \"calc(100% + 10px)\", zIndex: 9999, maxWidth: 320 }}>\n                        <div className=\"ot-settings-title\">Settings</div>\n\n                        <label className=\"ot-settings-row\">\n                          <input\n                            type=\"checkbox\"\n                            checked={!!(this.state.settings && this.state.settings.showConfetti)}\n                            onChange={(e) => this.setSetting(\"showConfetti\", !!e.target.checked)}\n                          />\n                          <span>Show Confetti</span>\n                        </label>\n\n                        <label className=\"ot-settings-row\">\n                          <input\n                            type=\"checkbox\"\n                            checked={!!(this.state.settings && this.state.settings.playSounds)}\n                            onChange={(e) => this.setSetting(\"playSounds\", !!e.target.checked)}\n                          />\n                          <span>Play Sounds</span>\n                        </label>\n\n                        <div className=\"ot-settings-title\" style={{ marginTop: \"12px\" }}>Board Theme</div>\n                        \n                        <label className=\"ot-settings-row\">\n                          <input\n                            type=\"radio\"\n                            name=\"boardTheme\"\n                            checked={this.state.settings.boardTheme === \"chesscom\"}\n                            onChange={() => this.setSetting(\"boardTheme\", \"chesscom\")}\n                          />\n                          <span>Chess.com</span>\n                        </label>\n                        \n                        <label className=\"ot-settings-row\">\n                          <input\n                            type=\"radio\"\n                            name=\"boardTheme\"\n                            checked={this.state.settings.boardTheme === \"lichess\"}\n                            onChange={() => this.setSetting(\"boardTheme\", \"lichess\")}\n                          />\n                          <span>Lichess</span>\n                        </label>\n                        \n                        <label className=\"ot-settings-row\">\n                          <input\n                            type=\"radio\"\n                            name=\"boardTheme\"\n                            checked={this.state.settings.boardTheme === \"darkblue\"}\n                            onChange={() => this.setSetting(\"boardTheme\", \"darkblue\")}\n                          />\n                          <span>Dark Blue</span>\n                        </label>\n                      </div>\n                    ) : null}\n                  </div>\n\n                  {canUndo ? (\n                    <button className=\"ot-mini-btn\" onClick={this.undoMistake} title=\"Undo mistake\">\n                      Undo\n                    </button>\n                  ) : null}\n                </div>\n\n                <div className=\"ot-dock-center\">\n                  <button className=\"ot-button ot-button-small ot-button-dock\" onClick={this.retryLine}>\n                    Retry\n                  </button>\n\n                  {this.state.gameMode === \"learn\" ? (\n                    this.state.learnNextReady ? (\n                      <button\n                        className=\"ot-button ot-button-small ot-button-dock\"\n                        onClick={this.nextLine}\n                        title=\"Pick the next line\"\n                      >\n                        Next\n                      </button>\n                    ) : null\n                  ) : (\n                    <button\n                      className=\"ot-button ot-button-small ot-button-dock\"\n                      onClick={this.nextLine}\n                      disabled={this.state.gameMode === \"drill\" && this.state.linePicker !== \"random\"}\n                      title={\n                        this.state.gameMode === \"drill\" && this.state.linePicker !== \"random\"\n                          ? \"Switch to Random line to use this\"\n                          : \"Pick the next line\"\n                      }\n                    >\n                      Next\n                    </button>\n                  )}\n                  {this.state.gameMode === \"drill\" ? null : (\n\n                  <button\n                    className={\n                      \"ot-button ot-button-small ot-button-dock ot-hint-btn\" +\n                      (this.state.showHint ? \" ot-hint-btn-on\" : \"\")\n                    }\n                    onClick={this.state.solveArmed ? this.playMoveForMe : this.onHint}\n                    disabled={!nextExpected || this.state.completed || this.state.viewing}\n                    title={\n                      !nextExpected\n                        ? \"Line complete\"\n                        : this.state.solveArmed\n                        ? \"Play the move (breaks clean completion)\"\n                        : \"Highlight the piece to move\"\n                    }\n                  >\n                    {this.state.solveArmed ? \"Solve\" : \"Hint\"}\n                  </button>\n                  )}\n                </div>\n\n                <div className=\"ot-dock-right\">\n                  <button\n                    className=\"ot-icon-btn\"\n                    onClick={this.viewBack}\n                    disabled={!canViewBack}\n                    title=\"Back\"\n                    aria-label=\"Back\"\n                  >\n                    \n                  </button>\n\n                  <button\n                    className=\"ot-icon-btn\"\n                    onClick={this.viewForward}\n                    disabled={!canViewForward}\n                    title=\"Forward\"\n                    aria-label=\"Forward\"\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n\n              </div>\n            </div>\n          </div>\n            </>\n          )}\n\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction OpeningTrainerWithAuth(props) {\n  const { user, authLoading, isMember, membershipTier, membershipActive } = useAuth();\n  return (\n    <OpeningTrainer\n      {...props}\n      user={user}\n      authLoading={authLoading}\n      isMember={!!isMember}\n      membershipTier={membershipTier}\n      membershipActive={membershipActive}\n    />\n  );\n}\n\nexport default OpeningTrainerWithAuth;","// src/components/StreakModal.js\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { ymdLocal } from \"../utils/streak\";\nimport \"./StreakModal.css\";\n\nexport default function StreakModal() {\n  const [open, setOpen] = useState(false);\n  const [data, setData] = useState(null);\n\n  const today = useMemo(() => ymdLocal(), []);\n\n  useEffect(() => {\n    function onUpdated(e) {\n      const detail = e && e.detail ? e.detail : null;\n      if (!detail) return;\n\n      // Only show when it is for today and it looks like a real increment\n      if (detail.today !== today) return;\n      if (!(Number(detail.current) > 0)) return;\n\n      setData(detail);\n      setOpen(true);\n    }\n\n    window.addEventListener(\"streak:updated\", onUpdated);\n    return () => window.removeEventListener(\"streak:updated\", onUpdated);\n  }, [today]);\n\n  useEffect(() => {\n    function onKeyDown(e) {\n      if (!open) return;\n      if (e.key === \"Escape\") setOpen(false);\n    }\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [open]);\n\n  if (!open || !data) return null;\n\n  const headline = data.continued ? \"Streak continued\" : \"New streak started\";\n  const sub = `${data.weekday} complete`;\n  const bestLine = data.newBest ? \"New best streak\" : `Best: ${data.best}`;\n\n  return (\n     <div\n    className={\"streakmodal-backdrop\" + (open ? \"\" : \" hidden\")}\n    onMouseDown={() => setOpen(false)}\n  >\n      <div className=\"streakmodal\" onMouseDown={(e) => e.stopPropagation()}>\n        <button className=\"streakmodal-x\" onClick={() => setOpen(false)} aria-label=\"Close\">\n          \n        </button>\n\n        <div className=\"streakmodal-badge\" aria-hidden=\"true\"></div>\n\n        <div className=\"streakmodal-title\">{headline}</div>\n        <div className=\"streakmodal-sub\">{sub}</div>\n\n        <div className=\"streakmodal-count\">\n          <div className=\"streakmodal-number\">{data.current}</div>\n          <div className=\"streakmodal-label\">\n            {data.current === 1 ? \"day streak\" : \"days streak\"}\n          </div>\n        </div>\n\n        <div className=\"streakmodal-best\">{bestLine}</div>\n\n        <button className=\"streakmodal-btn\" onClick={() => setOpen(false)}>\n          Continue\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"./AuthProvider\";\n\nexport default function ProtectedRoute({ component: Component, ...rest }) {\n  const { user, authLoading } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (authLoading) return null;\n\n        if (!user) {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location && props.location.pathname ? props.location.pathname : \"/profile\" }\n              }}\n            />\n          );\n        }\n\n        return <Component {...props} />;\n      }}\n    />\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../auth/AuthProvider\";\nimport TopNav from \"./TopNav\";\n\nexport default function Login(props) {\n  const { signIn } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [error, setError] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n\n  const isMountedRef = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (isMountedRef.current) {\n      setError(\"\");\n      setBusy(true);\n    }\n\n    try {\n      await signIn(email, password);\n\n      const from =\n        props &&\n        props.location &&\n        props.location.state &&\n        props.location.state.from\n          ? props.location.state.from\n          : \"/profile\";\n\n      if (props && props.history) props.history.push(from);\n    } catch (err) {\n      if (isMountedRef.current) {\n        setError(err && err.message ? err.message : \"Login failed\");\n      }\n    } finally {\n      if (isMountedRef.current) {\n        setBusy(false);\n      }\n    }\n  };\n\n  const pageStyle = { minHeight: \"100vh\", background: \"#0f1115\" };\n\n  const wrapStyle = {\n    padding: 18,\n    maxWidth: 520,\n    margin: \"0 auto\",\n  };\n\n  const cardStyle = {\n    marginTop: 10,\n    padding: 16,\n    borderRadius: 14,\n    background: \"rgba(20, 20, 25, 0.65)\",\n    border: \"1px solid rgba(255,255,255,0.12)\",\n  };\n\n  const labelStyle = { marginBottom: 6, fontWeight: 800 };\n  const inputStyle = {\n    width: \"100%\",\n    padding: 10,\n    borderRadius: 10,\n    border: \"1px solid rgba(255,255,255,0.14)\",\n    background: \"rgba(255,255,255,0.04)\",\n    color: \"#e9edf2\",\n    outline: \"none\",\n  };\n\n  const buttonStyle = {\n    width: \"100%\",\n    padding: 12,\n    borderRadius: 10,\n    border: \"1px solid rgba(244, 197, 66, 0.35)\",\n    background: \"rgba(244, 197, 66, 0.14)\",\n    color: \"#e9edf2\",\n    fontWeight: 900,\n    cursor: busy ? \"default\" : \"pointer\",\n    opacity: busy ? 0.75 : 1,\n  };\n\n  const errorStyle = {\n    margin: \"10px 0\",\n    padding: 10,\n    borderRadius: 10,\n    border: \"1px solid rgba(255,255,255,0.14)\",\n    background: \"rgba(255, 90, 90, 0.10)\",\n    color: \"#e9edf2\",\n  };\n\n  return (\n    <div style={pageStyle}>\n      <TopNav active=\"login\" title=\"Chess Opening Drills\" />\n\n      <div style={wrapStyle}>\n        <div style={cardStyle}>\n          <h2 style={{ marginTop: 0, marginBottom: 12 }}>Log In</h2>\n\n          {error ? <div style={errorStyle}>{error}</div> : null}\n\n          <form onSubmit={onSubmit}>\n            <div style={{ marginBottom: 10 }}>\n              <div style={labelStyle}>Email</div>\n              <input\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                type=\"email\"\n                autoComplete=\"email\"\n                style={inputStyle}\n                required\n              />\n            </div>\n\n            <div style={{ marginBottom: 12 }}>\n              <div style={labelStyle}>Password</div>\n              <input\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                type=\"password\"\n                autoComplete=\"current-password\"\n                style={inputStyle}\n                required\n              />\n            </div>\n\n            <button disabled={busy} type=\"submit\" style={buttonStyle}>\n              {busy ? \"Logging in...\" : \"Log In\"}\n            </button>\n          </form>\n\n          <div style={{ marginTop: 12, color: \"rgba(255,255,255,0.75)\" }}>\n            No account? <Link to=\"/signup\">Sign Up</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../auth/AuthProvider\";\nimport TopNav from \"./TopNav\";\n\nconst ONBOARDING_KEY = \"chessdrills.onboarding.v1\";\n\nfunction safeReadOnboarding() {\n  try {\n    const raw = window.localStorage.getItem(ONBOARDING_KEY);\n    if (!raw) return null;\n    const parsed = JSON.parse(raw);\n    return parsed && typeof parsed === \"object\" ? parsed : null;\n  } catch (_) {\n    return null;\n  }\n}\n\nfunction safeWriteOnboarding(data) {\n  try {\n    window.localStorage.setItem(ONBOARDING_KEY, JSON.stringify(data));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction computePathFromRating(ratingBand) {\n  // \"Personalized\" in the UX sense: use their selected band to populate the same template.\n  const bands = {\n    under400: { now: 350, in2w: 450 },\n    r400_800: { now: 600, in2w: 800 },\n    r800_1200: { now: 1000, in2w: 1200 },\n    r1200_1600: { now: 1400, in2w: 1600 },\n    r1600_2000: { now: 1800, in2w: 2000 },\n    r2000plus: { now: 2100, in2w: 2300 }\n  };\n  const b = bands[ratingBand] || bands.r800_1200;\n\n  // Keep it simple: a smooth curve to +200 over ~2 weeks.\n  const points = [\n    { x: 0, y: b.now },\n    { x: 3, y: b.now + 40 },\n    { x: 7, y: b.now + 90 },\n    { x: 10, y: b.now + 140 },\n    { x: 14, y: b.in2w }\n  ];\n\n  return {\n    now: b.now,\n    in2w: b.in2w,\n    without: b.now + 20,\n    points\n  };\n}\n\nfunction ProgressBar({ step, total }) {\n  const pct = Math.max(0, Math.min(1, total <= 0 ? 0 : step / total));\n  return (\n    <div\n      style={{\n        height: 6,\n        borderRadius: 999,\n        background: \"rgba(255,255,255,0.10)\",\n        overflow: \"hidden\",\n        marginBottom: 18\n      }}\n    >\n      <div\n        style={{\n          height: \"100%\",\n          width: `${Math.round(pct * 100)}%`,\n          background: \"rgba(93, 143, 255, 0.95)\",\n          borderRadius: 999,\n          transition: \"width 240ms ease\"\n        }}\n      />\n    </div>\n  );\n}\n\nfunction OptionPill({ icon, label, selected, onClick }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      style={{\n        width: \"100%\",\n        textAlign: \"left\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 10,\n        padding: \"12px 14px\",\n        borderRadius: 999,\n        border: selected\n          ? \"1px solid rgba(93, 143, 255, 0.65)\"\n          : \"1px solid rgba(255,255,255,0.10)\",\n        background: selected ? \"rgba(93, 143, 255, 0.12)\" : \"rgba(255,255,255,0.03)\",\n        color: \"#e9edf2\",\n        fontWeight: 800,\n        cursor: \"pointer\",\n        outline: \"none\"\n      }}\n    >\n      <span style={{ width: 22, display: \"inline-flex\", justifyContent: \"center\" }}>\n        {icon}\n      </span>\n      <span style={{ opacity: selected ? 1 : 0.92 }}>{label}</span>\n      <span style={{ marginLeft: \"auto\", opacity: 0.75 }}>{selected ? \"\" : \"\"}</span>\n    </button>\n  );\n}\n\nfunction PathChart({ path }) {\n  const w = 520;\n  const h = 220;\n  const pad = 26;\n\n  const ys = path.points.map((p) => p.y);\n  const minY = Math.min(...ys) - 20;\n  const maxY = Math.max(...ys) + 20;\n\n  const xScale = (x) => pad + (x / 14) * (w - pad * 2);\n  const yScale = (y) => pad + ((maxY - y) / (maxY - minY)) * (h - pad * 2);\n\n  const line = path.points\n    .map((p, i) => `${i === 0 ? \"M\" : \"L\"} ${xScale(p.x).toFixed(1)} ${yScale(p.y).toFixed(1)}`)\n    .join(\" \");\n\n  const dashed = `M ${xScale(0).toFixed(1)} ${yScale(path.now).toFixed(1)} L ${xScale(14).toFixed(\n    1\n  )} ${yScale(path.without).toFixed(1)}`;\n\n  return (\n    <div\n      style={{\n        borderRadius: 16,\n        border: \"1px solid rgba(255,255,255,0.10)\",\n        background: \"rgba(255,255,255,0.02)\",\n        padding: 14\n      }}\n    >\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 8 }}>\n        <div style={{ color: \"rgba(255,255,255,0.70)\", fontWeight: 800, fontSize: 12 }}>Elo</div>\n        <div style={{ color: \"rgba(255,255,255,0.70)\", fontWeight: 800, fontSize: 12 }}>2 weeks</div>\n      </div>\n\n      <svg width=\"100%\" viewBox={`0 0 ${w} ${h}`} style={{ display: \"block\" }}>\n        <defs>\n          <linearGradient id=\"cd_grad\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"rgba(93, 143, 255, 0.25)\" />\n            <stop offset=\"100%\" stopColor=\"rgba(93, 143, 255, 0.00)\" />\n          </linearGradient>\n        </defs>\n\n        <path\n          d={dashed}\n          fill=\"none\"\n          stroke=\"rgba(255,255,255,0.25)\"\n          strokeWidth=\"3\"\n          strokeDasharray=\"7 8\"\n        />\n\n        <path\n          d={line}\n          fill=\"none\"\n          stroke=\"rgba(93, 143, 255, 0.95)\"\n          strokeWidth=\"4\"\n          strokeLinecap=\"round\"\n        />\n\n        <path\n          d={`${line} L ${xScale(14).toFixed(1)} ${yScale(minY).toFixed(1)} L ${xScale(0).toFixed(\n            1\n          )} ${yScale(minY).toFixed(1)} Z`}\n          fill=\"url(#cd_grad)\"\n        />\n\n        <circle cx={xScale(0)} cy={yScale(path.now)} r=\"7\" fill=\"#fff\" opacity=\"0.9\" />\n        <circle cx={xScale(14)} cy={yScale(path.in2w)} r=\"7\" fill=\"rgba(93, 143, 255, 0.95)\" />\n\n        <text\n          x={xScale(0)}\n          y={yScale(path.now) + 22}\n          textAnchor=\"middle\"\n          fill=\"rgba(255,255,255,0.55)\"\n          fontSize=\"14\"\n          fontWeight=\"800\"\n        >\n          Now\n        </text>\n        <text\n          x={xScale(14)}\n          y={yScale(path.in2w) + 22}\n          textAnchor=\"middle\"\n          fill=\"rgba(93, 143, 255, 0.95)\"\n          fontSize=\"14\"\n          fontWeight=\"900\"\n        >\n          With drills\n        </text>\n        <text\n          x={xScale(14)}\n          y={yScale(path.without) + 22}\n          textAnchor=\"middle\"\n          fill=\"rgba(255,255,255,0.35)\"\n          fontSize=\"14\"\n          fontWeight=\"800\"\n        >\n          Without\n        </text>\n      </svg>\n    </div>\n  );\n}\n\nexport default function Signup(props) {\n  const { signUp } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [error, setError] = useState(\"\");\n\n  const gateReason =\n    props && props.location && props.location.state && props.location.state.reason\n      ? props.location.state.reason\n      : null;\n\n  const from =\n    props && props.location && props.location.state && props.location.state.from\n      ? props.location.state.from\n      : null;\n\n  const initialOnboarding = safeReadOnboarding();\n\n  // Steps:\n  // 0: intro\n  // 1: rating\n  // 2: motivation\n  // 3: goal\n  // 4: path preview\n  // 5: signup form\n  const [step, setStep] = useState(initialOnboarding && initialOnboarding.completed ? 5 : 0);\n\n  const [ratingBand, setRatingBand] = useState(initialOnboarding?.ratingBand || \"\");\n  const [motivation, setMotivation] = useState(initialOnboarding?.motivation || \"\");\n  const [goal, setGoal] = useState(initialOnboarding?.goal || \"\");\n\n  const [busy, setBusy] = useState(false);\n\n  const isMountedRef = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  const path = useMemo(() => computePathFromRating(ratingBand), [ratingBand]);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (isMountedRef.current) {\n      setError(\"\");\n      setBusy(true);\n    }\n\n    try {\n      await signUp(email, password);\n\n      safeWriteOnboarding({\n        completed: true,\n        ratingBand,\n        motivation,\n        goal,\n        completedAt: Date.now()\n      });\n\n      // After account creation, send them to About (pricing/upgrade).\n      if (props && props.history) {\n        props.history.push({\n          pathname: \"/about\",\n          state: { from: from || \"/\" }\n        });\n      }\n    } catch (err) {\n      if (isMountedRef.current) {\n        setError(err && err.message ? err.message : \"Sign up failed\");\n      }\n    } finally {\n      if (isMountedRef.current) {\n        setBusy(false);\n      }\n    }\n  };\n\n  const pageStyle = { minHeight: \"100vh\", background: \"#0f1115\" };\n\n  const wrapStyle = {\n    padding: 18,\n    maxWidth: 620,\n    margin: \"0 auto\"\n  };\n\n  const cardStyle = {\n    marginTop: 10,\n    padding: 18,\n    borderRadius: 16,\n    background: \"rgba(20, 20, 25, 0.65)\",\n    border: \"1px solid rgba(255,255,255,0.12)\"\n  };\n\n  const h1Style = { marginTop: 0, marginBottom: 10, fontSize: 42, lineHeight: 1.1 };\n  const subStyle = { marginTop: 0, color: \"rgba(255,255,255,0.65)\", fontWeight: 700 };\n\n  const labelStyle = { marginBottom: 6, fontWeight: 800 };\n  const inputStyle = {\n    width: \"100%\",\n    padding: 10,\n    borderRadius: 10,\n    border: \"1px solid rgba(255,255,255,0.14)\",\n    background: \"rgba(255,255,255,0.04)\",\n    color: \"#e9edf2\",\n    outline: \"none\"\n  };\n\n  const primaryBtn = (disabled) => ({\n    width: \"100%\",\n    padding: 14,\n    borderRadius: 999,\n    border: \"1px solid rgba(93, 143, 255, 0.35)\",\n    background: disabled ? \"rgba(255,255,255,0.06)\" : \"rgba(93, 143, 255, 0.35)\",\n    color: disabled ? \"rgba(255,255,255,0.55)\" : \"#e9edf2\",\n    fontWeight: 900,\n    cursor: disabled ? \"default\" : \"pointer\",\n    opacity: disabled ? 0.75 : 1,\n    transition: \"transform 120ms ease, background 160ms ease\"\n  });\n\n  const ghostBtn = {\n    width: \"100%\",\n    padding: 14,\n    borderRadius: 999,\n    border: \"1px solid rgba(255,255,255,0.12)\",\n    background: \"rgba(255,255,255,0.04)\",\n    color: \"#e9edf2\",\n    fontWeight: 900,\n    cursor: \"pointer\"\n  };\n\n  const smallLinkStyle = {\n    marginTop: 12,\n    textAlign: \"center\",\n    color: \"rgba(255,255,255,0.55)\",\n    fontWeight: 700,\n    cursor: \"pointer\"\n  };\n\n  const errorStyle = {\n    margin: \"10px 0\",\n    padding: 10,\n    borderRadius: 10,\n    border: \"1px solid rgba(255,255,255,0.14)\",\n    background: \"rgba(255, 90, 90, 0.10)\",\n    color: \"#e9edf2\"\n  };\n\n  const saveDraft = (nextStep) => {\n    safeWriteOnboarding({\n      completed: false,\n      ratingBand,\n      motivation,\n      goal,\n      updatedAt: Date.now()\n    });\n    setStep(nextStep);\n  };\n\n  const skipToSignup = () => {\n    saveDraft(5);\n  };\n\n  const renderIntro = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={1} total={6} />\n\n        <h1 style={h1Style}>Start for free</h1>\n        <p style={subStyle}>\n          Answer 3 quick questions. Then create your account and unlock your upgrade options.\n        </p>\n\n        {gateReason ? (\n          <div\n            style={{\n              marginTop: 12,\n              padding: 10,\n              borderRadius: 12,\n              border: \"1px solid rgba(244, 197, 66, 0.35)\",\n              background: \"rgba(244, 197, 66, 0.12)\",\n              color: \"#e9edf2\",\n              fontWeight: 800\n            }}\n          >\n            Create a free account to access new drills.\n          </div>\n        ) : null}\n\n        <div style={{ marginTop: 18 }}>\n          <button\n            type=\"button\"\n            style={primaryBtn(false)}\n            onClick={() => saveDraft(1)}\n            onMouseDown={(e) => {\n              e.currentTarget.style.transform = \"scale(0.99)\";\n            }}\n            onMouseUp={(e) => {\n              e.currentTarget.style.transform = \"scale(1)\";\n            }}\n          >\n            Continue \n          </button>\n\n          <div style={smallLinkStyle} onClick={skipToSignup}>\n            Skip questions\n          </div>\n\n          <div style={{ marginTop: 14, textAlign: \"center\", color: \"rgba(255,255,255,0.70)\" }}>\n            Already have an account? <Link to=\"/login\">Sign in</Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderRating = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={2} total={6} />\n\n        <h2 style={{ marginTop: 0, marginBottom: 8, fontSize: 34 }}>What's your current rating?</h2>\n        <p style={subStyle}>We'll build the plan around your level.</p>\n\n        <div style={{ display: \"grid\", gap: 10, marginTop: 16 }}>\n          <OptionPill\n            icon=\"\"\n            label=\"Under 400\"\n            selected={ratingBand === \"under400\"}\n            onClick={() => setRatingBand(\"under400\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"400 to 800\"\n            selected={ratingBand === \"r400_800\"}\n            onClick={() => setRatingBand(\"r400_800\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"800 to 1,200\"\n            selected={ratingBand === \"r800_1200\"}\n            onClick={() => setRatingBand(\"r800_1200\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"1,200 to 1,600\"\n            selected={ratingBand === \"r1200_1600\"}\n            onClick={() => setRatingBand(\"r1200_1600\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"1,600 to 2,000\"\n            selected={ratingBand === \"r1600_2000\"}\n            onClick={() => setRatingBand(\"r1600_2000\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"2,000+\"\n            selected={ratingBand === \"r2000plus\"}\n            onClick={() => setRatingBand(\"r2000plus\")}\n          />\n        </div>\n\n        <div style={{ marginTop: 18, display: \"grid\", gap: 10 }}>\n          <button\n            type=\"button\"\n            style={primaryBtn(!ratingBand)}\n            disabled={!ratingBand}\n            onClick={() => saveDraft(2)}\n          >\n            Continue \n          </button>\n          <button type=\"button\" style={ghostBtn} onClick={() => saveDraft(0)}>\n            Back\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const renderMotivation = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={3} total={6} />\n\n        <h2 style={{ marginTop: 0, marginBottom: 8, fontSize: 34 }}>Why do you want to improve?</h2>\n        <p style={subStyle}>This helps us build the right plan.</p>\n\n        <div style={{ display: \"grid\", gap: 10, marginTop: 16 }}>\n          <OptionPill\n            icon=\"\"\n            label=\"Compete in tournaments\"\n            selected={motivation === \"tournaments\"}\n            onClick={() => setMotivation(\"tournaments\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Beat my friends\"\n            selected={motivation === \"friends\"}\n            onClick={() => setMotivation(\"friends\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Hit a rating milestone\"\n            selected={motivation === \"milestone\"}\n            onClick={() => setMotivation(\"milestone\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Get back into chess\"\n            selected={motivation === \"back\"}\n            onClick={() => setMotivation(\"back\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Just have more fun\"\n            selected={motivation === \"fun\"}\n            onClick={() => setMotivation(\"fun\")}\n          />\n        </div>\n\n        <div style={{ marginTop: 18, display: \"grid\", gap: 10 }}>\n          <button\n            type=\"button\"\n            style={primaryBtn(!motivation)}\n            disabled={!motivation}\n            onClick={() => saveDraft(3)}\n          >\n            Continue \n          </button>\n          <button type=\"button\" style={ghostBtn} onClick={() => saveDraft(1)}>\n            Back\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const renderGoal = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={4} total={6} />\n\n        <h2 style={{ marginTop: 0, marginBottom: 8, fontSize: 34 }}>What's your chess goal?</h2>\n        <p style={subStyle}>We'll build a plan around your goals.</p>\n\n        <div style={{ display: \"grid\", gap: 10, marginTop: 16 }}>\n          <OptionPill\n            icon=\"\"\n            label=\"Gain 200+ rating points\"\n            selected={goal === \"gain200\"}\n            onClick={() => setGoal(\"gain200\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Win more games out of the opening\"\n            selected={goal === \"openingWins\"}\n            onClick={() => setGoal(\"openingWins\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Build a complete repertoire\"\n            selected={goal === \"repertoire\"}\n            onClick={() => setGoal(\"repertoire\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Feel prepared against anything\"\n            selected={goal === \"prepared\"}\n            onClick={() => setGoal(\"prepared\")}\n          />\n          <OptionPill\n            icon=\"\"\n            label=\"Train for a tournament\"\n            selected={goal === \"tournament\"}\n            onClick={() => setGoal(\"tournament\")}\n          />\n        </div>\n\n        <div style={{ marginTop: 18, display: \"grid\", gap: 10 }}>\n          <button type=\"button\" style={primaryBtn(!goal)} disabled={!goal} onClick={() => saveDraft(4)}>\n            Continue \n          </button>\n          <button type=\"button\" style={ghostBtn} onClick={() => saveDraft(2)}>\n            Back\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const renderPath = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={5} total={6} />\n\n        <h2 style={{ marginTop: 0, marginBottom: 8, fontSize: 34 }}>Your personalized rating path</h2>\n        <p style={subStyle}>Based on your level, here's what consistent training can look like.</p>\n\n        <div style={{ marginTop: 14 }}>\n          <PathChart path={path} />\n        </div>\n\n        <div\n          style={{\n            marginTop: 14,\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            gap: 10,\n            color: \"rgba(255,255,255,0.70)\",\n            fontWeight: 800\n          }}\n        >\n          <div>\n            <div style={{ fontSize: 12, opacity: 0.75 }}>Now</div>\n            <div style={{ fontSize: 18 }}>{path.now}</div>\n          </div>\n          <div style={{ textAlign: \"right\" }}>\n            <div style={{ fontSize: 12, opacity: 0.75 }}>In 2 weeks</div>\n            <div style={{ fontSize: 18 }}>{path.in2w}</div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: 18, display: \"grid\", gap: 10 }}>\n          <button type=\"button\" style={primaryBtn(false)} onClick={() => saveDraft(5)}>\n            Save your progress \n          </button>\n          <button type=\"button\" style={ghostBtn} onClick={() => saveDraft(3)}>\n            Back\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const renderSignup = () => {\n    return (\n      <div style={cardStyle}>\n        <ProgressBar step={6} total={6} />\n\n        <h2 style={{ marginTop: 0, marginBottom: 8, fontSize: 34 }}>Save your progress</h2>\n        <p style={subStyle}>Create an account, then pick your plan on the next page.</p>\n\n        {gateReason ? (\n          <div\n            style={{\n              marginBottom: 12,\n              padding: 10,\n              borderRadius: 12,\n              border: \"1px solid rgba(244, 197, 66, 0.35)\",\n              background: \"rgba(244, 197, 66, 0.12)\",\n              color: \"#e9edf2\",\n              fontWeight: 800\n            }}\n          >\n            Create a free account to access new drills.\n          </div>\n        ) : null}\n\n        {error ? <div style={errorStyle}>{error}</div> : null}\n\n        <form onSubmit={onSubmit}>\n          <div style={{ marginBottom: 10 }}>\n            <div style={labelStyle}>Email</div>\n            <input\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              type=\"email\"\n              autoComplete=\"email\"\n              style={inputStyle}\n              required\n            />\n          </div>\n\n          <div style={{ marginBottom: 12 }}>\n            <div style={labelStyle}>Password</div>\n            <input\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              type=\"password\"\n              autoComplete=\"new-password\"\n              style={inputStyle}\n              required\n            />\n          </div>\n\n          <button disabled={busy} type=\"submit\" style={primaryBtn(busy)}>\n            {busy ? \"Creating...\" : \"Sign Up\"}\n          </button>\n        </form>\n\n        <div style={{ marginTop: 12, color: \"rgba(255,255,255,0.75)\", textAlign: \"center\" }}>\n          Already have an account? <Link to=\"/login\">Sign in</Link>\n        </div>\n\n        <div style={{ marginTop: 12 }}>\n          <button type=\"button\" style={ghostBtn} onClick={() => saveDraft(4)}>\n            Back\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  let content = null;\n  if (step === 0) content = renderIntro();\n  else if (step === 1) content = renderRating();\n  else if (step === 2) content = renderMotivation();\n  else if (step === 3) content = renderGoal();\n  else if (step === 4) content = renderPath();\n  else content = renderSignup();\n\n  return (\n    <div style={pageStyle}>\n      <TopNav active=\"signup\" title=\"Chess Opening Drills\" />\n\n      <div style={wrapStyle}>{content}</div>\n    </div>\n  );\n}\n","// Profile.js\nimport React, { useEffect, useRef, useState, useCallback } from \"react\";\nimport TopNav from \"./TopNav\";\nimport { useAuth } from \"../auth/AuthProvider\";\nimport { db, serverTimestamp, functions } from \"../firebase\";\nimport { httpsCallable } from \"firebase/functions\";\nimport { doc, onSnapshot, runTransaction, setDoc } from \"firebase/firestore\";\nimport Chessboard from \"chessboardjsx\";\nimport { BOARD_THEMES, DEFAULT_THEME, PIECE_THEMES } from \"../theme/boardThemes\";\nimport \"./ActivityHeatmap.css\";\nimport \"./Profile.css\";\nimport { getActivityDays } from \"../utils/activityDays\";\n\nconst LS_SETTINGS_KEY = \"notation_trainer_opening_settings_v1\";\nconst SECRET_UNLOCK_KEY = \"chessdrills.secret_easteregg_v1\";\nconst AVATAR_KEY = \"chessdrills.avatar_v1\";\n\nconst KONAMI_KEYS = [\"ArrowUp\", \"ArrowUp\", \"ArrowDown\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\", \"ArrowLeft\", \"ArrowRight\", \"b\", \"a\"];\n\nfunction loadSecretUnlocked() {\n  try {\n    return window.localStorage.getItem(SECRET_UNLOCK_KEY) === \"1\";\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction saveSecretUnlocked(v) {\n  try {\n    window.localStorage.setItem(SECRET_UNLOCK_KEY, v ? \"1\" : \"0\");\n  } catch (_) {}\n\n}\n\nfunction loadAvatar() {\n  try {\n    const raw = window.localStorage.getItem(AVATAR_KEY);\n    return raw ? String(raw) : \"\";\n  } catch (_) {\n    return \"\";\n  }\n}\n\nfunction saveAvatar(dataUrl) {\n  try {\n    if (!dataUrl) window.localStorage.removeItem(AVATAR_KEY);\n    else window.localStorage.setItem(AVATAR_KEY, String(dataUrl));\n  } catch (_) {}\n}\n\nfunction safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction loadLocalSettings() {\n  const defaults = {\n    showConfetti: true,\n    playSounds: true,\n    boardTheme: DEFAULT_THEME,\n    pieceTheme: \"default\"\n  };\n\n  try {\n    const raw = window.localStorage.getItem(LS_SETTINGS_KEY);\n    if (!raw) return defaults;\n    const parsed = safeJsonParse(raw, defaults);\n    return {\n      showConfetti: parsed.showConfetti !== false,\n      playSounds: parsed.playSounds !== false,\n      boardTheme: parsed.boardTheme || DEFAULT_THEME,\n      pieceTheme: parsed.pieceTheme || \"default\"\n    };\n  } catch (_) {\n    return defaults;\n  }\n}\n\nfunction saveLocalSettings(patch) {\n  const cur = loadLocalSettings();\n  const next = { ...cur, ...(patch || {}) };\n  try {\n    window.localStorage.setItem(LS_SETTINGS_KEY, JSON.stringify(next));\n  } catch (_) {}\n  return next;\n}\n\nfunction normalizeUsername(raw) {\n  return String(raw || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/[^a-z0-9_]/g, \"\");\n}\n\nfunction ymdFromDate(dt) {\n  const y = dt.getFullYear();\n  const m = String(dt.getMonth() + 1).padStart(2, \"0\");\n  const d = String(dt.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${d}`;\n}\n\nfunction startOfWeekSunday(dt) {\n  const d = new Date(dt);\n  d.setHours(0, 0, 0, 0);\n  const day = d.getDay(); // 0 Sun\n  d.setDate(d.getDate() - day);\n  return d;\n}\n\nfunction addDays(dt, days) {\n  const d = new Date(dt);\n  d.setDate(d.getDate() + days);\n  return d;\n}\n\nfunction activityLevel(count) {\n  const n = Number(count) || 0;\n  if (n <= 0) return 0;\n  if (n === 1) return 1;\n  if (n <= 3) return 2;\n  if (n <= 6) return 3;\n  return 4;\n}\n\nfunction buildHeatmap(daysMap, weeks) {\n  const CELL = 16;\n  const GAP = 4;\n\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  const endWeekStart = startOfWeekSunday(today);\n  const start = addDays(endWeekStart, -(weeks - 1) * 7);\n\n  const columns = [];\n  for (let w = 0; w < weeks; w += 1) {\n    const weekStart = addDays(start, w * 7);\n    const cells = [];\n    for (let r = 0; r < 7; r += 1) {\n      const dt = addDays(weekStart, r);\n      dt.setHours(0, 0, 0, 0);\n\n      const isFuture = dt.getTime() > today.getTime();\n      const ymd = ymdFromDate(dt);\n\n      const raw = !isFuture && daysMap && Object.prototype.hasOwnProperty.call(daysMap, ymd) ? daysMap[ymd] : 0;\n      const count = Number(raw) || 0;\n\n      cells.push({\n        ymd,\n        count,\n        level: isFuture ? 0 : activityLevel(count),\n        isFuture\n      });\n    }\n    columns.push({ weekStart, cells });\n  }\n\n  const monthLabels = [];\n  let lastMonthKey = \"\";\n  for (let w = 0; w < columns.length; w += 1) {\n    const ws = columns[w].weekStart;\n    const y = ws.getFullYear();\n    const m = ws.getMonth(); // 0-11\n    const monthKey = `${y}-${m}`;\n\n    if (monthKey !== lastMonthKey) {\n      const mon = ws.toLocaleString(undefined, { month: \"short\" });\n\n      // If \"Jan\" appears twice in a 53 week window, disambiguate by adding the year suffix.\n      const needsYear = mon === \"Jan\" || (lastMonthKey && lastMonthKey.slice(0, 4) !== String(y));\n      const label = needsYear ? `${mon} '${String(y).slice(2)}` : mon;\n\n      monthLabels.push({\n        weekIndex: w,\n        label,\n        leftPx: w * (CELL + GAP)\n      });\n\n      lastMonthKey = monthKey;\n    }\n  }\n\n  const widthPx = weeks * CELL + (weeks - 1) * GAP;\n\n  return { columns, monthLabels, widthPx };\n}\n\nexport default function Profile() {\n  const { user, membershipTier, membershipActive, userDoc } = useAuth();\n\n \n\n  const [displayName, setDisplayName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [userData, setUserData] = useState(null);\n  const [activityTick, setActivityTick] = useState(0);\n  const [billingBusy, setBillingBusy] = useState(false);\n  const [billingError, setBillingError] = useState(\"\");\n  const [profileError, setProfileError] = useState(\"\");\n\n  const [editingUsername, setEditingUsername] = useState(false);\n  const [editingDisplayName, setEditingDisplayName] = useState(false);\n  const [boardTheme, setBoardTheme] = useState(DEFAULT_THEME);\n  const [pieceTheme, setPieceTheme] = useState(\"default\");\n  const [secretUnlocked, setSecretUnlocked] = useState(false);\n  const [avatarDataUrl, setAvatarDataUrl] = useState(\"\");\n  const [previewWidth, setPreviewWidth] = useState(320);\n  const boardPreviewRef = useRef(null);\n  const konamiRef = useRef({ idx: 0 });\n  const longPressTimerRef = useRef(null);\n  const longPressFiredRef = useRef(false);\n  const avatarInputRef = useRef(null);\n  const unlockSecretRef = useRef(null);\n  const membershipPlan = (userData && userData.membershipPlan) || (userDoc && userDoc.membershipPlan) || null;\n\n  useEffect(() => {\n    const el = boardPreviewRef.current;\n    if (!el) return;\n\n    const update = () => {\n      const w = el.getBoundingClientRect().width;\n      if (!w || Number.isNaN(w)) return;\n      const next = Math.max(220, Math.min(360, Math.floor(w)));\n      setPreviewWidth(next);\n    };\n\n    update();\n\n    let ro;\n    if (typeof ResizeObserver !== \"undefined\") {\n      ro = new ResizeObserver(() => update());\n      ro.observe(el);\n    } else {\n      window.addEventListener(\"resize\", update);\n    }\n\n    return () => {\n      if (ro) ro.disconnect();\n      else window.removeEventListener(\"resize\", update);\n    };\n  }, []);\n\n\n  const usernameInputRef = useRef(null);\n  const displayNameInputRef = useRef(null);\n  const heatmapScrollRef = useRef(null);\n\n  useEffect(() => {\n    const onAct = () => setActivityTick((x) => x + 1);\n    window.addEventListener(\"activity:updated\", onAct);\n    return () => window.removeEventListener(\"activity:updated\", onAct);\n  }, [])\n\n  useEffect(() => {\n    // Load theme from localStorage on first mount\n    const s = loadLocalSettings();\n    setBoardTheme(s.boardTheme || DEFAULT_THEME);\n    setPieceTheme(s.pieceTheme || \"default\");\n    setSecretUnlocked(loadSecretUnlocked());\n    setAvatarDataUrl(loadAvatar());\n  }, []);\n\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      if (!e) return;\n      const t = e.target;\n      const tag = t && t.tagName;\n      const editable = t && t.isContentEditable;\n      if (editable || tag === \"INPUT\" || tag === \"TEXTAREA\" || tag === \"SELECT\") return;\n\n      const key = e.key === \"B\" ? \"b\" : e.key === \"A\" ? \"a\" : e.key;\n      const st = konamiRef.current || { idx: 0 };\n\n      if (key === KONAMI_KEYS[st.idx]) {\n        st.idx += 1;\n      } else {\n        st.idx = key === KONAMI_KEYS[0] ? 1 : 0;\n      }\n\n      if (st.idx >= KONAMI_KEYS.length) {\n        st.idx = 0;\n        if (unlockSecretRef.current) unlockSecretRef.current();\n      }\n\n      konamiRef.current = st;\n    };\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      try { cancelLongPress(); } catch (_) {}\n    };\n  }, []);\n\n  useEffect(() => {\n    const el = boardPreviewRef.current;\n    if (!el) return;\n\n    const recalc = () => {\n      const w = Math.min(360, Math.max(240, el.clientWidth || 320));\n      setPreviewWidth(w);\n    };\n\n    recalc();\n    window.addEventListener(\"resize\", recalc);\n    return () => window.removeEventListener(\"resize\", recalc);\n  }, []);\n;\n\n  useEffect(() => {\n    const el = heatmapScrollRef.current;\n    if (!el) return;\n    el.scrollLeft = el.scrollWidth;\n  }, [activityTick]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    const ref = doc(db, \"users\", user.uid);\n\n    // Live updates so activityDays written by cloudSync shows up immediately\n    const unsub = onSnapshot(\n      ref,\n      (snap) => {\n        const data = snap.exists() ? snap.data() : {};\n        setUserData(data);\n        setDisplayName(data.displayName || \"\");\n        setUsername(data.username || \"\");\n\n        const remoteTheme = data && data.settings && data.settings.boardTheme;\n        if (remoteTheme) {\n          setBoardTheme((cur) => (cur === remoteTheme ? cur : remoteTheme));\n          saveLocalSettings({ boardTheme: remoteTheme });\n        }\n\n        const remoteAvatar = data && data.avatar && data.avatar.dataUrl ? String(data.avatar.dataUrl) : \"\";\n        if (remoteAvatar) {\n          setAvatarDataUrl((cur) => {\n            if (cur) return cur;\n            saveAvatar(remoteAvatar);\n            return remoteAvatar;\n          });\n        }\n\n        const remotePieceTheme = data && data.settings && data.settings.pieceTheme;\n        if (remotePieceTheme) {\n          setPieceTheme((cur) => (cur === remotePieceTheme ? cur : remotePieceTheme));\n          saveLocalSettings({ pieceTheme: remotePieceTheme });\n        }\n      },\n      () => {\n        // ignore\n      }\n    );\n\n    return () => {\n      try { unsub(); } catch (_) {}\n    };\n  }, [user]);\n\n  useEffect(() => {\n    if (editingUsername && usernameInputRef.current) {\n      usernameInputRef.current.focus();\n    }\n  }, [editingUsername]);\n\n  useEffect(() => {\n    if (editingDisplayName && displayNameInputRef.current) {\n      displayNameInputRef.current.focus();\n    }\n  }, [editingDisplayName]);\n\n  function unlockSecret() {\n    if (loadSecretUnlocked()) {\n      setSecretUnlocked(true);\n      return;\n    }\n\n    saveSecretUnlocked(true);\n    setSecretUnlocked(true);\n\n    // Immediate payoff.\n    const next = saveLocalSettings({ boardTheme: \"purpleblack\", pieceTheme: \"alpha\" });\n    setBoardTheme(next.boardTheme || DEFAULT_THEME);\n\n    setPieceTheme(next.pieceTheme || \"default\");\n\n\n    syncPublicProfile({ settings: { boardTheme: \"purpleblack\", pieceTheme: \"alpha\" } });\n\n    if (!user) return;\n    try {\n      const ref = doc(db, \"users\", user.uid);\n      runTransaction(db, async (tx) => {\n        tx.set(\n          ref,\n          { settings: { boardTheme: \"purpleblack\", pieceTheme: \"alpha\" }, updatedAt: serverTimestamp() },\n          { merge: true }\n        );\n      });\n    } catch (_) {\n      // ignore\n    }\n  }\n\n  function normalizeSecretInput(s) {\n    return String(s || \"\")\n      .toLowerCase()\n      .replace(/\\s+/g, \"\")\n      .replace(/[^a-z0-9]/g, \"\");\n  }\n\n  useEffect(() => {\n    unlockSecretRef.current = unlockSecret;\n  });\n\n  function matchesSecret(s) {\n    const x = normalizeSecretInput(s);\n    if (!x) return false;\n\n    // \"Konami\" string formats.\n    if (x === \"uuddlrlrba\") return true;\n    if (x === \"upupdowndownleftrightleftrightba\") return true;\n    if (x === \"upupdowndownleftrightleftrightbastart\") return true;\n\n    // Allow letters only typed with no arrows.\n    if (x === \"konami\") return true;\n\n    return false;\n  }\n\n  function promptForSecret() {\n    const v = window.prompt(\"Enter secret code\");\n    if (!v) return;\n    if (matchesSecret(v)) unlockSecret();\n  }\n\n  function beginLongPress() {\n    if (longPressTimerRef.current) return;\n    longPressTimerRef.current = setTimeout(() => {\n      longPressTimerRef.current = null;\n      longPressFiredRef.current = true;\n      promptForSecret();\n    }, 650);\n  }\n\n  function cancelLongPress() {\n    if (!longPressTimerRef.current) return;\n    clearTimeout(longPressTimerRef.current);\n    longPressTimerRef.current = null;\n  }\n\n\nconst resizeImageToDataUrl = useCallback((file, maxSize) => {\n  return new Promise((resolve, reject) => {\n    try {\n      if (!file) return resolve(\"\");\n\n      const reader = new FileReader();\n      reader.onerror = () => reject(new Error(\"read_failed\"));\n      reader.onload = () => {\n        const img = new Image();\n        img.onerror = () => reject(new Error(\"image_failed\"));\n        img.onload = () => {\n          try {\n            const w0 = img.width || 0;\n            const h0 = img.height || 0;\n            if (!w0 || !h0) return resolve(\"\");\n\n            const s = Math.max(w0, h0);\n            const scale = s > maxSize ? (maxSize / s) : 1;\n            const w = Math.max(1, Math.round(w0 * scale));\n            const h = Math.max(1, Math.round(h0 * scale));\n\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return resolve(\"\");\n            ctx.drawImage(img, 0, 0, w, h);\n\n            // JPEG keeps size down. 0.86 usually looks fine for avatars.\n            const dataUrl = canvas.toDataURL(\"image/jpeg\", 0.86);\n            resolve(dataUrl);\n          } catch (e) {\n            reject(e);\n          }\n        };\n        img.src = String(reader.result || \"\");\n      };\n      reader.readAsDataURL(file);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}, []);\n\nasync function onAvatarFileChange(e) {\n  const f = e && e.target && e.target.files && e.target.files[0] ? e.target.files[0] : null;\n  if (!f) return;\n  try {\n    const dataUrl = await resizeImageToDataUrl(f, 256);\n    if (!dataUrl) return;\n\n    saveAvatar(dataUrl);\n    setAvatarDataUrl(dataUrl);\n\n    await syncPublicProfile({ avatar: { dataUrl } });\n\n    // Best effort cloud sync. If it fails (rules/size), local still works.\n    if (user) {\n      try {\n        const ref = doc(db, \"users\", user.uid);\n        await runTransaction(db, async (tx) => {\n          tx.set(ref, { avatar: { dataUrl, updatedAt: serverTimestamp() }, updatedAt: serverTimestamp() }, { merge: true });\n        });\n      } catch (_) {}\n    }\n  } catch (_) {\n    // ignore\n  } finally {\n    try {\n      if (avatarInputRef.current) avatarInputRef.current.value = \"\";\n    } catch (_) {}\n  }\n}\n\nfunction openAvatarPicker() {\n  try {\n    if (avatarInputRef.current) avatarInputRef.current.click();\n  } catch (_) {}\n}\n\nfunction onAvatarClick() {\n  // Prevent click firing after long press prompt.\n  if (longPressFiredRef.current) {\n    longPressFiredRef.current = false;\n    return;\n  }\n  openAvatarPicker();\n}\n\n\nasync function syncPublicProfile(patch) {\n  if (!user) return;\n  const un = normalizeUsername(username);\n  if (!un) return;\n\n  const publicRef = doc(db, \"publicProfiles\", un);\n\n  const base = {\n    uid: user.uid,\n    username: un,\n    displayName: (displayName || \"\").trim() || \"Player\",\n    updatedAt: serverTimestamp()\n  };\n\n  const merged = { ...base, ...(patch || {}) };\n\n  try {\n    await setDoc(publicRef, merged, { merge: true });\n  } catch (_) {\n    // ignore\n  }\n}\n\n  const saveProfile = async () => {\n    setProfileError(\"\");\n    const dn = displayName.trim();\n    const un = normalizeUsername(username);\n\n    if (!user) return;\n\n    if (!dn) {\n      setProfileError(\"Display name is required.\");\n      return;\n    }\n\n    if (!un || un.length < 3) {\n      setProfileError(\"Username must be at least 3 characters.\");\n      return;\n    }\n\n    const userRef = doc(db, \"users\", user.uid);\n    const usernameRef = doc(db, \"usernames\", un);\n    const publicRef = doc(db, \"publicProfiles\", un);\n\n    try {\n      // 1) Claim username mapping (create if missing, never update)\n      await runTransaction(db, async (tx) => {\n        const snap = await tx.get(usernameRef);\n        if (snap.exists()) {\n          const existingUid = snap.data() && snap.data().uid ? snap.data().uid : \"\";\n          if (existingUid && existingUid !== user.uid) {\n            throw new Error(\"Username already taken\");\n          }\n          // If it already belongs to this uid, leave it untouched (avoid update permissions).\n          return;\n        }\n        tx.set(usernameRef, { uid: user.uid });\n      });\n\n      // 2) Save private profile fields (this must succeed even if public sync fails)\n      await setDoc(\n        userRef,\n        {\n          displayName: dn,\n          username: un,\n          email: user.email,\n          updatedAt: serverTimestamp()\n        },\n        { merge: true }\n      );\n\n      // 3) Best-effort public profile sync (do not block saving)\n      try {\n        await setDoc(\n          publicRef,\n          {\n            uid: user.uid,\n            username: un,\n            displayName: dn,\n            avatar: { dataUrl: avatarDataUrl || \"\" },\n            activityDays:\n              userData && userData.activityDays && typeof userData.activityDays === \"object\"\n                ? userData.activityDays\n                : {},\n            settings: { boardTheme: boardTheme || DEFAULT_THEME, pieceTheme: pieceTheme || \"default\" },\n            publicBadge:\n              membershipTier === \"lifetime\"\n                ? \"Lifetime Member\"\n                : membershipActive\n                ? \"Member\"\n                : \"\",\n            updatedAt: serverTimestamp()\n          },\n          { merge: true }\n        );\n      } catch (_) {\n        // ignore (public profile rules might be stricter than private profile rules)\n      }\n\n      setEditingUsername(false);\n      setEditingDisplayName(false);\n    } catch (err) {\n      const msg = err && err.message ? String(err.message) : \"Could not save profile. Try again.\";\n      setProfileError(msg);\n    }\n  };\n\nconst onChangeBoardTheme = async (nextTheme) => {\n  const next = saveLocalSettings({ boardTheme: nextTheme });\n  setBoardTheme(next.boardTheme || DEFAULT_THEME);\n\n  await syncPublicProfile({ settings: { boardTheme: nextTheme, pieceTheme } });\n\n  if (!user) return;\n  try {\n    const ref = doc(db, \"users\", user.uid);\n    await runTransaction(db, async (tx) => {\n      tx.set(\n        ref,\n        { settings: { boardTheme: nextTheme }, updatedAt: serverTimestamp() },\n        { merge: true }\n      );\n    });\n  } catch (_) {\n    // ignore\n  }\n};\n\nconst onChangePieceTheme = async (nextPieceTheme) => {\n  const next = saveLocalSettings({ pieceTheme: nextPieceTheme });\n  setPieceTheme(next.pieceTheme || \"default\");\n\n  await syncPublicProfile({ settings: { boardTheme, pieceTheme: nextPieceTheme } });\n\n  if (!user) return;\n  try {\n    const ref = doc(db, \"users\", user.uid);\n    await runTransaction(db, async (tx) => {\n      tx.set(\n        ref,\n        { settings: { pieceTheme: nextPieceTheme }, updatedAt: serverTimestamp() },\n        { merge: true }\n      );\n    });\n  } catch (_) {\n    // ignore\n  }\n};\n\n\n\n  const openBillingPortal = async () => {\n    setBillingError(\"\");\n    if (!user) return;\n\n    // Lifetime purchases have no subscription to cancel.\n    if (!membershipActive || membershipTier !== \"member\") {\n      return;\n    }\n\n    setBillingBusy(true);\n    try {\n      const fn = httpsCallable(functions, \"createBillingPortalLink\");\n      const res = await fn({});\n      const url = res && res.data && res.data.url ? String(res.data.url) : \"\";\n      if (url) {\n        window.location.href = url;\n      } else {\n        setBillingError(\"Could not open billing portal. Try again.\");\n      }\n    } catch (_) {\n      setBillingError(\"Could not open billing portal. Try again.\");\n    } finally {\n      setBillingBusy(false);\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <>\n      <TopNav title=\"Chess Opening Drills\" hideHero />\n\n      <div className=\"profile-wrap\">\n        <div className=\"profile-card\">\n          <h1 style={{ textAlign: \"center\" }}>Profile</h1>\n\n\n\n<input\n  ref={avatarInputRef}\n  type=\"file\"\n  accept=\"image/*\"\n  onChange={onAvatarFileChange}\n  style={{ display: \"none\" }}\n/>\n\n          <div\n            onMouseDown={beginLongPress}\n            onMouseUp={cancelLongPress}\n            onMouseLeave={cancelLongPress}\n            onTouchStart={beginLongPress}\n            onTouchEnd={cancelLongPress}\n            onTouchCancel={cancelLongPress}\n            onClick={onAvatarClick}\n            style={{\n              width: 72,\n              height: 72,\n              borderRadius: 999,\n              margin: \"10px auto 16px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              fontSize: 28,\n              fontWeight: 800,\n              background: \"radial-gradient(circle at 30% 30%, rgba(183,177,255,0.95), rgba(58,44,110,0.95))\",\n              border: \"1px solid rgba(255,255,255,0.14)\",\n              boxShadow: \"0 10px 26px rgba(0,0,0,0.35)\",\n              userSelect: \"none\",\n              WebkitUserSelect: \"none\",\n              touchAction: \"manipulation\",\n              cursor: \"pointer\"\n            }}\n            title=\"avatar\"\n            aria-label=\"avatar\"\n            role=\"button\"\n          >\n{avatarDataUrl ? (\n              <img\n                src={avatarDataUrl}\n                alt=\"Avatar\"\n                style={{ width: \"100%\", height: \"100%\", borderRadius: 999, objectFit: \"cover\" }}\n              />\n            ) : (\n              (displayName || username || \"?\").trim().slice(0, 1).toUpperCase()\n            )}\n          </div>\n\n          <div className=\"profile-toprow\">\n            <div>\n              <div className=\"profile-label\">Username</div>\n              {!editingUsername ? (\n                <div className=\"profile-row\">\n                  <div className=\"profile-value\">@{username}</div>\n                  <button onClick={() => setEditingUsername(true)}></button>\n                </div>\n              ) : (\n                <input\n                  ref={usernameInputRef}\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              )}\n\n              <div style={{ marginTop: 16 }}>\n                <div className=\"profile-label\">Display name</div>\n                {!editingDisplayName ? (\n                  <div className=\"profile-row\">\n                    <div className=\"profile-value\">{displayName}</div>\n                    <button onClick={() => setEditingDisplayName(true)}></button>\n                  </div>\n                ) : (\n                  <input\n                    ref={displayNameInputRef}\n                    value={displayName}\n                    onChange={(e) => setDisplayName(e.target.value)}\n                  />\n                )}\n              </div>\n            </div>\n\n            <div>\n              <div className=\"profile-label\">Email</div>\n              <div className=\"profile-value\">{user.email}</div>\n            </div>\n\n            <div>\n              <div className=\"profile-label\">Membership Status</div>\n              <div className=\"profile-value\">\n                {membershipTier === \"lifetime\" ? \"Lifetime Member\" : (membershipActive ? (membershipPlan === \"yearly\" ? \"Member (Yearly)\" : \"Member (Monthly)\") : \"Free\")}\n              </div>\n            </div>\n          </div>\n\n          {(editingUsername || editingDisplayName) && (\n            <div style={{ marginTop: 16 }}>\n              <button onClick={saveProfile}>Save profile</button>\n              <button\n                onClick={() => {\n                  setEditingUsername(false);\n                  setEditingDisplayName(false);\n                  setDisplayName(userData?.displayName || \"\");\n                  setUsername(userData?.username || \"\");\n                }}\n              >\n                Cancel\n              </button>\n\n              {profileError ? (\n                <div style={{ marginTop: 10, fontSize: 13, color: \"rgba(255, 180, 180, 0.95)\" }}>\n                  {profileError}\n                </div>\n              ) : null}\n            </div>\n          )}\n\n          <div className=\"activity-section\">\n            <div className=\"profile-label\">Your Activity</div>\n\n            <div className=\"activity-legend-row\">\n              <div className=\"activity-legend-label\">Less</div>\n              <div className=\"activity-legend-swatches\">\n                <span className=\"activity-cell level-0\" />\n                <span className=\"activity-cell level-1\" />\n                <span className=\"activity-cell level-2\" />\n                <span className=\"activity-cell level-3\" />\n                <span className=\"activity-cell level-4\" />\n              </div>\n              <div className=\"activity-legend-label\">More</div>\n            </div>\n\n            {(() => {\n              const localDays = getActivityDays();\n              const remoteDays =\n                userData && userData.activityDays && typeof userData.activityDays === \"object\"\n                  ? userData.activityDays\n                  : {};\n\n              const merged = { ...remoteDays };\n              Object.keys(localDays).forEach((k) => {\n                const a = Number(merged[k]) || 0;\n                const b = Number(localDays[k]) || 0;\n                merged[k] = Math.max(a, b);\n              });\n\n              const { columns, monthLabels, widthPx } = buildHeatmap(merged, 53);\n              const any = columns.some((col) => col.cells.some((c) => c.level > 0));\n              const dowLabels = [\"\", \"Mon\", \"\", \"Wed\", \"\", \"Fri\", \"\"]; // GitHub-style labels\n\n              return (\n                <div className=\"activity-scroll\" ref={heatmapScrollRef}>\n                  <div className=\"activity-inner\">\n                    <div className=\"activity-heatmap-wrap\">\n                      <div className=\"activity-dow\" aria-hidden=\"true\">\n                        {dowLabels.map((lab, idx) => (\n                          <div key={idx} className=\"activity-dow-label\">\n                            {lab}\n                          </div>\n                        ))}\n                      </div>\n\n                      <div>\n                        <div className=\"activity-months\" style={{ width: widthPx }}>\n                          {monthLabels.map((m) => (\n                            <div\n                              key={m.weekIndex + \":\" + m.label}\n                              className=\"activity-month\"\n                              style={{ left: m.leftPx }}\n                            >\n                              {m.label}\n                            </div>\n                          ))}\n                        </div>\n\n                        <div className=\"activity-grid\" role=\"img\" aria-label=\"Activity heatmap\">\n                          {columns.map((col, w) => (\n                            <div className=\"activity-week\" key={w}>\n                              {col.cells.map((c) => (\n                                <div\n                                  key={c.ymd}\n                                  className={`activity-cell level-${c.level}${c.isFuture ? \" is-future\" : \"\"}`}\n                                  title={c.isFuture ? \"\" : `${c.ymd}  ${c.count} activity`}\n                                />\n                              ))}\n                            </div>\n                          ))}\n                        </div>\n\n                  {!any && (\n                    <div className=\"activity-empty\">Keep drilling to start building your history.</div>\n                  )}\n\n                  <div className=\"activity-note\">\n                    Each square represents a day. Lighter colors indicate more activity.\n                  </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n\n          <div className=\"profile-divider\" />\n\n          <div className=\"profile-section\">\n            <div\n              className=\"profile-section-title\"\n              onMouseDown={beginLongPress}\n              onMouseUp={cancelLongPress}\n              onMouseLeave={cancelLongPress}\n              onTouchStart={beginLongPress}\n              onTouchEnd={cancelLongPress}\n              onTouchCancel={cancelLongPress}\n            >\n              Board Appearance\n            </div>\n\n            <div className=\"profile-setting-row\">\n              <div className=\"profile-setting-label\">Board Color</div>\n              <select\n                className=\"profile-select\"\n                value={boardTheme || DEFAULT_THEME}\n                onChange={(e) => onChangeBoardTheme(e.target.value)}\n              >\n                <option value=\"chesscom\">Chess.com</option>\n                <option value=\"lichess\">Lichess</option>\n                <option value=\"darkblue\">Dark Blue</option>\n                {secretUnlocked ? <option value=\"purpleblack\">Princess</option> : null}\n              </select>\n            </div>\n\n            {secretUnlocked ? (\n              <div className=\"profile-setting-row\">\n                <div className=\"profile-setting-label\">Piece Set</div>\n                <select\n                  className=\"profile-select\"\n                  value={pieceTheme || \"default\"}\n                  onChange={(e) => onChangePieceTheme(e.target.value)}\n                >\n                  <option value=\"default\">Default</option>\n                  <option value=\"alpha\">High Contrast</option>\n                </select>\n              </div>\n            ) : null}\n\n            <div className=\"profile-board-preview\" ref={boardPreviewRef}>\n              <Chessboard\n                width={previewWidth}\n                position=\"start\"\n                draggable={false}\n                pieceTheme={(PIECE_THEMES && PIECE_THEMES[pieceTheme || \"default\"]) || undefined}\n                {...BOARD_THEMES[boardTheme || DEFAULT_THEME]}\n              />\n            </div>\n\n            <div className=\"profile-membership-tools\">\n              <div className=\"profile-membership-title\">Membership</div>\n\n              {\n              membershipTier === \"lifetime\" ? (\n                <div className=\"profile-membership-row\">\n                  <div className=\"profile-membership-text\">Lifetime Member</div>\n                </div>\n              ) : membershipActive ? (\n                <div className=\"profile-membership-row\">\n                  <div className=\"profile-membership-text\">\n                    {membershipPlan === \"yearly\" ? \"Yearly subscription\" : \"Monthly subscription\"}\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"profile-membership-btn\"\n                    onClick={openBillingPortal}\n                    disabled={billingBusy}\n                  >\n                    {billingBusy ? \"Opening...\" : \"Manage subscription\"}\n                  </button>\n                </div>\n              ) : (\n                <div className=\"profile-membership-row\">\n                  <div className=\"profile-membership-text\">Start your 7 day free trial.</div>\n                  <button\n                    type=\"button\"\n                    className=\"profile-membership-btn\"\n                    onClick={() => { try { window.location.href = \"#/about\"; } catch (_) {} }}\n                  >\n                    Start Free Trial\n                  </button>\n                </div>\n              )\n            }\n\n              {billingError ? <div className=\"profile-membership-error\">{billingError}</div> : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}","import React, { useEffect, useMemo, useState } from \"react\";\nimport TopNav from \"./TopNav\";\nimport \"./Leaderboards.css\";\nimport { db } from \"../firebase\";\nimport { collection, getDocs, limit, orderBy, query } from \"firebase/firestore\";\nimport { useAuth } from \"../auth/AuthProvider\";\nimport { leaderboardScopeKey } from \"../utils/periodKeys\";\n\nfunction safeName(d) {\n  if (!d) return \"Anonymous\";\n  const dn = d.displayName ? String(d.displayName).trim() : \"\";\n  if (dn) return dn;\n  const un = d.username ? String(d.username).trim() : \"\";\n  if (un) return \"@\" + un;\n  return \"Anonymous\";\n}\n\nfunction normalizeUsername(raw) {\n  return String(raw || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/[^a-z0-9_]/g, \"\");\n}\n\nfunction getCollectionName(period) {\n\n  if (period === \"day\") return \"leaderboards_drill_daily\";\n  if (period === \"week\") return \"leaderboards_drill_weekly\";\n  if (period === \"month\") return \"leaderboards_drill_monthly\";\n  return \"leaderboards_drill_alltime\";\n}\n\n\n\nfunction tierForScore(score) {\n  const s = Number(score) || 0;\n  if (s >= 40) return { key: \"memory_machine\", label: \"Memory Machine\" };\n  if (s >= 20) return { key: \"repertoire_architect\", label: \"Repertoire Architect\" };\n  if (s >= 10) return { key: \"theorist\", label: \"Theorist\" };\n  if (s >= 5) return { key: \"bookworm\", label: \"Bookworm\" };\n  if (s >= 1) return { key: \"novice\", label: \"Novice\" };\n  return { key: \"unranked\", label: \"Unranked\" };\n}\n\nfunction snapshotStorageKey(collectionName, scopeKey) {\n  return `chessdrills.lb.snapshot.${collectionName}.${scopeKey}`;\n}\n\nfunction loadRankSnapshot(key) {\n  try {\n    const raw = window.localStorage.getItem(key);\n    if (!raw) return {};\n    const parsed = JSON.parse(raw);\n    return parsed && typeof parsed === \"object\" ? parsed : {};\n  } catch (_) {\n    return {};\n  }\n}\n\nfunction saveRankSnapshot(key, ranksByUid) {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(ranksByUid || {}));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction formatDelta(prevRank, nextRank) {\n  const p = Number(prevRank);\n  const n = Number(nextRank);\n  if (!p || !n) return null;\n  const delta = p - n;\n  if (!delta) return null;\n  return delta;\n}\n\nexport default function Leaderboards() {\n  const { user, isMember } = useAuth();\n\n  const [period, setPeriod] = useState(\"all\");\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const collectionName = useMemo(() => getCollectionName(period), [period]);\n\n  useEffect(() => {\n    let alive = true;\n\n    async function load() {\n      if (!user || !isMember) {\n        setRows([]);\n        setLoading(false);\n        return;\n      }\n      setLoading(true);\n      try {\n                const q = query(collection(db, collectionName), orderBy(\"score\", \"desc\"), limit(200));\n        const snap = await getDocs(q);\n        if (!alive) return;\n        const out = [];\n        snap.forEach((docSnap) => {\n          const data = docSnap.data() || {};\n                    out.push({\n            uid: docSnap.id,\n            username: data && data.username ? String(data.username).trim() : \"\",\n            name: safeName(data),\n            score: Number(data && data.score) || 0,\n            dayKey: data && data.dayKey ? String(data.dayKey) : \"\",\n            weekKey: data && data.weekKey ? String(data.weekKey) : \"\",\n            monthKey: data && data.monthKey ? String(data.monthKey) : \"\"\n          });\n        });\n\n        const scopeKey = leaderboardScopeKey(period === \"all\" ? \"all\" : period);\n        const snapKey = snapshotStorageKey(collectionName, scopeKey);\n        const prevRanks = loadRankSnapshot(snapKey);\n\n        let scoped = out.filter((r) => r.score > 0);\n\n        // Filter by scope key locally to avoid requiring a Firestore composite index.\n        if (period === \"day\") scoped = scoped.filter((r) => r.dayKey === scopeKey);\n        if (period === \"week\") scoped = scoped.filter((r) => r.weekKey === scopeKey);\n        if (period === \"month\") scoped = scoped.filter((r) => r.monthKey === scopeKey);\n\n        // Attach rank, tier, and movement since last visit.\n        const ranksNow = {};\n        const enriched = scoped.map((r, i) => {\n          const rank = i + 1;\n          ranksNow[r.uid] = rank;\n          const delta = formatDelta(prevRanks[r.uid], rank);\n          const tier = tierForScore(r.score);\n          return { ...r, rank, delta, tier };\n        });\n\n        saveRankSnapshot(snapKey, ranksNow);\n        setRows(enriched);\n      } catch (_) {\n        if (alive) setRows([]);\n      } finally {\n        if (alive) setLoading(false);\n      }\n    }\n\n    load();\n    return () => {\n      alive = false;\n    };\n  }, [collectionName, period, user, isMember]);\n  const meRank = useMemo(() => {\n    if (!user) return null;\n    const r = rows.find((x) => x.uid === user.uid);\n    return r && r.rank ? r.rank : null;\n  }, [rows, user]);\n\n  const meScore = useMemo(() => {\n    if (!user) return null;\n    const r = rows.find((x) => x.uid === user.uid);\n    return r ? r.score : null;\n  }, [rows, user]);\n\n  const rivals = useMemo(() => {\n    if (!user) return [];\n    const idx = rows.findIndex((r) => r.uid === user.uid);\n    if (idx < 0) return [];\n    const start = Math.max(0, idx - 3);\n    const endIdx = Math.min(rows.length, idx + 4);\n    return rows.slice(start, endIdx);\n  }, [rows, user]);\n\n  const scopeLabel = useMemo(() => {\n    if (period === \"day\") return \"today\";\n    if (period === \"week\") return \"this week\";\n    if (period === \"month\") return \"this month\";\n    return \"all time\";\n  }, [period]);\n\n\n  return (\n    <>\n      <TopNav title=\"Leaderboards\" hideHero active=\"leaderboards\" />\n\n      <div className=\"lb-wrap\">\n        <div className=\"lb-title\">\n          <div className=\"lb-h1\">\n            <span aria-hidden=\"true\"></span> Leaderboards\n          </div>\n\n          <div className=\"lb-tabs\">\n            <button className={\"lb-tab\" + (period === \"day\" ? \" active\" : \"\")} onClick={() => setPeriod(\"day\")}>\n              Daily\n            </button>\n            <button className={\"lb-tab\" + (period === \"week\" ? \" active\" : \"\")} onClick={() => setPeriod(\"week\")}>\n              Weekly\n            </button>\n            <button className={\"lb-tab\" + (period === \"all\" ? \" active\" : \"\")} onClick={() => setPeriod(\"all\")}>\n              All Time\n            </button>\n          </div>\n        </div>\n\n        <div className=\"lb-sub\">\n          {user ? (\n            <>\n              You're ranked <span className=\"lb-rank\">{meRank ? \"#\" + meRank : \"unranked\"}</span> in <span role=\"img\" aria-label=\"drill\"></span> Drill mode{\" \"}\n              {scopeLabel}. <span className=\"lb-since\">Movement is shown since your last visit.</span>\n              {meScore != null ? <span className=\"lb-score\"> ({meScore} pts)</span> : null}\n            </>\n          ) : (\n            <>Sign in to see your rank.</>\n          )}\n        </div>\n\n        <div className=\"lb-card\">\n          {!user ? (\n            <div className=\"lb-paywall\">\n              <div className=\"lb-paywall-title\">Create a free account to upgrade.</div>\n              <div className=\"lb-paywall-sub\">Leaderboards are members only. You need an account to purchase a membership.</div>\n              <div className=\"lb-paywall-actions\">\n                <a className=\"lb-paywall-btn\" href=\"#/signup\">Sign up</a>\n                <a className=\"lb-paywall-btn secondary\" href=\"#/about\">View membership</a>\n              </div>\n            </div>\n          ) : !isMember ? (\n            <div className=\"lb-paywall\">\n              <div className=\"lb-paywall-title\">Leaderboards are members only.</div>\n              <div className=\"lb-paywall-sub\">Upgrade to compete and show your flair.</div>\n              <div className=\"lb-paywall-actions\">\n                <a className=\"lb-paywall-btn\" href=\"#/about\">Upgrade</a>\n              </div>\n            </div>\n          ) : null}\n\n          <div className=\"lb-card-head\">\n            <div className=\"lb-card-title\"><span role=\"img\" aria-label=\"drill\"></span> Drill Mode</div>\n          </div>\n\n\n          {user && isMember && !loading && rows.length > 0 ? (\n            <div className=\"lb-rivals\">\n              <div className=\"lb-rivals-head\">\n                <div className=\"lb-rivals-title\">Local rivals</div>\n                <div className=\"lb-rivals-sub\">3 above you and 3 below you, {scopeLabel}.</div>\n              </div>\n\n              <div className=\"lb-rivals-list\">\n                {rivals.length > 0 ? (\n                  rivals.map((r) => {\n                    const isMe = user && r.uid === user.uid;\n                    const un = normalizeUsername(r.username);\n                    const label = isMe ? r.name + \" (you)\" : r.name;\n\n                    return (\n                      <div key={r.uid} className={\"lb-rival-row\" + (isMe ? \" me\" : \"\")}>\n                        <div className=\"lb-rival-rank\">\n                          <span className=\"lb-rank-pill\">#{r.rank}</span>\n                          {r.delta ? (\n                            <span className={\"lb-delta \" + (r.delta > 0 ? \"up\" : \"down\")} title=\"Rank change since your last visit\">\n                              {r.delta > 0 ? \"\" : \"\"} {Math.abs(r.delta)}\n                            </span>\n                          ) : null}\n                        </div>\n                        <div className=\"lb-rival-name\">\n                          {un ? (\n                            <a className=\"lb-userlink\" href={`#/u/${un}`} title={`View @${un}`}>\n                              {label}\n                            </a>\n                          ) : (\n                            label\n                          )}\n                          <span className={\"lb-tier \" + (r.tier ? r.tier.key : \"\")}>\n                            {r.tier ? r.tier.label : \"Unranked\"}\n                          </span>\n                        </div>\n                        <div className=\"lb-rival-score\">{r.score}</div>\n                      </div>\n                    );\n                  })\n                ) : (\n                  <div className=\"lb-empty\">You're unranked for {scopeLabel}. Play Drill to place.</div>\n                )}\n              </div>\n\n              {meRank && meRank > 200 ? (\n                <div className=\"lb-rivals-note\">You're outside the top 200, so this window may be incomplete.</div>\n              ) : null}\n            </div>\n          ) : null}\n\n          {user && isMember && loading ? (\n  <div className=\"lb-empty\">Loading...</div>\n) : user && isMember && rows.length > 0 ? (\n  <table className=\"lb-table\">\n    <thead>\n      <tr>\n        <th style={{ width: 90 }}>Rank</th>\n        <th>Player</th>\n        <th style={{ width: 110, textAlign: \"right\" }}>Points</th>\n      </tr>\n    </thead>\n    <tbody>\n      {rows.slice(0, 50).map((r) => {\n        const isMe = user && r.uid === user.uid;\n        const label = isMe ? r.name + \" (you)\" : r.name;\n        const un = normalizeUsername(r.username);\n\n        return (\n          <tr key={r.uid} className={isMe ? \"me\" : \"\"}>\n            <td>\n              <span className=\"lb-rank-pill\">#{r.rank}</span>\n              {r.delta ? (\n                <span className={\"lb-delta \" + (r.delta > 0 ? \"up\" : \"down\")} title=\"Rank change since your last visit\">\n                  {r.delta > 0 ? \"\" : \"\"} {Math.abs(r.delta)}\n                </span>\n              ) : null}\n            </td>\n            <td>\n              {un ? (\n                <a className=\"lb-userlink\" href={`#/u/${un}`} title={`View @${un}`}>\n                  {label}\n                </a>\n              ) : (\n                label\n              )}\n              <span className={\"lb-tier \" + (r.tier ? r.tier.key : \"\")} title=\"Tier based on your best Drill streak\">\n                {r.tier ? r.tier.label : \"Unranked\"}\n              </span>\n            </td>\n            <td style={{ textAlign: \"right\", fontWeight: 800 }}>{r.score}</td>\n          </tr>\n        );\n      })}\n    </tbody>\n  </table>\n) : user && isMember ? (\n  <div className=\"lb-empty\">\n    No scores yet. Play <span role=\"img\" aria-label=\"drill\"></span> Drill Mode.\n  </div>\n) : null}\n\n        </div>\n\n        <div className=\"lb-note\">\n          \n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { getFunctions, httpsCallable } from \"firebase/functions\";\nimport { useAuth } from \"../auth/AuthProvider\";\n\n\n\nconst CANONICAL_ORIGIN = \"https://chessdrills.net\";\nconst CANONICAL_REDIRECT_URI = `${CANONICAL_ORIGIN}/#/discord`;\n\nfunction parseOAuthParams(href) {\n  try {\n    const u = new URL(href);\n\n    // Standard: https://.../?code=...&state=...#/discord\n    const codeQ = u.searchParams.get(\"code\");\n    const stateQ = u.searchParams.get(\"state\");\n    if (codeQ && stateQ) return { code: codeQ, state: stateQ };\n\n    // Hash router variant: #/discord?code=...&state=...\n    const hash = u.hash || \"\";\n    const qIdx = hash.indexOf(\"?\");\n    if (qIdx >= 0) {\n      const qs = hash.slice(qIdx + 1);\n      const sp = new URLSearchParams(qs);\n      const codeH = sp.get(\"code\");\n      const stateH = sp.get(\"state\");\n      if (codeH && stateH) return { code: codeH, state: stateH };\n    }\n\n    return { code: null, state: null };\n  } catch {\n    return { code: null, state: null };\n  }\n}\n\nexport default function DiscordCallback() {\n\n  const history = useHistory();\n  const { user, authLoading } = useAuth();\n\n  const [status, setStatus] = useState(\"idle\"); // idle | waiting_auth | missing_params | working | success | error\n  const [error, setError] = useState(\"\");\n\n  // Guards against strict-mode double effect + rerenders\n  const ranRef = useRef(false);\n\nconst oauth = parseOAuthParams(window.location.href);\n\n  // Canonical domain bounce (one-time)\n  useEffect(() => {\n    if (window.location.origin !== CANONICAL_ORIGIN) {\n      const target = `${CANONICAL_ORIGIN}${window.location.pathname}${window.location.search}${window.location.hash}`;\n      window.location.replace(target);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (ranRef.current) return;\n\n    // Let the bounce happen first\n    if (window.location.origin !== CANONICAL_ORIGIN) return;\n\n    // Wait for auth initialization\n    if (authLoading) {\n      setStatus(\"waiting_auth\");\n      return;\n    }\n\n    if (!user) {\n      setStatus(\"waiting_auth\");\n      return;\n    }\n\n    const { code, state } = oauth;\n    if (!code || !state) {\n      setStatus(\"missing_params\");\n      return;\n    }\n\n    ranRef.current = true;\n    setStatus(\"working\");\n    setError(\"\");\n\n    const fn = httpsCallable(getFunctions(), \"discordOAuthCallback\");\n\n    (async () => {\n      try {\n        const res = await fn({ code, state, redirectUri: CANONICAL_REDIRECT_URI });\n        const data = res?.data || {};\n\n        if (data?.ok) {\n          setStatus(\"success\");\n          setTimeout(() => history.replace(\"/openings\"), 900);\n          return;\n        }\n\n        setStatus(\"error\");\n        setError(data?.error || \"Proceed Back to Trainer\");\n      } catch (e) {\n        const msg =\n          e?.message ||\n          e?.details ||\n          (typeof e === \"string\" ? e : \"\") ||\n          \"Discord linking!\";\n        setStatus(\"error\");\n        setError(msg);\n      }\n    })();\n  }, [authLoading, user, oauth, history]);\n\n  const openDiscord = () => window.open(\"https://discord.com/app\", \"_blank\", \"noopener,noreferrer\");\n  const backToTrainer = () => history.push(\"/openings\");\n  const signIn = () => history.push(\"/login\", { from: \"/discord\", reason: \"discord_link\" });\n\n  return (\n    <div style={{ minHeight: \"70vh\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", padding: 24 }}>\n      <div\n        style={{\n          maxWidth: 560,\n          width: \"100%\",\n          padding: 18,\n          borderRadius: 14,\n          border: \"1px solid rgba(255,255,255,0.08)\",\n          background: \"rgba(0,0,0,0.35)\",\n        }}\n      >\n        <h2 style={{ margin: 0, fontSize: 22 }}>Discord</h2>\n        <p style={{ marginTop: 10, opacity: 0.85 }}>\n          {status === \"idle\" && \"Preparing Discord link...\"}\n          {status === \"waiting_auth\" && \"Working... confirming your login session.\"}\n          {status === \"missing_params\" && \"Missing Discord authorization data. Click Link Discord again from the menu.\"}\n          {status === \"working\" && \"Working... linking your Discord account.\"}\n          {status === \"success\" && \"Linked. Applying roles. Sending you back...\"}\n          {status === \"error\" && \"Discord linking:\"}\n        </p>\n\n        {status === \"error\" && (\n          <pre\n            style={{\n              whiteSpace: \"pre-wrap\",\n              color: \"#ffb4b4\",\n              background: \"rgba(255,255,255,0.04)\",\n              padding: 10,\n              borderRadius: 10,\n            }}\n          >\n            {error}\n          </pre>\n        )}\n\n        <div style={{ display: \"flex\", gap: 10, marginTop: 14, flexWrap: \"wrap\" }}>\n          {status === \"waiting_auth\" && !authLoading && !user && (\n            <button className=\"btn\" onClick={signIn} type=\"button\">\n              Sign in\n            </button>\n          )}\n          <button className=\"btn\" onClick={openDiscord} type=\"button\">\n            Open Discord\n          </button>\n          <button className=\"btn\" onClick={backToTrainer} type=\"button\">\n            Back to Trainer\n          </button>\n        </div>\n\n        <div style={{ marginTop: 10, opacity: 0.6, fontSize: 12 }}>\n          \n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport TopNav from \"./TopNav\";\nimport Chessboard from \"chessboardjsx\";\nimport { BOARD_THEMES, DEFAULT_THEME, PIECE_THEMES } from \"../theme/boardThemes\";\nimport \"./ActivityHeatmap.css\";\nimport { db } from \"../firebase\";\nimport { doc, getDoc } from \"firebase/firestore\";\n\nfunction ymdFromDate(dt) {\n  const y = dt.getFullYear();\n  const m = String(dt.getMonth() + 1).padStart(2, \"0\");\n  const d = String(dt.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${d}`;\n}\n\nfunction addDays(dt, days) {\n  const d = new Date(dt);\n  d.setDate(d.getDate() + days);\n  return d;\n}\n\nfunction startOfWeekSunday(dt) {\n  const d = new Date(dt);\n  d.setHours(0, 0, 0, 0);\n  const day = d.getDay(); // 0 = Sun\n  d.setDate(d.getDate() - day);\n  return d;\n}\n\nfunction activityLevel(count) {\n  const n = Number(count) || 0;\n  if (n <= 0) return 0;\n  if (n === 1) return 1;\n  if (n <= 3) return 2;\n  if (n <= 6) return 3;\n  return 4;\n}\n\nfunction buildHeatmap(daysMap, weeks, endDate = new Date(), cell = 16, gap = 4) {\n  const CELL = Number(cell) || 16;\n  const GAP = Number(gap) || 4;\n\n  const today = new Date(endDate);\n  today.setHours(0, 0, 0, 0);\n\n  const endWeekStart = startOfWeekSunday(today);\n  const start = addDays(endWeekStart, -(weeks - 1) * 7);\n\n  const columns = [];\n  for (let w = 0; w < weeks; w += 1) {\n    const weekStart = addDays(start, w * 7);\n    const cells = [];\n    for (let r = 0; r < 7; r += 1) {\n      const dt = addDays(weekStart, r);\n      dt.setHours(0, 0, 0, 0);\n\n      const isFuture = dt.getTime() > today.getTime();\n      const ymd = ymdFromDate(dt);\n\n      const raw =\n        !isFuture && daysMap && Object.prototype.hasOwnProperty.call(daysMap, ymd)\n          ? daysMap[ymd]\n          : 0;\n      const count = Number(raw) || 0;\n\n      cells.push({\n        ymd,\n        count,\n        level: isFuture ? 0 : activityLevel(count),\n        isFuture\n      });\n    }\n    columns.push({ weekStart, cells });\n  }\n\n  const monthLabels = [];\n  let lastMonthKey = \"\";\n  for (let w = 0; w < columns.length; w += 1) {\n    const ws = columns[w].weekStart;\n    const y = ws.getFullYear();\n    const m = ws.getMonth();\n    const monthKey = `${y}-${m}`;\n\n    if (monthKey !== lastMonthKey) {\n      const mon = ws.toLocaleString(undefined, { month: \"short\" });\n      const needsYear = mon === \"Jan\" || (lastMonthKey && lastMonthKey.slice(0, 4) !== String(y));\n      const label = needsYear ? `${mon} '${String(y).slice(2)}` : mon;\n\n      monthLabels.push({\n        weekIndex: w,\n        label,\n        leftPx: w * (CELL + GAP)\n      });\n\n      lastMonthKey = monthKey;\n    }\n  }\n\n  const widthPx = weeks * CELL + (weeks - 1) * GAP;\n\n  return { columns, monthLabels, widthPx };\n}\n\nfunction normalizeUsername(raw) {\n  return String(raw || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/[^a-z0-9_]/g, \"\");\n}\n\nfunction getMembershipStatus(profileData) {\n  // Inference:\n  // - Public profile should not leak paid status unless you explicitly want that.\n  // - If you do want it, store a safe public field (e.g. profileData.publicBadge = \"Member\").\n  if (profileData && typeof profileData.publicBadge === \"string\" && profileData.publicBadge.trim()) {\n    return profileData.publicBadge.trim();\n  }\n  return \"\";\n}\n\nexport default function PublicProfile() {\n  const { username } = useParams();\n  const un = normalizeUsername(username);\n\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const heatmapScrollRef = useRef(null);\n  const boardWrapRef = useRef(null);\n  const [boardWidth, setBoardWidth] = useState(320);\n  const [isMobile, setIsMobile] = useState(false);\n\n\n  useEffect(() => {\n    const mq = window.matchMedia ? window.matchMedia(\"(max-width: 520px)\") : null;\n\n    const apply = () => {\n      if (mq) setIsMobile(!!mq.matches);\n      else setIsMobile((window.innerWidth || 0) <= 520);\n    };\n\n    apply();\n\n    if (!mq) {\n      window.addEventListener(\"resize\", apply);\n      return () => window.removeEventListener(\"resize\", apply);\n    }\n\n    const onChange = () => apply();\n    try {\n      if (mq.addEventListener) mq.addEventListener(\"change\", onChange);\n      else mq.addListener(onChange);\n    } catch (_) {}\n\n    return () => {\n      try {\n        if (mq.removeEventListener) mq.removeEventListener(\"change\", onChange);\n        else mq.removeListener(onChange);\n      } catch (_) {}\n    };\n  }, []);\n\n  useEffect(() => {\n    const el = heatmapScrollRef.current;\n    if (!el) return;\n\n    // Auto scroll visitors to the most recent day.\n    requestAnimationFrame(() => {\n      try {\n        el.scrollLeft = el.scrollWidth;\n      } catch (_) {}\n    });\n  }, [profile, isMobile]);\n\n\n  useEffect(() => {\n    const el = boardWrapRef.current;\n    if (!el) return;\n\n    const clamp = (n) => Math.max(240, Math.min(360, Math.floor(n)));\n\n    const apply = () => {\n      const w = el.getBoundingClientRect().width || 0;\n      if (w > 0) setBoardWidth(clamp(w));\n    };\n\n    apply();\n\n    let ro;\n    if (typeof ResizeObserver !== \"undefined\") {\n      ro = new ResizeObserver(() => apply());\n      try {\n        ro.observe(el);\n      } catch (_) {}\n    } else {\n      window.addEventListener(\"resize\", apply);\n    }\n\n    return () => {\n      if (ro) ro.disconnect();\n      else window.removeEventListener(\"resize\", apply);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!un) return;\n\n    (async () => {\n      const snap = await getDoc(doc(db, \"publicProfiles\", un));\n      setProfile(snap.exists() ? snap.data() : null);\n      setLoading(false);\n    })();\n  }, [un]);\n\n  const membershipStatus = useMemo(() => getMembershipStatus(profile), [profile]);\n\n  return (\n    <>\n      {/* Hide hero here so the public profile layout doesn't get shoved around by the big banner */}\n      <TopNav title=\"Chess Opening Drills\" hideHero />\n\n      <style>{`\n        .pp-wrap {\n          overflow-x: hidden;\n          max-width: 1080px;\n          margin: 0 auto;\n          padding: 24px 16px 48px;\n        }\n\n        .pp-card {\n          max-width: 900px;\n          margin: 0 auto;\n          border-radius: 16px;\n          background: rgba(20, 20, 25, 0.65);\n          border: 1px solid rgba(255,255,255,0.12);\n          box-shadow: 0 14px 40px rgba(0,0,0,0.45);\n          padding: 26px 26px 22px;\n          color: rgba(255,255,255,0.92);\n        }\n\n        .pp-title {\n          text-align: center;\n          font-size: 36px;\n          font-weight: 900;\n          margin: 6px 0 18px;\n        }\n\n        .pp-avatar {\n          width: 92px;\n          height: 92px;\n          border-radius: 999px;\n          object-fit: cover;\n          display: block;\n          margin: 0 auto 14px;\n          border: 1px solid rgba(255,255,255,0.14);\n          box-shadow: 0 12px 30px rgba(0,0,0,0.45);\n        }\n\n        .pp-toprow {\n          display: grid;\n          grid-template-columns: 1fr 1fr 1fr;\n          gap: 18px;\n          align-items: start;\n        }\n\n        .pp-label {\n          font-size: 13px;\n          opacity: 0.65;\n          margin-bottom: 6px;\n          color: rgba(255,255,255,0.70);\n        }\n\n        .pp-value {\n          font-size: 16px;\n          font-weight: 800;\n          color: rgba(255,255,255,0.95);\n        }\n\n        .pp-hr {\n          height: 1px;\n          background: rgba(255,255,255,0.10);\n          margin: 16px 0;\n        }\n\n        .pp-section-title {\n          font-size: 14px;\n          font-weight: 900;\n          opacity: 0.75;\n          margin-bottom: 12px;\n        }\n\n        .pp-box {\n          border-radius: 14px;\n          border: 1px solid rgba(255,255,255,0.10);\n          background: rgba(0,0,0,0.25);\n          padding: 14px;\n        }\n\n        .pp-board-box {\n          max-width: 360px;\n          margin: 0 auto;\n          text-align: center;\n        }\n\n        .pp-board-wrap {\n          display: block;\n          width: 100%;\n          max-width: 360px;\n          margin: 0 auto;\n        }\n\n        .pp-board-wrap > div {\n          margin: 0 auto;\n        }\n\n        @media (max-width: 820px) {\n          .pp-toprow {\n            grid-template-columns: 1fr;\n          }\n\n        }\n\n        @media (max-width: 480px) {\n          .pp-wrap {\n            padding: 12px 10px 34px;\n          }\n\n          .pp-card {\n            padding: 16px 12px 14px;\n            border-radius: 14px;\n          }\n\n          .pp-title {\n            font-size: 28px;\n            margin: 2px 0 10px;\n          }\n\n          .pp-avatar {\n            width: 76px;\n            height: 76px;\n            margin: 0 auto 10px;\n          }\n\n          .pp-toprow {\n            gap: 10px;\n          }\n\n          .pp-toprow > div {\n            text-align: center;\n          }\n\n          .pp-label {\n            font-size: 12px;\n            margin-bottom: 4px;\n          }\n\n          .pp-value {\n            font-size: 15px;\n          }\n\n          .pp-hr {\n            margin: 10px 0;\n          }\n\n          .pp-section-title {\n            margin-bottom: 8px;\n          }\n\n          .pp-box {\n            padding: 10px;\n          }\n        }\n      `}</style>\n\n      <div className=\"pp-wrap\">\n        {loading && <div style={{ maxWidth: 900, margin: \"0 auto\", opacity: 0.8 }}>Loading</div>}\n\n        {!loading && !profile && (\n          <div className=\"pp-card\">\n            <div className=\"pp-title\">Profile not found</div>\n            <div style={{ opacity: 0.75, textAlign: \"center\" }}>/u/{un}</div>\n          </div>\n        )}\n\n        {profile && (\n          <div className=\"pp-card\">\n            <div className=\"pp-title\">Profile</div>\n\n            {profile && profile.avatar && profile.avatar.dataUrl ? (\n              <img\n                className=\"pp-avatar\"\n                src={profile.avatar.dataUrl}\n                alt=\"Avatar\"\n              />\n            ) : null}\n\n            <div className=\"pp-toprow\">\n              <div>\n                <div className=\"pp-label\">Username</div>\n                <div className=\"pp-value\">{profile.username ? `@${profile.username}` : `@${un}`}</div>\n              </div>\n\n              <div>\n                <div className=\"pp-label\">Display name</div>\n                <div className=\"pp-value\">{profile.displayName || \"Player\"}</div>\n              </div>\n\n              <div>\n                <div className=\"pp-label\">Status</div>\n                <div className=\"pp-value\">{membershipStatus}</div>\n              </div>\n            </div>\n\n            <div className=\"pp-hr\" />\n\n<div className=\"pp-section-title\">Board</div>\n            <div className=\"pp-box pp-board-box\">\n              <div className=\"pp-board-wrap\" ref={boardWrapRef}>\n                <Chessboard\n    width={boardWidth}\n    position=\"start\"\n    draggable={false}\n    pieceTheme={\n      profile && profile.settings && profile.settings.pieceTheme\n        ? (PIECE_THEMES && PIECE_THEMES[profile.settings.pieceTheme]) || undefined\n        : undefined\n    }\n    {...BOARD_THEMES[(profile && profile.settings && profile.settings.boardTheme) || DEFAULT_THEME]}\n  />\n              </div>\n            </div>\n\n<div className=\"pp-hr\" />\n\n            <div className=\"pp-section-title\">Activity</div>\n            <div className=\"pp-box\">\n              <div className=\"activity-legend-row\" style={{ marginTop: 0 }}>\n                <div className=\"activity-legend-label\">Less</div>\n                <div className=\"activity-legend-swatches\">\n                  <span className=\"activity-cell level-0\" />\n                  <span className=\"activity-cell level-1\" />\n                  <span className=\"activity-cell level-2\" />\n                  <span className=\"activity-cell level-3\" />\n                  <span className=\"activity-cell level-4\" />\n                </div>\n                <div className=\"activity-legend-label\">More</div>\n              </div>\n\n              {(() => {\n                const days =\n                  profile && profile.activityDays && typeof profile.activityDays === \"object\"\n                    ? profile.activityDays\n                    : {};\n\n                const CELL = isMobile ? 12 : 16;\n                const GAP = isMobile ? 3 : 4;\n\n                const { columns, monthLabels, widthPx } = buildHeatmap(days, 53, new Date(), CELL, GAP);\n                const any = columns.some((col) => col.cells.some((c) => c.level > 0));\n                const dowLabels = [\"\", \"Mon\", \"\", \"Wed\", \"\", \"Fri\", \"\"]; // GitHub-style labels\n\n                if (!any) {\n                  return <div className=\"activity-empty\">No public activity yet.</div>;\n                }\n\n                return (\n                  <div className=\"activity-scroll\" ref={heatmapScrollRef}>\n                    <div className=\"activity-inner\">\n                      <div className=\"activity-heatmap-wrap\">\n                        <div className=\"activity-dow\" aria-hidden=\"true\">\n                          {dowLabels.map((lab, idx) => (\n                            <div key={idx} className=\"activity-dow-label\">\n                              {lab}\n                            </div>\n                          ))}\n                        </div>\n\n                        <div>\n                          <div className=\"activity-months\" style={{ width: widthPx }}>\n                            {monthLabels.map((m) => (\n                              <div\n                                key={m.weekIndex + \":\" + m.label}\n                                className=\"activity-month\"\n                                style={{ left: m.leftPx }}\n                              >\n                                {m.label}\n                              </div>\n                            ))}\n                          </div>\n\n                          <div className=\"activity-grid\" role=\"img\" aria-label=\"Activity heatmap\">\n                            {columns.map((col, w) => (\n                              <div className=\"activity-week\" key={w}>\n                                {col.cells.map((c) => (\n                                  <div\n                                    key={c.ymd}\n                                    className={`activity-cell level-${c.level}${c.isFuture ? \" is-future\" : \"\"}`}\n                                    title={c.isFuture ? \"\" : `${c.ymd}  ${c.count} activity`}\n                                  />\n                                ))}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })()}\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n","import { getFirestore, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\nimport { getStreakState } from \"./streak\";\n\nconst STORAGE_KEY = \"notation_trainer_opening_progress_v2\";\nconst CUSTOM_REPS_KEY = \"notation_trainer_custom_lines_v1\";\nconst ACTIVITY_DAYS_KEY = \"chessdrills.activity_days.v1\";\nconst LEARN_PROGRESS_KEY = \"notation_trainer_learn_progress_v1\";\n\nfunction safeJsonParse(raw, fallback) {\n  try {\n    return JSON.parse(raw);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction loadProgress() {\n  const raw = window.localStorage.getItem(STORAGE_KEY);\n  if (!raw) return { lines: {}, openings: {} };\n  const parsed = safeJsonParse(raw, { lines: {}, openings: {} });\n  if (!parsed || typeof parsed !== \"object\") return { lines: {}, openings: {} };\n  if (!parsed.lines) parsed.lines = {};\n  if (!parsed.openings) parsed.openings = {};\n  return parsed;\n}\n\nfunction loadCustomReps() {\n  const raw = window.localStorage.getItem(CUSTOM_REPS_KEY);\n  if (!raw) return [];\n  const parsed = safeJsonParse(raw, []);\n  return Array.isArray(parsed) ? parsed : [];\n}\n\nfunction loadActivityDays() {\n  const raw = window.localStorage.getItem(ACTIVITY_DAYS_KEY);\n  if (!raw) return {};\n  const parsed = safeJsonParse(raw, {});\n  return parsed && typeof parsed === \"object\" ? parsed : {};\n}\n\nfunction loadLearnProgress() {\n  const raw = window.localStorage.getItem(LEARN_PROGRESS_KEY);\n  if (!raw) return { openings: {} };\n  const parsed = safeJsonParse(raw, { openings: {} });\n  if (!parsed || typeof parsed !== \"object\") return { openings: {} };\n  if (!parsed.openings || typeof parsed.openings !== \"object\") parsed.openings = {};\n  return parsed;\n}\n\nasync function writeUserPatch(uid, patch) {\n  const db = getFirestore();\n  const ref = doc(db, \"users\", uid);\n  await setDoc(ref, { ...patch, updatedAt: serverTimestamp() }, { merge: true });\n}\n\nexport function installCloudSync(getCurrentUser) {\n  if (!getCurrentUser) return () => {};\n\n  let lastWriteAt = 0;\n  let pendingTimer = null;\n\n  const schedule = (fn) => {\n    const now = Date.now();\n    const delta = now - lastWriteAt;\n\n    if (delta > 1200) {\n      lastWriteAt = now;\n      fn();\n      return;\n    }\n\n    if (pendingTimer) clearTimeout(pendingTimer);\n    pendingTimer = setTimeout(() => {\n      lastWriteAt = Date.now();\n      fn();\n    }, 1200);\n  };\n\n  const onStreak = () => {\n    const u = getCurrentUser();\n    if (!u) return;\n    schedule(() => writeUserPatch(u.uid, { dailyStreak: getStreakState() }).catch(() => {}));\n  };\n\n  const onProgress = () => {\n    const u = getCurrentUser();\n    if (!u) return;\n    schedule(() => writeUserPatch(u.uid, { progress: loadProgress() }).catch(() => {}));\n  };\n\n  const onLearnProgress = () => {\n    const u = getCurrentUser();\n    if (!u) return;\n    schedule(() => writeUserPatch(u.uid, { learnProgress: loadLearnProgress() }).catch(() => {}));\n  };\n\n  const onCustom = () => {\n    const u = getCurrentUser();\n    if (!u) return;\n    schedule(() => writeUserPatch(u.uid, { customReps: loadCustomReps() }).catch(() => {}));\n  };\n\n  const onActivity = () => {\n    const u = getCurrentUser();\n    if (!u) return;\n    schedule(() => writeUserPatch(u.uid, { activityDays: loadActivityDays() }).catch(() => {}));\n  };\n\n  window.addEventListener(\"streak:updated\", onStreak);\n  window.addEventListener(\"progress:updated\", onProgress);\n  window.addEventListener(\"learnprogress:updated\", onLearnProgress);\n  window.addEventListener(\"customreps:updated\", onCustom);\n  window.addEventListener(\"activity:updated\", onActivity);\n\n  return () => {\n    window.removeEventListener(\"streak:updated\", onStreak);\n    window.removeEventListener(\"progress:updated\", onProgress);\n    window.removeEventListener(\"learnprogress:updated\", onLearnProgress);\n    window.removeEventListener(\"customreps:updated\", onCustom);\n    window.removeEventListener(\"activity:updated\", onActivity);\n    if (pendingTimer) clearTimeout(pendingTimer);\n  };\n}\n","import React, { useEffect } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport Home from './components/Home';\nimport About from './components/About';\nimport Practice from './components/Practice';\nimport OpeningTrainer from './components/OpeningTrainer';\nimport StreakModal from './components/StreakModal';\n\nimport { AuthProvider, useAuth } from './auth/AuthProvider';\nimport ProtectedRoute from './auth/ProtectedRoute';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport Profile from './components/Profile';\nimport Leaderboards from './components/Leaderboards';\nimport DiscordCallback from './components/DiscordCallback';\n\nimport PublicProfile from './components/PublicProfile';\nimport { installCloudSync } from './utils/cloudSync';\n\nfunction CloudSyncInstaller() {\n  const { user } = useAuth();\n\n  useEffect(() => {\n    const off = installCloudSync(() => user);\n    return () => {\n      if (off) off();\n    };\n  }, [user]);\n\n  return null;\n}\n\nclass App extends React.Component {\n  render () {\n    return (\n      <div className=\"board-container\">\n        <HashRouter basename='/'>\n          <AuthProvider>\n            <CloudSyncInstaller />\n            <StreakModal />\n\n            <Route exact path='/' component={Home} />\n            <Route path='/practice' component={Practice} />\n            <Route path='/openings' component={OpeningTrainer} />\n            <Route path='/about' component={About} />\n            <Route path='/leaderboards' component={Leaderboards} />\n\n            <Route path='/discord' component={DiscordCallback} />\n\n            <Route path='/login' component={Login} />\n            <Route path='/signup' component={Signup} />\n\n            {/* Public profiles (keep both routes) */}\n            <Route path='/profile/u/:username' component={PublicProfile} />\n            <Route path='/u/:username' component={PublicProfile} />\n\n            {/* Private profile must be exact so it doesn't swallow /profile/u/:username */}\n            <ProtectedRoute exact path='/profile' component={Profile} />\n          </AuthProvider>\n        </HashRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}