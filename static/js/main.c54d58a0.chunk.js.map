{"version":3,"sources":["components/TopNav.js","openings/londonLines.js","openings/sicilianDefenseLines.js","components/Home.js","components/About.js","components/Board.js","components/Settings.js","components/Practice.js","components/OpeningTrainer.js","App.js","serviceWorker.js","index.js"],"names":["wittySubtitles","TopNav","props","title","subtitle","setSubtitle","useState","useEffect","Math","floor","random","length","homeButton","active","onHome","React","createElement","className","onClick","Link","to","Fragment","showSpeedDrill","onSpeedDrill","londonLines","category","id","name","description","moves","explanations","sicilianDefenseLines","OPENINGS","key","lines","accent","badge","position","orientation","_loadProgress","empty","openings","raw","window","localStorage","getItem","parsed","text","fallback","JSON","parse","_","_safeJsonParse","_deriveCompletedCount","progress","openingKey","total","statsMap","completed","l","s","stats","timesClean","calcThumbWidth","_ref","screenWidth","screenHeight","w","Home","Component","constructor","super","onSearchChange","e","this","setState","search","target","value","goToOpening","history","push","concat","encodeURIComponent","goToCreateCustomRep","renderCard","o","state","perOpening","pct","round","class","role","tabIndex","onKeyDown","Chessboard","draggable","showNotation","calcWidth","style","width","totalCompleted","totalLines","r","render","q","trim","toLowerCase","filtered","filter","t","d","includes","height","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","placeholder","onChange","aria-label","strokeLinejoin","map","About","GithubCorner","href","rel","game","Chess","orientations","Board","newPosition","randomGameIndex","PGNData","load_pgn","data","reset","randomMoveIndex","initMove","nextMove","i","lastFullMove","move","fen","initMoveData","nextMoveData","nextMoveColor","color","squareStyles","answer","setTimeout","makeInitMove","updateSquareStyling","undo","console","log","from","backgroundColor","onDrop","sourceSquare","targetSquare","piece","toUpperCase","timed","callbackDisableSettings","correctMoves","correct","selectedSquare","legalTargets","incorrect","allowDrag","_ref2","charAt","clearSelection","getLegalTargets","fromSquare","square","verbose","m","onSquareClick","get","type","targets","onSquareRightClick","onAnimationEnd","time","timerCount","componentDidMount","interval","setInterval","finalBoardProps","callbackEnd","componentDidUpdate","prevProps","componentWillUnmount","clearInterval","renderSquareStyles","_objectSpread","boxShadow","toSq","existing","dot","mergedBg","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","Timer","display","FontAwesomeIcon","icon","whiteCircle","blackCircle","Settings","onChangeOrientation","bind","onChangeNotation","event","callbackSettings","checked","defaultChecked","disabled","Practice","disableSettings","marginTop","OPENING_SETS","london","label","playerColor","sicilian","X_SVG_DATA_URI","_randInt","min","max","_pickRandomLineId","excludeId","tries","_todayKey","Date","y","getFullYear","String","getMonth","padStart","day","getDate","_saveProgress","setItem","stringify","_ensureOpening","streak","bestStreak","completedToday","todayKey","totalClean","_getLineStats","lineId","bucket","timesSeen","timesCompleted","lastResult","_sideForIndex","_groupLines","out","forEach","cat","line","parts","split","_categoryForLine","preferred","cats","Object","keys","sort","a","b","ia","indexOf","ib","localeCompare","OpeningTrainer","onWindowClick","settingsOpen","lineMenuOpen","_settingsAnchorEl","contains","_linePickerAnchorEl","tag","tagName","isContentEditable","preventDefault","viewLive","viewBack","viewForward","code","repeat","solveArmed","playMoveForMe","onHint","getOpeningSet","openCustomModal","customModalOpen","customName","customMovesText","customError","closeCustomModal","saveCustomModal","nameRaw","Boolean","_splitMovesText","v","g","san","sloppy","ok","index","_validateSanMoves","nextLine","now","next","customLines","slice","_saveCustomLines","linePicker","resetLine","renderCustomModal","onMouseDown","stopPropagation","getLines","set","builtIn","customForOpening","getPlayerColor","getLine","find","getHintFromSquare","expectedSan","mv","expected","stepIndex","turn","fromSq","showHint","hintFromSquare","viewing","flags","isCapture","playSfx","nextStep","viewIndex","viewFen","lastMistake","wrongAttempt","mistakeUnlocked","playAutoMovesIfNeeded","toggleSettingsOpen","toggleLineMenuOpen","setSetting","settings","_saveSettings","_sfxLastAt","playSounds","sfx","paused","pause","currentTime","p","play","catch","getFenAtIndex","n","getViewIndex","goToViewIndex","nextIndex","clamped","undoMistake","keepUnlocked","_countedSeenForRun","bumpSeen","startRandomLine","nextId","startLine","retryLine","setOpeningKey","nextKey","nextLines","setLinePicker","val","bumpMistake","bumpCompleted","wasClean","didAutoMove","onCompletedLine","_autoNextTimer","clearTimeout","_confettiTimer","showConfetti","confettiActive","promotion","playedSAN","explanation","played","_ref3","stripMovePrefix","idx","head","test","sanitizeExplanation","esc","replace","reSan","RegExp","renderCoachArea","doneYourMoves","totalYourMoves","canUndo","unlocked","coachIndex","renderConfetti","pieces","left","delay","dur","rot","size","animationDelay","animationDuration","transform","_openCustomOnMount","firstSetKey","location","params","URLSearchParams","fromHome","firstLinesBuiltIn","customAll","Array","isArray","_loadCustomLines","customForFirst","firstLines","firstId","defaults","_loadSettings","base","process","capture","Audio","illegal","moveSelf","moveOpponent","values","preload","volume","addEventListener","removeEventListener","nextExpected","coachExpected","boardFen","canViewBack","canViewForward","side","_countMovesForSide","_countDoneMovesForSide","yourProgressPct","background","ref","el","grouped","arr","symbol","App","HashRouter","basename","Route","exact","path","component","hostname","match","ReactDOM","BrowserRouter","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.c54d58a0.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './TopNav.css';\n\nconst wittySubtitles = [\n  \"Because guessing on move six is not a plan\",\n  \"So your openings stop collapsing by move ten\",\n  \"Memorize first, improvise later\",\n  \"Make the first ten moves feel automatic\",\n  \"So the opening feels familiar instead of stressful\",\n  \"Build muscle memory before the clock starts ticking\",\n  \"Confidence starts before move one\",\n  \"Reps now so the middlegame feels easier\",\n  \"Turn preparation into a quiet advantage\",\n  \"Openings that feel boring to practice and great to play\",\n  \"Because clarity beats scrambling\",\n  \"Get comfortable early and play better later\",\n  \"Less thinking early, more thinking where it matters\",\n  \"Reps now, blunders later\",\n];\n\nfunction TopNav(props) {\n  const title = props.title || 'Chess Opening Reps';\n\n  const [subtitle, setSubtitle] = useState('');\n\n  useEffect(() => {\n    setSubtitle(wittySubtitles[Math.floor(Math.random() * wittySubtitles.length)]);\n  }, []);\n\n  const homeButton =\n    props.active === 'home' && props.onHome ? (\n      <button className=\"topnav-button active\" onClick={props.onHome}>\n        Home\n      </button>\n    ) : (\n      <Link to=\"/\">\n        <button className={props.active === 'home' ? 'topnav-button active' : 'topnav-button'}>\n          Home\n        </button>\n      </Link>\n    );\n\n  return (\n    <>\n<div className=\"page-hero\">\n        <h1>{title}</h1>\n        <p>{subtitle}</p>\n      </div>\n    \n<div className=\"topnav\">\n        <div className=\"topnav-inner\">\n          <div className=\"topnav-actions\">\n            {homeButton}\n\n            <Link to=\"/practice\">\n              <button className={props.active === 'practice' ? 'topnav-button active' : 'topnav-button'}>\n                Practice Notation\n              </button>\n            </Link>\n\n            <Link to=\"/openings\">\n              <button className={props.active === 'openings' ? 'topnav-button active' : 'topnav-button'}>\n                Openings Trainer\n              </button>\n            </Link>\n\n            <Link to=\"/about\">\n              <button className={props.active === 'about' ? 'topnav-button active' : 'topnav-button'}>\n                About\n              </button>\n            </Link>\n\n            {props.showSpeedDrill ? (\n              <button className=\"topnav-button primary\" onClick={props.onSpeedDrill}>\n                Start Notation Drill\n              </button>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n          </>\n  );\n}\n\nexport default TopNav;\n","// src/openings/londonLines.js\n\nexport const londonLines = [\n  // Categories: Classic London, Early ...c5 Systems, Anti-Bishop Ideas, Jobava, Aggressive Plans\n\n  {\n    category: \"Classic London\",\n    id: \"london-classic-solid-setup\",\n    name: \"London Classic: solid setup\",\n    description: \"Baseline London: develop naturally, meet ...Bd6 with Nbd2, and castle.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nbd2\", \"O-O\"],\n    explanations: [\n      \"Claim central space and keep flexible options for a London structure.\",\n      \"Black matches the center and contests d4.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Black develops and adds pressure to e4 and d5 squares.\",\n      \"Stabilize d4 and open lines for the light bishop and queen.\",\n      \"Black supports d5 and opens lines for the dark-squared bishop.\",\n      \"Develop and support the center.\",\n      \"Black often tries to trade the London bishop to reduce your pressure.\",\n      \"Support e4 ideas later, reinforce the center, and keep pieces coordinated.\",\n      \"Black finishes basic king safety and connects rooks.\"\n    ]\n  },\n\n  {\n    id: \"london-c3-nbd2\",\n    name: \"London with early c3 and Nbd2\",\n    description: \"Triangle structure: c3 supports d4 and keeps a slow, solid center.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"c3\", \"O-O\", \"Nbd2\"],\n    explanations: [\n      \"Take space and make ...e5 harder.\",\n      \"Black mirrors the central claim.\",\n      \"Commit to the London bishop placement early.\",\n      \"Black develops and contests the middle.\",\n      \"Reinforce d4 and open the diagonal for the f1 bishop.\",\n      \"Black supports d5 and prepares ...Bd6 or ...c5.\",\n      \"Develop and keep options for c4 or e3 structures.\",\n      \"Black wants to trade your active bishop on f4.\",\n      \"Build the London triangle, support d4, and reduce early tactics on b2.\",\n      \"Black secures the king and finishes basic development.\",\n      \"Develop while supporting e4 ideas and keeping pieces flexible.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-bf5\",\n    name: \"London vs early ...Bf5\",\n    description: \"Black mirrors the bishop. You develop calmly and prepare Bd3 ideas.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Bf5\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bd3\"],\n    explanations: [\n      \"Take the center first and define the structure.\",\n      \"Black matches the center and keeps symmetry.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Black mirrors, contesting your bishop and controlling e4.\",\n      \"Solidify the center and open your light bishop and queen.\",\n      \"Black supports d5 and keeps the option of ...Bd6.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black also develops and often aims for bishop trades.\",\n      \"Challenge the bishop on f5 and prepare a clear development plan.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-early-c5\",\n    name: \"London vs early ...c5\",\n    description: \"Meet the early pawn strike with simple development and support for d4.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Nc6\", \"Nbd2\"],\n    explanations: [\n      \"Establish central space so Black has to challenge it.\",\n      \"Black mirrors and keeps central tension.\",\n      \"Develop the bishop before committing to e3.\",\n      \"Black develops and eyes e4 and d5 squares.\",\n      \"Reinforce d4 and keep the structure stable.\",\n      \"Black strikes at d4 early, typical counterplay versus London setups.\",\n      \"Develop and prepare to support d4 against pressure.\",\n      \"Black adds more pressure on d4 and increases central control.\",\n      \"Support the center and prepare flexible recaptures and e4 later.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-c5-qb6\",\n    name: \"London vs ...c5 and ...Qb6\",\n    description: \"A common plan: Black hits b2 and d4. Nc3 is a direct practical defense.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Qb6\", \"Nc3\"],\n    explanations: [\n      \"Claim the center and invite a structured defense.\",\n      \"Black mirrors and supports central play.\",\n      \"London bishop out before e3 locks it in.\",\n      \"Black develops and adds central pressure.\",\n      \"Stabilize the center and open pieces.\",\n      \"Black attacks d4 and tries to open lines early.\",\n      \"Develop and keep your structure flexible.\",\n      \"Black attacks b2 and increases pressure on d4.\",\n      \"Defend d5 and b2 indirectly, develop, and keep central options.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-nh5\",\n    name: \"London vs early ...Nh5\",\n    description: \"Black tries to chase your bishop. Be5 is a direct, simple response.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"Nh5\", \"Be5\", \"Nd7\"],\n    explanations: [\n      \"Take central space and set up a stable structure.\",\n      \"Black matches the center and keeps symmetry.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and prepares to contest e4.\",\n      \"Support d4 and open the dark bishop and queen.\",\n      \"Black immediately targets the bishop on f4.\",\n      \"Keep the bishop on a useful diagonal and avoid being forced to retreat passively.\",\n      \"Black develops and supports potential ...f6 ideas later.\"\n    ]\n  },\n\n  {\n    id: \"london-early-dxc5\",\n    name: \"London with early dxc5\",\n    description: \"A practical capture to change the structure and force Black to react.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"dxc5\", \"e6\"],\n    explanations: [\n      \"Establish central presence.\",\n      \"Black mirrors and keeps central contact.\",\n      \"Develop the bishop before e3.\",\n      \"Black develops and contests the center.\",\n      \"Support d4 and open the light bishop and queen.\",\n      \"Black strikes at d4 and tries to open lines.\",\n      \"Take the c5 pawn to change the structure and reduce pressure on d4 for the moment.\",\n      \"Black supports the center and prepares to recapture or develop smoothly.\"\n    ]\n  },\n\n  {\n    id: \"london-exchange-cxd4\",\n    name: \"London vs ...cxd4 exchange\",\n    description: \"Black exchanges on d4. You recapture and keep development moving.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nf3\", \"Nc6\", \"c3\", \"cxd4\", \"exd4\"],\n    explanations: [\n      \"Take the center and define the pawn structure.\",\n      \"Black mirrors and contests the center.\",\n      \"London bishop to an active square before e3.\",\n      \"Black develops and increases central influence.\",\n      \"Support d4 and prepare to recapture if exchanges happen.\",\n      \"Black attacks d4 and looks for early counterplay.\",\n      \"Develop and keep options for c4 or e3 structures.\",\n      \"Black develops and adds more pressure on the center.\",\n      \"Recapture cleanly, keep structure coherent, and open lines for your pieces.\",\n      \"(Added) Keep development consistent and the move order legal.\",\n      \"(Added) Keep development consistent and the move order legal.\"\n    ]\n  },\n\n  {\n    id: \"london-preserve-bishop-bg3\",\n    name: \"Preserve bishop vs ...Bd6\",\n    description: \"When Black plays ...Bd6, Bg3 avoids the bishop trade and keeps your pressure.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bg3\"],\n    explanations: [\n      \"Claim the center first.\",\n      \"Black matches and fights for central squares.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Black develops and contests e4.\",\n      \"Stabilize d4 and open your pieces.\",\n      \"Black supports d5 and opens their dark bishop.\",\n      \"Develop and support central play.\",\n      \"Black aims to trade off your London bishop.\",\n      \"Keep the bishop, avoid the trade, and maintain long-term pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-trade-bishop-bxd6\",\n    name: \"Trade bishop intentionally\",\n    description: \"Sometimes you accept the trade to simplify and play a straightforward structure.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Bxd6\"],\n    explanations: [\n      \"Take the center and define the structure.\",\n      \"Black mirrors and contests central space.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and contests e4 and d5 squares.\",\n      \"Support d4 and open your light bishop and queen.\",\n      \"Black supports the center and prepares development.\",\n      \"Develop and keep your setup flexible.\",\n      \"Black offers a bishop trade to reduce your activity.\",\n      \"Trade on d6 if you prefer a simpler position and clear plans.\"\n    ]\n  },\n\n  {\n    id: \"london-early-h3\",\n    name: \"London with early h3\",\n    description: \"A slow move to limit ...Bg4 pins and prepare safe kingside development.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"h3\"],\n    explanations: [\n      \"Take central space and keep flexible development.\",\n      \"Black matches the center and keeps contact.\",\n      \"Develop the bishop before the structure is fixed.\",\n      \"Black develops and contests key central squares.\",\n      \"Reinforce d4 and open lines for pieces.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and support the center.\",\n      \"Black often wants to trade the London bishop.\",\n      \"Reduce ...Bg4 pins and give your kingside pieces more freedom.\"\n    ]\n  },\n\n  {\n    id: \"london-early-ne5\",\n    name: \"London with early Ne5\",\n    description: \"An aggressive outpost idea: Ne5 pressures c6 and f7 and can support kingside play.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Ne5\"],\n    explanations: [\n      \"Take the center and claim space.\",\n      \"Black mirrors and contests d4.\",\n      \"Develop actively before e3 locks the bishop.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open your light bishop and queen.\",\n      \"Black supports d5 and prepares to develop pieces.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black aims to trade off your active bishop.\",\n      \"Centralize and create a useful outpost that can support an e4 break or kingside plans.\"\n    ]\n  },\n\n  {\n    category: \"Jobava London\",\n    id: \"jobava-nc3-first\",\n    name: \"Jobava London: Nc3 first\",\n    description: \"Jobava style: Nc3 comes early, making the setup more direct and tactical.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"Nc3\", \"e6\", \"e3\", \"Bd6\"],\n    explanations: [\n      \"Take central space and keep options open.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop actively as in the London family.\",\n      \"Black develops and contests the center.\",\n      \"Develop aggressively and prepare quick piece coordination.\",\n      \"Black supports d5 and prepares ...Bd6.\",\n      \"Stabilize d4 and open lines for development.\",\n      \"Black aims to trade the bishop and reduce activity.\"\n    ]\n  },\n\n  {\n    id: \"jobava-vs-c5\",\n    name: \"Jobava vs ...c5\",\n    description: \"Black hits the center early. You keep development and structure stable.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"Nc3\", \"c5\", \"e3\", \"Nc6\"],\n    explanations: [\n      \"Claim the center and define a main structure.\",\n      \"Black matches the center.\",\n      \"Develop the bishop actively, keeping options for e3.\",\n      \"Black develops and contests central squares.\",\n      \"Develop early and increase central influence.\",\n      \"Black immediately pressures d4 and seeks counterplay.\",\n      \"Support d4 and open lines for development.\",\n      \"Black adds pressure on d4 and supports central play.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-bg4-pin\",\n    name: \"London vs ...Bg4 pin\",\n    description: \"Black pins early. You continue development and decide later how to respond.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"Bg4\", \"Nf3\", \"e6\", \"Nbd2\", \"Bd6\"],\n    explanations: [\n      \"Take central space and establish a stable base.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open the light bishop and queen.\",\n      \"Black supports d5 and prepares bishop development.\",\n      \"Develop and keep your c pawn flexible.\",\n      \"Black often tries to trade your bishop on f4.\",\n      \"Develop and prepare to unpin or support e4.\",\n      \"Black pins the knight and increases development pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-vs-qb6-no-c5\",\n    name: \"London vs early ...Qb6 without c5\",\n    description: \"Black often uses ...c5 then ...Qb6 to pressure b2 and d4. Nc3 is a direct defense and develops a piece.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"c5\", \"Nc3\", \"Qb6\"],\n    explanations: [\n      \"Take the center and define the structure early.\",\n      \"Black matches and contests d4.\",\n      \"Develop actively before e3.\",\n      \"Black develops and fights for the center.\",\n      \"Support d4 and open lines for development.\",\n      \"Black plays ...c5 to hit d4 and open the diagonal for the queen.\",\n      \"Nc3 defends d5/e4 ideas and supports d5 and b5 squares while developing.\",\n      \"Now ...Qb6 is legal and adds pressure on b2 and d4.\"\n    ]\n  },\n\n  {\n    id: \"london-h4-idea\",\n    name: \"London with kingside expansion idea\",\n    description: \"h4 is a commitment. It tries to gain space and can support an attack, but it creates targets.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"h4\"],\n    explanations: [\n      \"Claim space and define a stable structure.\",\n      \"Black mirrors and contests the center.\",\n      \"Place the bishop actively before e3.\",\n      \"Black develops and contests key squares.\",\n      \"Reinforce d4 and open the light bishop and queen.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and keep pawn structure options open.\",\n      \"Black aims to trade the bishop and reduce activity.\",\n      \"Gain kingside space and signal aggressive intentions, with the cost of weakening squares.\"\n    ]\n  },\n\n  {\n    id: \"london-long-castle-idea\",\n    name: \"London with long castle idea\",\n    description: \"A plan to castle long later. Qd2 connects pieces and supports queenside coordination.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nc3\", \"O-O\", \"Qd2\"],\n    explanations: [\n      \"Take the center and establish space.\",\n      \"Black mirrors and contests central squares.\",\n      \"Develop the bishop actively before e3.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open your light bishop and queen.\",\n      \"Black supports d5 and opens the dark bishop.\",\n      \"Develop and keep your structure flexible.\",\n      \"Black aims for a bishop trade.\",\n      \"Develop and support central play, often preparing queenside coordination.\",\n      \"Black secures the king and completes basic development.\",\n      \"Connect pieces and keep the option of long castling in some structures.\"\n    ]\n  },\n\n  {\n    id: \"london-c4-transition\",\n    name: \"London into Colle-style center\",\n    description: \"c4 changes the structure toward Queen's Gambit style play and increases central tension.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"c4\"],\n    explanations: [\n      \"Establish a central pawn and claim space.\",\n      \"Black mirrors and contests the center.\",\n      \"London bishop out before e3 locks it in.\",\n      \"Black develops and increases central influence.\",\n      \"Stabilize d4 and open lines for your pieces.\",\n      \"Black supports d5 and prepares development.\",\n      \"Develop and keep options open for c4 or e3.\",\n      \"Black aims to trade your bishop and reduce activity.\",\n      \"Increase central tension and transition into a more open center structure.\"\n    ]\n  },\n\n  {\n    id: \"london-e4-break-ne5-plan\",\n    name: \"London into e4 break\",\n    description: \"Ne5 often supports an e4 plan later and creates more active piece play.\",\n    moves: [\"d4\", \"d5\", \"Bf4\", \"Nf6\", \"e3\", \"e6\", \"Nf3\", \"Bd6\", \"Nbd2\", \"O-O\", \"Ne5\"],\n    explanations: [\n      \"Take central space and define the structure.\",\n      \"Black mirrors and contests d4.\",\n      \"Develop actively before e3 locks the bishop.\",\n      \"Black develops and fights for central squares.\",\n      \"Stabilize d4 and open the light bishop and queen.\",\n      \"Black supports d5 and opens development options.\",\n      \"Develop and keep your pawn structure flexible.\",\n      \"Black aims to trade your active bishop.\",\n      \"Develop and prepare e4 ideas with better support.\",\n      \"Black completes king safety and development.\",\n      \"Create an outpost and support more active central play, often connected to an eventual e4 break.\"\n    ]\n  },\n\n  // -----------------------------\n  // Added lines requested by you (deduped by exact move sequence)\n  // -----------------------------\n\n  {\n    id: \"london-line-01-nb5-nc7-tactic\",\n    name: \"Tactic: Nb5 and Nc7+ fork\",\n    description: \"Sharp line where Nb5 and Nc7+ appear after early ...c5 and ...e5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"c5\",\"Nc3\",\"Nc6\",\"Nb5\",\"e5\",\"Bxe5\",\"Nxe5\",\"dxe5\",\"Ne4\",\"Qxd5\",\"Qxd5\",\"Nc7+\",\"Kd8\",\"Nxd5\",\"Be6\",\"c4\"],\n    explanations: [\n      \"Take space and keep a London structure available.\",\n      \"Black mirrors the center and keeps symmetry.\",\n      \"Develop the bishop before locking it in with e3.\",\n      \"Develop and contest e4 and d5.\",\n      \"Support d4 and open the dark bishop and queen.\",\n      \"Immediate pressure on d4 and a typical counterpunch.\",\n      \"Defend d5 pressure points and add central control.\",\n      \"Add more pressure on d4 and support ...e5 ideas.\",\n      \"Aim at c7 and set up a concrete tactical threat.\",\n      \"Try to kick the bishop and open lines quickly.\",\n      \"Take the pawn while the tactics still hold.\",\n      \"Recover material and centralize a piece.\",\n      \"Remove the knight and open lines in the center.\",\n      \"Hit c3 and create threats against f2 and d2 squares.\",\n      \"Grab the pawn and steer into simplification.\",\n      \"Black trades queens to reduce tactics.\",\n      \"Fork check to win time and usually win material.\",\n      \"Step out of check, often forced.\",\n      \"Consolidate by taking material and stabilizing the position.\",\n      \"Develop and contest key central squares.\",\n      \"Gain space and limit Black's central breaks.\"\n    ]\n  },\n\n  {\n    id: \"london-line-02-ne5-bb5-simplify\",\n    name: \"Ne5 and Bb5+ simplification\",\n    description: \"Ne5 plus Bb5+ often forces a block and leads to clean trades.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Nbxd7\",\"Bxd6\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black matches the center.\",\n      \"Develop actively before committing to e3.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Solidify d5 and prepare ...Bd6.\",\n      \"Develop and keep king safety simple.\",\n      \"Challenge your bishop and develop a piece.\",\n      \"Use the outpost and put immediate questions to Black's setup.\",\n      \"Strike at d4 and try to generate counterplay.\",\n      \"Force a reply and reduce Black's flexibility.\",\n      \"Block and invite trades.\",\n      \"Trade off a defender and simplify.\",\n      \"Recapture while keeping development coherent.\",\n      \"Accept a trade to reach a straightforward structure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-03-qa5-nc7-fork\",\n    name: \"Qa5+ and Nc7+ fork motif\",\n    description: \"After ...Qa5+ and ...e5, the Nc7+ fork often decides the line quickly.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"c5\",\"Nf3\",\"Nc6\",\"Nc3\",\"Nf6\",\"Nb5\",\"Qa5+\",\"c3\",\"e5\",\"Nxe5\",\"c4\",\"Nxc4\",\"dxc4\",\"Nc7+\"],\n    explanations: [\n      \"Take the center and keep London options.\",\n      \"Black mirrors and contests central space.\",\n      \"Develop the bishop before e3 locks it in.\",\n      \"Support d5 and open lines for Black's dark bishop.\",\n      \"Stabilize d4 and prepare development.\",\n      \"Attack d4 and start counterplay.\",\n      \"Develop and guard central squares.\",\n      \"Add pressure on d4 and support ...e5.\",\n      \"Increase control of d5 and e4 and support Nb5 ideas.\",\n      \"Develop and contest the center.\",\n      \"Aim directly at c7 and set up tactics.\",\n      \"Check plus pressure on c3 and a2, also nudging you into c3.\",\n      \"Block the check and hold the d4 structure together.\",\n      \"Strike the center and try to punish the Nb5 setup.\",\n      \"Take the pawn and keep tactics alive.\",\n      \"Gain space and hit the knight on d3 and b3 squares later.\",\n      \"Recover a pawn and keep the knight active.\",\n      \"Black takes back and opens the d file and diagonal.\",\n      \"Fork check that usually wins material or forces an awkward king move.\"\n    ]\n  },\n\n  {\n    id: \"london-line-04-qa5-qxd5-hit\",\n    name: \"Qa5+ and Qxd5 grab\",\n    description: \"A sharp Nb5 line where White often wins a pawn with Qxd5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c5\",\"e3\",\"Nc6\",\"Nc3\",\"Nf6\",\"Nb5\",\"Qa5+\",\"c3\",\"e5\",\"Bxe5\",\"Nxe5\",\"dxe5\",\"Nd7\",\"Qxd5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Pressure d4 early.\",\n      \"Support d4 and open your pieces.\",\n      \"Add pressure on d4 and support ...e5.\",\n      \"Develop and keep Nb5 tactics available.\",\n      \"Develop and contest e4.\",\n      \"Put pressure on c7 and threaten tactics.\",\n      \"Check that also hits c3 ideas.\",\n      \"Block the check and stabilize the center.\",\n      \"Strike at the bishop and center.\",\n      \"Take while the tactic works.\",\n      \"Black recovers and centralizes.\",\n      \"Remove the knight and open lines.\",\n      \"Re-route to recapture or cover key squares.\",\n      \"Grab the pawn and reduce Black's initiative.\"\n    ]\n  },\n\n  {\n    id: \"london-line-05-f6-e5-gambit\",\n    name: \"...f6 and ...e5 gambit idea\",\n    description: \"Black tries to force open play with ...f6 and ...e5. White takes and simplifies.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"f6\",\"Nf3\",\"e5\",\"dxe5\",\"fxe5\",\"Nxe5\",\"Nxe5\",\"Bxe5\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop before e3 locks the bishop.\",\n      \"Support ...e5 and develop a piece.\",\n      \"Solidify d4 and open your pieces.\",\n      \"Support ...e5 but weaken dark squares and king safety.\",\n      \"Develop and prepare to meet ...e5.\",\n      \"Challenge the center immediately.\",\n      \"Accept the challenge and remove central tension.\",\n      \"Black recaptures and opens the f file.\",\n      \"Take the pawn and hit c6 and f7 squares.\",\n      \"Black trades to reduce White activity.\",\n      \"Recapture with the bishop and keep a clean position.\"\n    ]\n  },\n\n  {\n    id: \"london-line-06-ne5-bxf4-nxc5\",\n    name: \"Ne5 line with ...Bxf4 and Nxc5+\",\n    description: \"A forcing variation where Black takes on f4 and White picks up c5 with check.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Bxf4\",\"Nxc5+\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Solidify d5 and open Black's bishop.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge the bishop and develop.\",\n      \"Centralize and create direct pressure.\",\n      \"Strike at d4 and create counterplay.\",\n      \"Force a response and improve your piece activity.\",\n      \"Block and offer trades.\",\n      \"Trade a piece to simplify.\",\n      \"Black grabs the bishop, removing a key London piece.\",\n      \"Win the c5 pawn with check and gain tempo.\"\n    ]\n  },\n\n  {\n    id: \"london-line-07-king-attack-sac\",\n    name: \"Kingside attack: Bxh7+ sac line\",\n    description: \"A concrete attacking line with Bxh7+ and a follow-up attack on the king.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"O-O\",\"Nd2\",\"c5\",\"c3\",\"Nc6\",\"Bd3\",\"Bxe5\",\"dxe5\",\"Nd7\",\"Nf3\",\"Qc7\",\"Bxh7+\",\"Kxh7\",\"Ng5+\",\"Kg6\",\"Qc2+\",\"f5\",\"exf6+\",\"Kxf6\",\"Nh7+\",\"Kf7\",\"Bxc7\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop the bishop before e3.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Solidify d5 and prepare development.\",\n      \"Develop and keep king safety options.\",\n      \"Challenge your bishop and develop.\",\n      \"Centralize and point pieces toward the kingside.\",\n      \"Black secures the king.\",\n      \"Support e4 ideas and keep pieces coordinated.\",\n      \"Strike at d4 and open lines.\",\n      \"Support d4 and control central squares.\",\n      \"Develop and add pressure on d4 and e5.\",\n      \"Aim at h7 and build attacking chances.\",\n      \"Black removes the knight to reduce pressure.\",\n      \"Keep a strong pawn center and open the d file.\",\n      \"Reposition to challenge e5 and defend key squares.\",\n      \"Re-develop and keep the attack alive.\",\n      \"Support ...Nxe5 ideas and defend h7 indirectly.\",\n      \"Sacrifice for king exposure if the follow-up is known.\",\n      \"Accept the sacrifice and step onto an exposed square.\",\n      \"Force the king to move and keep initiative.\",\n      \"King runs forward to avoid immediate mates.\",\n      \"Bring the queen in with check and keep threats going.\",\n      \"Block lines and try to kick attackers away.\",\n      \"Open lines and keep forcing play.\",\n      \"Black takes and tries to stabilize with extra material.\",\n      \"Keep checking to avoid losing momentum.\",\n      \"King heads back toward safety.\",\n      \"Pick up material while the king is still awkward.\"\n    ]\n  },\n\n  {\n    id: \"london-line-08-f5-long-castle\",\n    name: \"Long castle plan into ...f5\",\n    description: \"Both sides commit: White castles long, Black plays ...f5 and clamps the center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"e6\",\"Nbd2\",\"Bd6\",\"Ne5\",\"O-O\",\"c3\",\"Ne4\",\"Nxe4\",\"dxe4\",\"Qc2\",\"f5\",\"O-O-O\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop the bishop before locking it in.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Develop and support ...e5 or ...c5.\",\n      \"Develop and prepare to castle.\",\n      \"Solidify d5 and open development.\",\n      \"Support e4 ideas and keep options flexible.\",\n      \"Challenge your bishop and develop.\",\n      \"Centralize and define the plan.\",\n      \"Black secures the king.\",\n      \"Support d4 and reduce tactical hits on b2.\",\n      \"Black grabs the outpost and trades pieces.\",\n      \"Remove the centralized knight.\",\n      \"Black recaptures and opens central files.\",\n      \"Support e4 pressure and prepare kingside or queenside plans.\",\n      \"Fix the center and claim space on the kingside.\",\n      \"Commit to opposite-side castling and a more concrete game.\"\n    ]\n  },\n\n  {\n    id: \"london-line-09-c6-qb3-queen-trade\",\n    name: \"c6 and Qb3 queen trade\",\n    description: \"A common practical line: Qb3 invites a queen trade and leads to a minority structure.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Nf6\",\"c4\",\"Bf5\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and keeps symmetry.\",\n      \"Develop the bishop outside the pawn chain.\",\n      \"Solid support for d5 and prepare ...Bf5.\",\n      \"Support d4 and open your pieces.\",\n      \"Develop and contest e4.\",\n      \"Increase central tension and shift toward QG structures.\",\n      \"Develop and contest your bishop's diagonal.\",\n      \"Pressure b7 and d5 and ask an early question.\",\n      \"Meet the pressure and offer simplification.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to reduce complexity.\",\n      \"Recapture and accept doubled pawns for structure and open a file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-10-mirror-bf5-c4\",\n    name: \"Mirror bishops with early c4\",\n    description: \"Symmetry with ...Bf5. White plays c4 and heads into a Queen's Gambit style center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"e6\",\"Nc3\",\"Nf6\",\"e3\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black mirrors and fights for e4.\",\n      \"Increase central tension and challenge d5 directly.\",\n      \"Support d5 and open the dark bishop.\",\n      \"Develop and add control of d5.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open your pieces.\"\n    ]\n  },\n\n  {\n    id: \"london-line-11-qg4-bishop-trade\",\n    name: \"Early Qg4 and bishop trade\",\n    description: \"A forcing line where Qg4 provokes ...Bxf4 and then queens trade quickly.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"Bxf4\",\"Qxg7\",\"Qf6\",\"Qxf6\",\"Nxf6\",\"exf4\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop the bishop before e3.\",\n      \"Support d5 and open lines.\",\n      \"Stabilize the center and open pieces.\",\n      \"Challenge your bishop and develop.\",\n      \"Directly pressure g7 and force Black to decide.\",\n      \"Black trades off your bishop to remove pressure.\",\n      \"Grab the pawn and force further simplification.\",\n      \"Offer a queen trade and defend key squares.\",\n      \"Take the trade to avoid drifting into tactics you do not know.\",\n      \"Black recaptures and develops.\",\n      \"Restore material balance and open the e file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-12-qh5-qxe5-check\",\n    name: \"Qh5+ and Qxe5+\",\n    description: \"A forcing check line that punishes ...f6 with immediate queen activity.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"f6\",\"e3\",\"e5\",\"dxe5\",\"fxe5\",\"Qh5+\",\"g6\",\"Qxe5+\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Support ...e5 but weaken the king and dark squares.\",\n      \"Keep the structure solid and open the queen.\",\n      \"Black tries to blow the center open.\",\n      \"Remove the pawn and open lines.\",\n      \"Recapture and open the f file.\",\n      \"Immediate check to exploit the weakened dark squares.\",\n      \"Block the check but weaken more squares.\",\n      \"Win the pawn and keep the king under pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-13-qf3-b5-queen-take\",\n    name: \"Qf3 and ...b5 structure hit\",\n    description: \"Black grabs space with ...b5. White uses Qf3 to target f5 and b7 patterns.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Rxb8\",\"Qxf5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Black mirrors and contests e4.\",\n      \"Challenge d5 and open the game.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture c4 and open pieces.\",\n      \"Support the extra pawn and gain queenside space.\",\n      \"Target f5 and prepare tactical pressure.\",\n      \"Support b5 and prepare ...e6 or ...Nf6.\",\n      \"Remove the defender on b8 and simplify.\",\n      \"Recapture and open the rook file.\",\n      \"Win the bishop if it is pinned to the king or tactically loose.\"\n    ]\n  },\n\n  {\n    id: \"london-line-14-qxa8-grab\",\n    name: \"Qxa8 grab line\",\n    description: \"A greedy tactical line where White can take on a8 if Black's coordination breaks.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase central tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Pressure f5 and watch tactical targets.\",\n      \"Support b5 and prepare development.\",\n      \"Remove the rook's defender and simplify.\",\n      \"Black grabs material and disrupts your queenside.\",\n      \"Check while picking up material and keeping initiative.\",\n      \"Block the check and keep pieces connected.\",\n      \"Take the rook if it is actually available and safe.\"\n    ]\n  },\n\n  {\n    id: \"london-line-15-bf5-b6-nb5-rc1\",\n    name: \"...b6 and Nb5 into Rc1\",\n    description: \"Black defends with ...b6. White uses Nb5 and Rc1 to pressure c7 and the c file.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Bd6\",\"Bxd6\",\"cxd6\",\"Rc1\"],\n    explanations: [\n      \"Take the center.\",\n      \"Black mirrors and contests space.\",\n      \"Develop actively.\",\n      \"Develop and contest e4.\",\n      \"Support d4 and open pieces.\",\n      \"Develop and contest your bishop.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5 early.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and keep a central pawn presence.\",\n    ]\n  },\n\n  {\n    id: \"london-line-11-ne5-bb5-pin-tactic\",\n    name: \"Ne5 Bb5+ forcing tactic\",\n    description: \"Ne5 combined with Bb5+ creates pins and tactical opportunities on c7.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"c5\",\"Bb5+\",\"Bd7\",\"Nxd7\",\"Bxf4\",\"Nxc5+\"],\n    explanations: [\n      \"Claim central space and define a London structure.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop actively before e3.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open your pieces.\",\n      \"Black supports d5 and prepares ...Bd6.\",\n      \"Develop and prepare to castle.\",\n      \"Black challenges your bishop on f4.\",\n      \"Establish an outpost and increase pressure on c6 and f7.\",\n      \"Black strikes at d4 for counterplay.\",\n      \"Pin the knight on c6 and increase tactical pressure.\",\n      \"Black blocks the check and tries to resolve the pin.\",\n      \"Trade knights to simplify while maintaining pressure.\",\n      \"Black takes your bishop but leaves tactical vulnerabilities.\",\n      \"Fork check that wins a pawn and maintains initiative.\"\n    ]\n  },\n\n  {\n    id: \"london-line-12-qg4-sac-line\",\n    name: \"Qg4 forcing line with bishop sac\",\n    description: \"Aggressive Qg4 leads to complications and potential material imbalance.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"Bxf4\",\"Qxg7\",\"Qf6\",\"Qxf6\",\"Nxf6\",\"exf4\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop the bishop before e3.\",\n      \"Black supports d5 and opens lines.\",\n      \"Stabilize d4 and open development.\",\n      \"Black challenges your bishop.\",\n      \"Attack g7 and force Black to make decisions.\",\n      \"Black trades bishops but weakens g7.\",\n      \"Capture the pawn and threaten rook.\",\n      \"Black offers queen trade to reduce pressure.\",\n      \"Simplify to an endgame with material advantage.\",\n      \"Black recaptures and develops.\",\n      \"Recover the bishop and open the e-file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-13-qh5-check-exploit\",\n    name: \"Qh5+ against ...f6 weakness\",\n    description: \"Exploit the weakened dark squares after ...f6 with immediate queen activity.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"f6\",\"e3\",\"e5\",\"dxe5\",\"fxe5\",\"Qh5+\",\"g6\",\"Qxe5+\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively before e3.\",\n      \"Weakening move to prepare ...e5, but creates dark-square weaknesses.\",\n      \"Support d4 and prepare development.\",\n      \"Black tries to open the center.\",\n      \"Accept the challenge and remove central tension.\",\n      \"Black recaptures and opens the f-file.\",\n      \"Immediate check exploiting the weakened dark squares around Black's king.\",\n      \"Block the check but further weakens dark squares.\",\n      \"Win the pawn back with check, gaining tempo and material.\"\n    ]\n  },\n\n  {\n    id: \"london-line-14-qf3-bxb8-tactic\",\n    name: \"Qf3 with Bxb8 tactic\",\n    description: \"Qf3 targets f5 and supports tactical ideas like Bxb8.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Rxb8\",\"Qxf5\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture c4 and open the bishop.\",\n      \"Support the pawn on c4 and gain queenside space.\",\n      \"Target the bishop on f5 and pressure c6/b7.\",\n      \"Support b5 and prepare ...e6 or development.\",\n      \"Remove the knight that defends key squares and can lead to tactical shots.\",\n      \"Black recaptures, leaving the queen on f5 potentially undefended.\",\n      \"Capture the bishop if it's pinned or tactically vulnerable.\"\n    ]\n  },\n\n  {\n    id: \"london-line-15-qxa8-raid\",\n    name: \"Qxa8 queen raid tactic\",\n    description: \"A tactical sequence where White's queen infiltrates to a8.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors the center.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase tension.\",\n      \"Black takes and tries to hold the pawn.\",\n      \"Prepare to recapture and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Pressure f5 and prepare tactics.\",\n      \"Support b5 and prepare development.\",\n      \"Remove defender of a8 and create tactical opportunities.\",\n      \"Black grabs material but loses coordination.\",\n      \"Check that wins back material and disrupts Black's position.\",\n      \"Black blocks but leaves the a8 rook vulnerable.\",\n      \"Capture the rook if the tactics work in your favor.\"\n    ]\n  },\n\n  {\n    id: \"london-line-16-bf5-b6-structure\",\n    name: \"London vs ...Bf5 and ...b6\",\n    description: \"Black plays ...b6 to support ...Bb7. White develops with pressure on c7.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Bd6\",\"Bxd6\",\"cxd6\",\"Rc1\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and maintain central presence.\",\n      \"Jump into c7, putting pressure on Black's position.\",\n      \"Black challenges your bishop.\",\n      \"Trade bishops to simplify.\",\n      \"Black recaptures, creating an isolated pawn.\",\n      \"Control the c-file and pressure c7.\"\n    ]\n  },\n\n  {\n    id: \"london-line-17-qxa8-tactic-extended\",\n    name: \"Extended Qxa8 tactic\",\n    description: \"Similar to line 15 but shows the tactical sequence in more detail.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"b5\",\"Qf3\",\"c6\",\"Bxb8\",\"Bxb1\",\"Qxc6+\",\"Qd7\",\"Qxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Develop and contest the diagonal.\",\n      \"Challenge d5 and increase tension.\",\n      \"Black takes the pawn.\",\n      \"Prepare to recapture c4 and open the bishop.\",\n      \"Support the pawn on c4.\",\n      \"Target f5 and prepare tactics.\",\n      \"Support b5 and prepare ...e6.\",\n      \"Remove the knight defending a8.\",\n      \"Black takes the knight but loses coordination.\",\n      \"Check that wins material and creates threats.\",\n      \"Black blocks the check but leaves a8 vulnerable.\",\n      \"Capture the rook if the tactics work.\"\n    ]\n  },\n\n  {\n    id: \"london-line-18-qxa4-after-nb5\",\n    name: \"Qa4 after Nb5 pressure\",\n    description: \"Nb5 creates threats, and Qa4 increases queenside pressure.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"b6\",\"Nc3\",\"Be7\",\"cxd5\",\"exd5\",\"Nb5\",\"Na6\",\"Qa4\"],\n    explanations: [\n      \"Take central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Defend b7 and prepare ...Bb7.\",\n      \"Develop and add central control.\",\n      \"Develop and prepare to castle.\",\n      \"Clarify the center and open files.\",\n      \"Recapture and maintain central presence.\",\n      \"Jump into c7, threatening the rook and creating pressure.\",\n      \"Black defends c7 with the knight.\",\n      \"Pin the knight on a6 and increase queenside pressure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-19-bg4-sac-line\",\n    name: \"Bg4 pin and sac line\",\n    description: \"Black pins with ...Bg4, White responds with aggressive play and a bishop sac.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"Bg4\",\"Bb5\",\"e6\",\"h3\",\"Bh5\",\"g4\",\"Bg6\",\"Ne5\",\"Bd6\",\"Nxc6\",\"bxc6\",\"Bxc6+\",\"Ke7\",\"Bxa8\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight on f3.\",\n      \"Pin the knight on c6 and create threats.\",\n      \"Support d5 and open the bishop.\",\n      \"Challenge the bishop and gain space.\",\n      \"Retreat and maintain the pin.\",\n      \"Attack the bishop and gain kingside space.\",\n      \"Retreat to a safer square.\",\n      \"Centralize and create threats.\",\n      \"Black challenges your bishop.\",\n      \"Remove the defender of a8.\",\n      \"Black recaptures.\",\n      \"Check that wins material.\",\n      \"Black moves the king, the only legal move.\",\n      \"Capture the rook and gain material advantage.\"\n    ]\n  },\n\n  {\n    id: \"london-line-20-kingside-attack-detailed\",\n    name: \"Detailed kingside attack with sacs\",\n    description: \"A complex attacking line with multiple sacrifices on the kingside.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"Bd6\",\"Ne5\",\"O-O\",\"Nd2\",\"c5\",\"c3\",\"Nc6\",\"Bd3\",\"Qc7\",\"Ndf3\",\"Nd7\",\"Ng5\",\"g6\",\"Nxh7\",\"Kxh7\",\"Qh5+\",\"Kg8\",\"Nxg6\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black supports d5 and opens lines.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge your bishop.\",\n      \"Centralize and create threats.\",\n      \"Black castles to safety.\",\n      \"Support e4 ideas and prepare kingside play.\",\n      \"Black strikes at d4.\",\n      \"Support d4 and control central squares.\",\n      \"Black develops and adds pressure.\",\n      \"Aim at h7 and build attacking chances.\",\n      \"Black defends e5 and connects rooks.\",\n      \"Reposition the knight for kingside attack.\",\n      \"Black repositions to challenge e5.\",\n      \"Direct attack on h7 and f7.\",\n      \"Black defends h7 but weakens dark squares.\",\n      \"Sacrifice to open the king.\",\n      \"Black takes the knight.\",\n      \"Bring the queen into the attack.\",\n      \"Black retreats the king.\",\n      \"Continue the attack with another sacrifice.\"\n    ]\n  },\n\n  {\n    id: \"london-line-21-bxc4-recapture\",\n    name: \"Bxc4 recapture line\",\n    description: \"Simple recapture of the pawn on c4 with the bishop.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"Bf5\",\"c4\",\"dxc4\",\"Bxc4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes the pawn.\",\n      \"Recapture the pawn and develop the bishop to an active square.\"\n    ]\n  },\n\n  {\n    id: \"london-line-22-nc3-after-c4\",\n    name: \"Nc3 development after c4\",\n    description: \"Standard development with Nc3 after playing c4.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Nc3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Develop and increase control of central squares.\"\n    ]\n  },\n\n  {\n    id: \"london-line-23-qb3-queen-trade-no-nf6\",\n    name: \"Qb3 queen trade without ...Nf6\",\n    description: \"Similar to line 9 but Black develops ...Bf5 before ...Nf6.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Bf5\",\"c4\",\"e6\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Support d5 and prepare ...Bf5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns for open file.\"\n    ]\n  },\n\n  {\n    id: \"london-line-24-bf5-c6-qb6-trade\",\n    name: \"London vs ...Bf5 and ...c6\",\n    description: \"Black plays ...c6 and ...Bf5, leading to queen trade possibilities.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"c6\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and prepare ...e6.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns.\"\n    ]\n  },\n\n  {\n    id: \"london-line-25-ne5-nbd7-development\",\n    name: \"Ne5 with ...Nbd7 response\",\n    description: \"Black responds to Ne5 with ...Nbd7, challenging the outpost.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Nf6\",\"Nf3\",\"Bd6\",\"Ne5\",\"Nbd7\",\"Nd2\",\"O-O\",\"Bd3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black supports d5 and opens lines.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Develop and prepare to castle.\",\n      \"Challenge your bishop.\",\n      \"Establish an outpost.\",\n      \"Black challenges the knight on e5.\",\n      \"Support the knight on e5 and prepare f4 or other ideas.\",\n      \"Black castles to safety.\",\n      \"Develop the bishop to an active square.\"\n    ]\n  },\n\n  {\n    id: \"london-line-26-qb3-queen-trade-standard\",\n    name: \"Standard Qb3 queen trade\",\n    description: \"Common queen trade line in London vs ...Bf5 setups.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"c6\",\"e3\",\"Nf6\",\"c4\",\"Bf5\",\"Qb3\",\"Qb6\",\"c5\",\"Qxb3\",\"axb3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Support d5 and prepare ...Bf5.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black develops and contests e4.\",\n      \"Pressure b7 and d5.\",\n      \"Black meets the pressure and offers trade.\",\n      \"Gain space and lock the queenside.\",\n      \"Trade queens to simplify.\",\n      \"Recapture and accept doubled pawns.\"\n    ]\n  },\n\n  {\n    id: \"london-line-27-bxc4-recursive\",\n    name: \"Bxc4 recapture in mirror bishop line\",\n    description: \"Recapturing on c4 with the bishop in symmetrical structures.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"dxc4\",\"e3\",\"e6\",\"Bxc4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Black takes the pawn.\",\n      \"Support d4 and open pieces.\",\n      \"Support d5 and open lines.\",\n      \"Recapture the pawn and develop the bishop.\"\n    ]\n  },\n\n  {\n    id: \"london-line-28-long-castle-f5-clamp\",\n    name: \"Long castle vs ...f5 clamp\",\n    description: \"Opposite-side castling with Black clamping the center with ...f5.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"e6\",\"Nbd2\",\"Bd6\",\"Ne5\",\"O-O\",\"c3\",\"Ne4\",\"Nxe4\",\"dxe4\",\"Qc2\",\"f5\",\"O-O-O\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Black supports d5 and opens lines.\",\n      \"Support e4 ideas and keep options flexible.\",\n      \"Challenge your bishop.\",\n      \"Establish an outpost.\",\n      \"Black castles to safety.\",\n      \"Support d4 and reduce tactics.\",\n      \"Black grabs an outpost and offers trades.\",\n      \"Remove the centralized knight.\",\n      \"Black recaptures and opens the center.\",\n      \"Support e4 and prepare kingside play.\",\n      \"Black clamps the center and gains kingside space.\",\n      \"Castle queenside and prepare for opposite-side attacks.\"\n    ]\n  },\n\n  {\n    id: \"london-line-29-qg4-g6-response\",\n    name: \"Qg4 met with ...g6\",\n    description: \"Black responds to Qg4 with ...g6, forcing the queen to move.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"e6\",\"e3\",\"Bd6\",\"Qg4\",\"g6\",\"Qf3\",\"Bxf4\",\"Qxf4\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black supports d5 and opens lines.\",\n      \"Stabilize the center and open pieces.\",\n      \"Challenge your bishop.\",\n      \"Attack g7 and force a response.\",\n      \"Black defends g7 and forces the queen to move.\",\n      \"Retreat the queen to a safe square.\",\n      \"Black trades bishops.\",\n      \"Recapture with the queen, maintaining control of key squares.\"\n    ]\n  },\n\n  {\n    id: \"london-line-30-c3-support-system\",\n    name: \"c3 support system with Nbd2\",\n    description: \"Solid setup with c3 and Nbd2 supporting the center.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"e6\",\"Nf3\",\"c5\",\"Nbd2\",\"Nc6\",\"c3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black supports d5 and opens lines.\",\n      \"Develop and prepare to castle.\",\n      \"Black strikes at d4.\",\n      \"Support the center and prepare e4 ideas.\",\n      \"Black develops and adds pressure on d4.\",\n      \"Support d4 and create a solid pawn structure.\"\n    ]\n  },\n\n  {\n    id: \"london-line-31-bg4-pin-with-a6\",\n    name: \"...Bg4 pin with ...a6 preparatory\",\n    description: \"Black plays ...a6 before ...Bg4, preventing Bb5 ideas.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nc6\",\"e3\",\"a6\",\"Nf3\",\"Nf6\",\"Bd3\",\"Bg4\",\"Nbd2\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and supports ...e5.\",\n      \"Support d4 and open pieces.\",\n      \"Prevent Bb5 ideas and prepare ...b5.\",\n      \"Develop and prepare to castle.\",\n      \"Black develops and contests e4.\",\n      \"Develop the bishop to an active square.\",\n      \"Pin the knight on f3.\",\n      \"Develop and prepare to break the pin with h3 or other means.\"\n    ]\n  },\n\n  {\n    id: \"london-line-32-bg4-pin-bxf3-trade\",\n    name: \"...Bg4 pin with ...Bxf3 trade\",\n    description: \"Black trades bishop for knight to double White's pawns.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Nf6\",\"e3\",\"Nc6\",\"Nf3\",\"Bg4\",\"Bb5\",\"e6\",\"h3\",\"Bxf3\",\"Qxf3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces.\",\n      \"Black develops and supports ...e5.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight on f3.\",\n      \"Pin the knight on c6 and create threats.\",\n      \"Support d5 and open lines.\",\n      \"Challenge the bishop.\",\n      \"Black trades bishop for knight, doubling White's pawns.\",\n      \"Recapture with the queen, maintaining control of the center.\"\n    ]\n  },\n\n  {\n    id: \"london-line-33-mirror-bf5-full-development\",\n    name: \"Full development vs ...Bf5 mirror\",\n    description: \"Complete development against Black's symmetrical ...Bf5 setup.\",\n    moves: [\"d4\",\"d5\",\"Bf4\",\"Bf5\",\"c4\",\"e6\",\"Nc3\",\"Nf6\",\"e3\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Black mirrors and contests the center.\",\n      \"Develop actively.\",\n      \"Black develops and contests e4.\",\n      \"Increase central tension.\",\n      \"Support d5 and open lines.\",\n      \"Develop and increase control of central squares.\",\n      \"Black develops and contests e4.\",\n      \"Support d4 and open pieces, completing the basic London setup.\"\n    ]\n  }\n];","// src/openings/sicilianDefenseLines.js\n\nexport const sicilianDefenseLines = [\n  // Categories: Open Sicilian, Anti-Sicilian, Closed Sicilian, Grand Prix, Moscow/Rossolimo\n\n  {\n    category: \"Open Sicilian\",\n    id: \"sicilian-open-mainline-classical\",\n    name: \"Open Sicilian: Classical setup\",\n    description: \"Mainline Open Sicilian: develop normally with ...d6, ...Nf6, ...Nc6.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"Nc6\", \"Be3\", \"e6\", \"f3\", \"Be7\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes central space and opens lines for pieces quickly.\",\n      \"Sicilian. Fight for d4 without mirroring with ...e5, and create imbalance.\",\n      \"Develop and attack d4 and e5 squares, also supports the d4 push.\",\n      \"Support ...c5 structure and prepare ...Nf6 without allowing e5 tactics.\",\n      \"White challenges the center directly and opens lines.\",\n      \"Accept the open game and force the typical Open Sicilian structure.\",\n      \"White recaptures with a piece for development and central presence.\",\n      \"Hit e4 and develop, making White show how they defend the center.\",\n      \"Defend e4 and develop, enabling aggressive setups.\",\n      \"Develop, add more pressure on d4 and e5, and keep flexible plans.\",\n      \"Develop and support a common kingside attack or long castle plan.\",\n      \"Solidify dark squares and open the dark bishop.\",\n      \"Reinforce e4 and support a later g4 or Be3 setup.\",\n      \"Develop and prepare to castle safely.\",\n      \"Connect pieces and prepare long castling or pressure on d6.\",\n      \"King safety and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-scheveningen\",\n    name: \"Open Sicilian: Scheveningen structure\",\n    description: \"Open Sicilian with ...e6 and ...d6, flexible and solid but watch kingside attacks.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"e6\", \"Be3\", \"a6\", \"f3\", \"Be7\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes space and sets up fast development.\",\n      \"Create asymmetry and contest d4 immediately.\",\n      \"Develop and prepare d4.\",\n      \"Support the center and keep control of e5.\",\n      \"White goes for the Open Sicilian.\",\n      \"Force the open center and typical Sicilian piece play.\",\n      \"White recaptures with development.\",\n      \"Pressure e4 and develop.\",\n      \"Defend e4 and increase central control.\",\n      \"Build the Scheveningen pawn shape and open the dark bishop.\",\n      \"Natural development and a common English Attack setup.\",\n      \"Useful luft and stops Nb5 while preparing queenside play.\",\n      \"Reinforce e4 and support g4 in some lines.\",\n      \"Develop and prepare to castle.\",\n      \"Support long castle and coordinate pressure on the kingside.\",\n      \"Castle and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-najdorf-basic\",\n    name: \"Open Sicilian: Najdorf with 6...a6\",\n    description: \"Najdorf marker move ...a6 after standard development.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"a6\", \"Be3\", \"e5\", \"f3\", \"Be7\", \"Qd2\", \"Be6\"],\n    explanations: [\n      \"White claims the center and opens lines.\",\n      \"Sicilian. Fight for d4 with an unbalanced pawn structure.\",\n      \"Develop and prepare the Open Sicilian.\",\n      \"Support ...c5 and prevent early e5 tactics.\",\n      \"White commits to open central play.\",\n      \"Exchange in the center and create imbalanced positions.\",\n      \"White recaptures with development.\",\n      \"Attack e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Najdorf. Stop Nb5 ideas and keep ...e5 or ...e6 flexible.\",\n      \"English Attack style development.\",\n      \"Najdorf often chooses ...e5 to gain space and hit the knight.\",\n      \"Support the center and prepare g4 ideas.\",\n      \"Keep structure flexible and open the dark bishop.\",\n      \"Prepare long castle and coordinate attack.\",\n      \"Develop and prepare to castle.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-open-dragon-basic\",\n    name: \"Open Sicilian: Dragon setup\",\n    description: \"Dragon: play ...g6 and fianchetto the dark bishop, sharp opposite-side castling often happens.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\", \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\"],\n    explanations: [\n      \"White claims the center and opens development lanes.\",\n      \"Fight for d4 with asymmetry.\",\n      \"Develop and prepare d4.\",\n      \"Support ...c5 and keep e5 controlled.\",\n      \"Open Sicilian structure.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with a piece and centralizes.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon. Prepare ...Bg7 for pressure on the long diagonal.\",\n      \"Yugoslav Attack setup, aiming for opposite side castling.\",\n      \"Complete the fianchetto and pressure the center.\",\n      \"Reinforce e4 and support the kingside pawn storm ideas.\",\n      \"Castle and bring the rook into play on the f file later.\",\n      \"Connect pieces and prepare long castling.\",\n      \"Develop and add pressure on d4.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-accelerated-dragon-basic\",\n    name: \"Accelerated Dragon\",\n    description: \"Accelerated Dragon: skip ...d6 early, play ...Nc6 and ...g6 quickly.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"Nc6\", \"d4\", \"cxd4\", \"Nxd4\", \"g6\", \"Nc3\", \"Bg7\", \"Be3\", \"Nf6\", \"f3\", \"d6\", \"Qd2\", \"O-O\"],\n    explanations: [\n      \"White takes space and threatens quick development.\",\n      \"Sicilian. Contest d4 and avoid symmetry.\",\n      \"Develop and prepare d4.\",\n      \"Develop immediately and pressure d4, aiming for ...g6 next.\",\n      \"White opens the center.\",\n      \"Exchange and create open play.\",\n      \"White recaptures and centralizes.\",\n      \"Accelerated Dragon plan, aiming for ...Bg7.\",\n      \"Develop and reinforce central control.\",\n      \"Complete fianchetto and pressure the long diagonal.\",\n      \"Develop and prepare aggressive setups.\",\n      \"Develop and hit e4.\",\n      \"Reinforce e4 and limit ...Ng4.\",\n      \"Solidify the center and support ...Bg7 pressure.\",\n      \"Prepare long castling and coordinate pieces.\",\n      \"Castle and connect rooks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-sveshnikov-skeleton\",\n    name: \"Sveshnikov skeleton\",\n    description: \"Sveshnikov: early ...e5 after ...Nc6 and ...Nf6, very theory heavy but consistent plans.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"Nc6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"e5\", \"Ndb5\", \"d6\", \"Bg5\", \"a6\", \"Na3\", \"b5\"],\n    explanations: [\n      \"White claims space and opens lines.\",\n      \"Sicilian. Fight for d4 with asymmetry.\",\n      \"Develop and aim for d4.\",\n      \"Develop and pressure d4.\",\n      \"White opens the center.\",\n      \"Exchange and create open lines.\",\n      \"White recaptures with a piece.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Sveshnikov marker. Grab space and hit the d4 knight.\",\n      \"Typical. White jumps into b5 to target d6 and c7 squares.\",\n      \"Hold e5 and stop immediate tactics on d6.\",\n      \"Pin the knight and increase pressure on the center.\",\n      \"Kick the b5 knight support squares and prepare ...b5.\",\n      \"Re-route the knight to c4 or b5 in some lines.\",\n      \"Gain queenside space and support ...b4 ideas.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-kan-basic\",\n    name: \"Kan Sicilian\",\n    description: \"Kan: ...e6 early, flexible development and often ...Qc7.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"e6\", \"d4\", \"cxd4\", \"Nxd4\", \"a6\", \"Nc3\", \"Qc7\", \"Be2\", \"Nf6\", \"O-O\", \"d6\", \"Be3\", \"b5\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian. Contest d4 and avoid symmetry.\",\n      \"Develop and prepare d4.\",\n      \"Kan style. Support d5 breaks later and open the dark bishop.\",\n      \"Open Sicilian attempt.\",\n      \"Accept the open center.\",\n      \"White recaptures and develops.\",\n      \"Flexible. Prevent Nb5 ideas and prepare ...Qc7 or ...b5.\",\n      \"Develop and keep pressure on the center.\",\n      \"Typical Kan idea, supporting ...d5 and queenside play.\",\n      \"Develop and prepare safe castling.\",\n      \"Develop and hit e4.\",\n      \"Castle and complete basic king safety.\",\n      \"Stabilize the center and open the dark bishop.\",\n      \"Develop and support central control.\",\n      \"Queenside expansion, gaining space and supporting ...Bb7.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-taimanov-basic\",\n    name: \"Taimanov setup\",\n    description: \"Taimanov: ...e6 and ...Qc7 is a common plan, flexible piece placement.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"e6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nc6\", \"Nc3\", \"Qc7\", \"Be3\", \"a6\", \"Be2\", \"Nf6\", \"O-O\", \"d6\"],\n    explanations: [\n      \"White claims the center.\",\n      \"Sicilian structure to fight for d4.\",\n      \"Develop and set up d4.\",\n      \"Keep options open and prepare ...d5 in some lines.\",\n      \"Open center and gain space.\",\n      \"Exchange in the center.\",\n      \"White develops with recapture.\",\n      \"Develop and pressure d4.\",\n      \"Defend and develop.\",\n      \"Typical Taimanov idea, supporting ...d5 and coordinating pieces.\",\n      \"Natural development, supports Qd2 and long castle ideas.\",\n      \"Flexible, prevents Nb5 and supports queenside expansion.\",\n      \"Develop and prepare to castle safely.\",\n      \"Develop and pressure e4.\",\n      \"Castle and connect rooks.\",\n      \"Solidify the center and prepare ...Be7 and ...O-O.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-alapin-basic\",\n    name: \"Vs Alapin: 2.c3\",\n    description: \"Alapin (2.c3): respond with ...d5 to challenge the center directly.\",\n    moves: [\"e4\", \"c5\", \"c3\", \"d5\", \"exd5\", \"Qxd5\", \"d4\", \"Nf6\", \"Nf3\", \"e6\", \"Be2\", \"cxd4\", \"cxd4\", \"Bb4+\", \"Nc3\", \"Qa5\"],\n    explanations: [\n      \"White claims the center.\",\n      \"Sicilian response, but White avoids the Open Sicilian with c3.\",\n      \"Alapin. White supports d4 and reduces your typical counterplay lines.\",\n      \"Direct counter in the center. Challenge e4 and punish slow play.\",\n      \"White usually takes to avoid losing central control.\",\n      \"Recapture with the queen, accepting early queen development for central pressure.\",\n      \"Take space and build a center with c3 support.\",\n      \"Develop and hit e4, also prepares ...cxd4.\",\n      \"Develop and support the center.\",\n      \"Prepare ...d5 or ...cxd4 and develop the dark bishop.\",\n      \"Quiet development and prepare to castle.\",\n      \"Challenge the center and open lines.\",\n      \"Recapture and keep a pawn center.\",\n      \"Check that develops a piece and forces a response.\",\n      \"Block the check and develop, defending the center.\",\n      \"Pressure c3 and a2, keep the queen active.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-grand-prix-basic\",\n    name: \"Vs Grand Prix: 2.Nc3 and 3.f4\",\n    description: \"Grand Prix attack structure: a common response is ...Nc6 and ...g6 with kingside control.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"Bb5\", \"Nd4\", \"O-O\", \"e6\", \"d3\", \"Ne7\", \"Qe1\", \"O-O\"],\n    explanations: [\n      \"White takes space and prepares quick kingside play.\",\n      \"Sicilian. Create imbalance and fight for d4.\",\n      \"White avoids Open Sicilian structures and keeps options for f4.\",\n      \"Develop and control key squares, especially d4 and e5.\",\n      \"Grand Prix. White goes for fast kingside attack ideas.\",\n      \"Solid plan. Prepare ...Bg7 and reduce white's direct kingside damage.\",\n      \"Develop and prepare to castle, keeping the attack flexible.\",\n      \"Complete the fianchetto and defend key squares.\",\n      \"Develop with pressure and provoke ...Nd4 ideas.\",\n      \"Jump into the center, hitting b5 and c2 squares.\",\n      \"Castle and keep the kingside attack options.\",\n      \"Solidify dark squares and prepare ...Nge7 or ...d5.\",\n      \"Lock the center and support Be3 or f5 play.\",\n      \"Flexible defense, supports ...d5 breaks and king safety.\",\n      \"Typical Grand Prix idea to swing queen toward h4.\",\n      \"Castle and finish development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-moscow-rossolimo-basic\",\n    name: \"Vs Bb5+: Moscow and Rossolimo\",\n    description: \"After 2.Nf3 d6 3.Bb5+ (Moscow) or 2...Nc6 3.Bb5 (Rossolimo), develop and get ready to unpin.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"Bb5+\", \"Bd7\", \"Bxd7+\", \"Qxd7\", \"O-O\", \"Nc6\", \"c4\", \"Nf6\", \"Nc3\", \"g6\", \"d3\", \"Bg7\"],\n    explanations: [\n      \"White claims space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare d4.\",\n      \"Moscow move order. Keep control of e5 and prepare development.\",\n      \"Check, aiming to disrupt development and sometimes trade pieces.\",\n      \"Block and offer a trade, reducing White's pressure.\",\n      \"White often takes to avoid retreating and to damage coordination.\",\n      \"Recapture and keep development moving.\",\n      \"Castle and keep a flexible structure.\",\n      \"Develop and contest d4.\",\n      \"Grab queenside space and fight for d5.\",\n      \"Develop and pressure e4.\",\n      \"Develop and reinforce the center.\",\n      \"Fianchetto plan for a solid setup.\",\n      \"Develop and support central control.\",\n      \"Complete fianchetto and pressure the diagonal.\"\n    ]\n  },\n\n  // Added lines from your list\n\n  {\n    id: \"sicilian-dragon-yugoslav-rc8-nxe4-sac\",\n    name: \"Dragon Yugoslav: ...Rc8 and ...Nxe4 tactics\",\n    description: \"Yugoslav setup. Black expands with ...b5 and the exchange sacrifice ideas appear on d4.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"Kb1\", \"a5\", \"a4\", \"bxa4\", \"Nxa4\", \"Bxa4\",\n      \"Bxa4\", \"Rc4\", \"Bb3\", \"Nxe4\", \"fxe4\", \"Rxd4\"\n    ],\n    explanations: [\n      \"White grabs space and opens lines.\",\n      \"Sicilian, immediately fights for d4.\",\n      \"Develop and prepare d4.\",\n      \"Keep control of e5 and support the center.\",\n      \"White commits to the Open Sicilian.\",\n      \"Open the center on your terms.\",\n      \"White develops while recapturing.\",\n      \"Hit e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon structure, aiming for ...Bg7.\",\n      \"Yugoslav style, supports queenside castling and attacks.\",\n      \"Put the bishop on the long diagonal.\",\n      \"Reinforce e4 and stop ...Ng4 ideas.\",\n      \"Get king safety and connect rooks.\",\n      \"Prepare long castle and connect to kingside pressure.\",\n      \"Develop and pressure d4.\",\n      \"Add pressure on f7 and accelerate the attack.\",\n      \"Develop and connect rooks, also covers key squares.\",\n      \"White castles long and the game becomes race like.\",\n      \"Typical Dragon rook placement against c and c2 squares.\",\n      \"Keep bishop safe and keep pressure lines.\",\n      \"Remove the centralized knight and reduce white pressure.\",\n      \"White keeps a piece on the diagonal and recaptures.\",\n      \"Queenside expansion, also hits the bishop and opens files.\",\n      \"Standard safety move, avoid checks on a1 diagonal.\",\n      \"Keep expanding and support ...a4 or ...b4 ideas.\",\n      \"White tries to stop the pawn storm or force structure.\",\n      \"Accept, open a file and create targets.\",\n      \"White recaptures to remove the pawn and stabilize.\",\n      \"Trade off that knight and reduce defense.\",\n      \"White recaptures and keeps pieces active.\",\n      \"Rook lift to pressure and enable tactics on d4 and e4.\",\n      \"Retreat and keep bishop while avoiding tactics.\",\n      \"Tactical strike, grabbing central pawn and opening lines.\",\n      \"White accepts and opens the f file and center.\",\n      \"Follow up by winning material back or simplifying into advantage.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-h4-h5-qa5-rcx3\",\n    name: \"Dragon Yugoslav: ...Qa5 and ...Rxc3 sequence\",\n    description: \"Yugoslav attack line where Black hits c3 and the queen joins with checks and captures.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"hxg6\", \"fxg6\",\n      \"Bh6\", \"Bxh6\", \"Qxh6\", \"Rxc3\", \"bxc3\", \"Qxc3\", \"Nb3\", \"Rc8\"\n    ],\n    explanations: [\n      \"White takes space and aims for fast development.\",\n      \"Sicilian, create imbalance and fight for d4.\",\n      \"Develop and prepare d4.\",\n      \"Solid center support, control e5.\",\n      \"White opens the center.\",\n      \"Exchange and open lines for active play.\",\n      \"White centralizes a knight.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto plan.\",\n      \"Yugoslav setup, supports long castle and attack.\",\n      \"Bishop targets the long diagonal.\",\n      \"Reinforce e4 and limit ...Ng4.\",\n      \"King safety and rook connection.\",\n      \"Support queenside castling and connect to h6 ideas.\",\n      \"Develop and pressure d4.\",\n      \"Commit to opposite side castling.\",\n      \"Develop and connect pieces, support queenside play.\",\n      \"White starts pawn storm on the kingside.\",\n      \"Rook to c file, target c2 and support tactics.\",\n      \"White supports h5 and keeps space.\",\n      \"Centralize and hit key squares, also targets c4 and f3.\",\n      \"Continue the pawn storm and open lines.\",\n      \"Queen joins, pressures a2 and c3 and adds tactical threats.\",\n      \"White opens the h file and tries to expose the king.\",\n      \"Recapture and keep the f file structure, also open f file.\",\n      \"Trade the key Dragon bishop or force concessions.\",\n      \"Remove that attacker immediately.\",\n      \"White keeps attacking chances on the h file.\",\n      \"Typical exchange sacrifice idea on c3 to rip open lines.\",\n      \"Forced recapture, structure changes and b file opens.\",\n      \"Queen grabs material and keeps threats on a1 and d4.\",\n      \"Hit the queen and try to stabilize.\",\n      \"Consolidate and keep pressure on the c file.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-kb1-qa5-nd5-queen-trade\",\n    name: \"Dragon Yugoslav: Nd5 and queen trade sequence\",\n    description: \"Yugoslav line where White jumps Nd5 and Black simplifies into tactics and endgame pressure.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"Kb1\", \"Qa5\", \"Nd5\", \"Qxd2\",\n      \"Nxe7+\", \"Kh8\", \"Rxd2\", \"Rce8\", \"Nd5\", \"Nxd5\", \"exd5\", \"Nxf3\",\n      \"Nxf3\", \"Rxe3\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian structure and counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Hold e5 and support the center.\",\n      \"White opens the center.\",\n      \"Exchange to create the Open Sicilian structure.\",\n      \"White centralizes.\",\n      \"Develop and hit e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon plan, ...Bg7 next.\",\n      \"Yugoslav style attack prep.\",\n      \"Place bishop on the long diagonal.\",\n      \"Support e4 and limit ...Ng4.\",\n      \"King safety.\",\n      \"Prepare long castle and coordinate attack.\",\n      \"Develop and pressure d4.\",\n      \"Opposite side castling, race begins.\",\n      \"Develop and connect pieces.\",\n      \"White starts direct pawn storm.\",\n      \"Put rook on the c file for counterplay.\",\n      \"Support h5 and keep pressure.\",\n      \"Centralize and challenge key squares.\",\n      \"Improve king safety on the queenside.\",\n      \"Queen joins queenside pressure and checks threats.\",\n      \"White jumps in to create tactics and hit c7 and e7 squares.\",\n      \"Simplify by trading queens, reducing white attack speed.\",\n      \"Tactical check and fork ideas, force king response.\",\n      \"Step away from checks and keep pieces protected.\",\n      \"Recapture the queen and keep rooks connected.\",\n      \"Bring rook to e file and aim at e3 and e4 squares.\",\n      \"Recentralize, keep pressure and block some lines.\",\n      \"Remove the knight and simplify.\",\n      \"Recapture and open the e file and diagonal.\",\n      \"Tactic to win material or damage king safety.\",\n      \"Recapture and try to hold structure.\",\n      \"Grab pawn and keep initiative with active rook.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-qa5-nxf3-queen-exchange\",\n    name: \"Dragon Yugoslav: ...Nxf3 and queen exchange\",\n    description: \"Black uses ...Nxf3 and queen trades to convert tactical pressure into material.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"Kb1\", \"Nxf3\",\n      \"Nxf3\", \"Rxc3\", \"Qxc3\", \"Qxc3\", \"bxc3\", \"Bxg4\", \"Be2\", \"Nxe4\",\n      \"Bd4\", \"e5\", \"Bxa7\", \"Nxc3+\", \"Kb2\", \"Nxd1+\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay and imbalance.\",\n      \"Develop and prepare d4.\",\n      \"Solid, control e5.\",\n      \"Open center plan.\",\n      \"Exchange and open lines.\",\n      \"White develops by recapturing.\",\n      \"Hit e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto.\",\n      \"Yugoslav setup.\",\n      \"Bishop on long diagonal.\",\n      \"Support center and control g4.\",\n      \"King safety.\",\n      \"Support long castle and h6 ideas.\",\n      \"Develop and hit d4.\",\n      \"Commit to opposite side castling.\",\n      \"Develop and coordinate pieces.\",\n      \"Pawn storm attempt.\",\n      \"Counterplay on c file.\",\n      \"Support h5 push.\",\n      \"Centralize, hit c4 and f3 structures.\",\n      \"Open lines on kingside.\",\n      \"Queen activates against a2 and c3.\",\n      \"Safety move, reduce checks.\",\n      \"Remove defender and open lines for queen and rook.\",\n      \"White recaptures to avoid losing material.\",\n      \"Sacrifice on c3 to open the king and win structure.\",\n      \"White tries to keep material balanced and stop threats.\",\n      \"Trade queens to convert attack into endgame gains.\",\n      \"Forced recapture, structure changes.\",\n      \"Win pawn or remove attacker, reduce kingside pressure.\",\n      \"Develop and protect key squares.\",\n      \"Central pawn grab, also hits c3 weaknesses indirectly.\",\n      \"Try to anchor a piece and aim for activity.\",\n      \"Kick the bishop and gain central space.\",\n      \"Grab pawn, but it can be risky if pieces get trapped.\",\n      \"Fork and check to win material and simplify.\",\n      \"Move king and stay in game.\",\n      \"Win the rook, converting tactics into decisive material.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-hxg6-qa1-check\",\n    name: \"Dragon Yugoslav: ...Qa1+ and ...Qxd4+\",\n    description: \"Queen invades with checks after the c3 break and open diagonals.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n      \"g4\", \"Rc8\", \"h4\", \"Ne5\", \"h5\", \"Qa5\", \"hxg6\", \"fxg6\",\n      \"Bh6\", \"Bxh6\", \"Qxh6\", \"Rxc3\", \"bxc3\", \"Qxc3\", \"g5\", \"Qa1+\",\n      \"Kd2\", \"Qxd4+\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Support center and control e5.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with development.\",\n      \"Attack e4 and develop.\",\n      \"Defend e4 and develop.\",\n      \"Dragon fianchetto plan.\",\n      \"Yugoslav style setup.\",\n      \"Bishop on long diagonal.\",\n      \"Reinforce e4 and limit piece jumps.\",\n      \"King safety.\",\n      \"Prepare long castle and attack.\",\n      \"Develop and pressure d4.\",\n      \"Opposite side castling.\",\n      \"Develop and connect pieces.\",\n      \"Start pawn storm.\",\n      \"Counterplay against c2 and c3.\",\n      \"Support h5.\",\n      \"Centralize and threaten key squares.\",\n      \"Push for open lines.\",\n      \"Queen joins queenside threats.\",\n      \"Open lines to the king.\",\n      \"Recapture and keep structure while opening f file.\",\n      \"Trade off Dragon bishop or force weakening.\",\n      \"Remove the attacker.\",\n      \"Keep attack alive with queen on h file.\",\n      \"Break c3 to open the king and win material.\",\n      \"Forced structure change.\",\n      \"Queen penetrates and targets a1 and d4 lines.\",\n      \"Try to chase pieces and create threats.\",\n      \"Immediate invasion, check based on open diagonal.\",\n      \"King steps away and tries to survive.\",\n      \"Take central pawn with check, converting attack into material.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-h4-rc4-nxe4-sac\",\n    name: \"Dragon Yugoslav: h4 included before ...Nxe4\",\n    description: \"Same tactical theme as the earlier ...Rc4 ...Nxe4 line, but with h4 instead of Kb1.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a4\", \"bxa4\", \"Nxa4\", \"Bxa4\",\n      \"Bxa4\", \"Rc4\", \"Bb3\", \"Nxe4\", \"fxe4\", \"Rxd4\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Keep e5 under control.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White centralizes.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon fianchetto.\",\n      \"Yugoslav setup.\",\n      \"Bishop on long diagonal.\",\n      \"Support e4 and control g4.\",\n      \"King safety.\",\n      \"Prepare long castle.\",\n      \"Develop and pressure d4.\",\n      \"Add pressure and speed up attack.\",\n      \"Develop and coordinate pieces.\",\n      \"Opposite side castling.\",\n      \"Counterplay on c file.\",\n      \"Keep bishop safe.\",\n      \"Remove white knight and reduce central control.\",\n      \"White recaptures to keep presence.\",\n      \"Expansion and tempo on pieces.\",\n      \"White continues kingside pawn storm.\",\n      \"Push queenside pawns for attack.\",\n      \"White tries to slow down queenside play.\",\n      \"Open the a file and keep initiative.\",\n      \"White recaptures to stabilize.\",\n      \"Trade to reduce defense.\",\n      \"White keeps pieces active.\",\n      \"Rook lift for pressure and tactics.\",\n      \"Step away and keep bishop.\",\n      \"Tactical strike in the center.\",\n      \"White accepts and opens lines.\",\n      \"Follow up by taking the bishop or central pawn line, converting tactics.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-dragon-yugoslav-a4-a3-a2-b3-endgame-push\",\n    name: \"Dragon Yugoslav: queenside pawn break into endgame squeeze\",\n    description: \"Long line with queenside pawn breaks, queen safety moves, and converting to a passed pawn plan.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n      \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a3\", \"b4\", \"axb4\", \"axb4\",\n      \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\", \"exd5\", \"Qa5\", \"Qd4+\", \"Kg8\",\n      \"h5\", \"Bf5\", \"g4\", \"Bxc2\", \"Bxc2\", \"b3\", \"Rh2\", \"Rc7\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid and controls e5.\",\n      \"Open center plan.\",\n      \"Exchange and open lines.\",\n      \"White recaptures with development.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon setup.\",\n      \"Yugoslav setup.\",\n      \"Bishop on diagonal.\",\n      \"Support e4 and slow ...Ng4.\",\n      \"King safety.\",\n      \"Prepare long castle and attack.\",\n      \"Develop and pressure d4.\",\n      \"Aggressive bishop placement.\",\n      \"Develop and coordinate.\",\n      \"Opposite side castling.\",\n      \"Rook on open file, typical Dragon play.\",\n      \"Keep bishop safe.\",\n      \"Trade off the central knight.\",\n      \"White recaptures to keep piece activity.\",\n      \"Expand and gain space, threaten to open files.\",\n      \"White keeps pawn storm plan.\",\n      \"Black expands on queenside, matching the race.\",\n      \"White prepares to meet ...b4 with axb4, also slow a pawn push.\",\n      \"Break open the queenside pawn structure.\",\n      \"White accepts to avoid getting locked up.\",\n      \"Black recaptures and opens the a file.\",\n      \"White jumps in to create tactics and simplify.\",\n      \"Remove the intruder.\",\n      \"White trades the Dragon bishop's partner and reduces pressure.\",\n      \"Recapture and keep king safe enough.\",\n      \"Open lines and create a pawn majority structure.\",\n      \"Queen activates and targets a2 and a3 squares.\",\n      \"White gives check and tries to force king placement.\",\n      \"Step out and avoid tactics.\",\n      \"White continues kingside pawn storm.\",\n      \"Activate bishop and hit c2 and e4 lines.\",\n      \"White tries to chase the bishop and keep attack going.\",\n      \"Tactic to win material and create threats.\",\n      \"White recaptures and tries to reduce damage.\",\n      \"Create a passed pawn and fix white pieces.\",\n      \"Defensive rook move, prepare to meet b pawn.\",\n      \"Consolidate and support the passed pawn plan.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-classical-sac-line-be2-qb6-queen-grab\",\n    name: \"Tactics: Be2 and ...Qb6 pawn grab\",\n    description: \"Sharp tactical sequence where the queen grabs b2 and lines open with checks.\",\n    moves: [\n      \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n      \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"O-O\", \"Nc6\", \"f4\", \"Qb6\", \"Nf5\", \"Qxb2\",\n      \"Nxg7\", \"Qxc3\", \"Bd2\", \"Qd4+\", \"Kh1\", \"Kxg7\"\n    ],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid center support.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"White develops by recapturing.\",\n      \"Develop and pressure e4.\",\n      \"Defend e4 and develop.\",\n      \"Dragon structure.\",\n      \"Quieter development, keep options open.\",\n      \"Fianchetto bishop, pressure on diagonal.\",\n      \"Support center and develop, watch tactics on b2.\",\n      \"King safety.\",\n      \"White also castles, reducing immediate mate threats.\",\n      \"Develop and pressure d4.\",\n      \"Space grab, also creates targets.\",\n      \"Pressure b2 and d4, typical tactical idea.\",\n      \"Jump in to create threats and hit e7 and g7 areas.\",\n      \"Queen grabs pawn, accepting risk for material.\",\n      \"White takes bishop, reducing dragon pressure.\",\n      \"Queen grabs c3 and hits multiple targets.\",\n      \"Try to trap or challenge the queen path.\",\n      \"Check to force king move and keep initiative.\",\n      \"Step away and avoid further checks.\",\n      \"Black recaptures, restoring material balance and ending the tactic.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-bb5-anti-sicilian-bc4-plan\",\n    name: \"Anti Sicilian: 3.Bc4 setup vs ...Nf6\",\n    description: \"Early Bc4 against the Sicilian, play normal development and castle.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"Bc4\", \"Nf6\", \"Nc3\", \"e6\", \"d3\", \"Be7\", \"Bg5\", \"O-O\", \"O-O\", \"a6\", \"Re1\", \"b5\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare central play.\",\n      \"Solid support and control e5.\",\n      \"Fast development aiming at f7 and quick plans.\",\n      \"Develop and hit e4.\",\n      \"Develop and defend e4.\",\n      \"Solid, open bishop and prepare ...d5 breaks later.\",\n      \"Keep center controlled and support e4.\",\n      \"Develop and prepare to castle.\",\n      \"Pin the knight and increase pressure.\",\n      \"King safety and rook connection.\",\n      \"Castle and prepare central play.\",\n      \"Gain space and ask the bishop about its square, also supports ...b5.\",\n      \"Put rook on e-file, support e4-e5 breaks or tactics.\",\n      \"Queenside expansion and gain tempo on pieces.\"\n    ]\n  },\n\n  {\n  id: \"sicilian-dragon-yugoslav-h5-hxg6-continuation\",\n  name: \"Dragon Yugoslav: h5-hxg6 continuation after Qd4+\",\n  description: \"Dragon Yugoslav line with h5 push, ...Bf5 development, and hxg6 capture.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"a3\", \"b4\", \"axb4\", \"axb4\",\n    \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\", \"exd5\", \"Qa5\", \"Qd4+\", \"Kg8\",\n    \"h5\", \"Bf5\", \"hxg6\", \"fxg6\"\n  ],\n  explanations: [\n    \"White claims the center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Solid support for the center.\",\n    \"Open the center.\",\n    \"Exchange and create open lines.\",\n    \"White recaptures and centralizes.\",\n    \"Pressure e4 and develop.\",\n    \"Defend e4 and develop.\",\n    \"Dragon fianchetto setup.\",\n    \"Yugoslav system, prepares queenside castling.\",\n    \"Bishop on the long diagonal.\",\n    \"Reinforce e4 and control g4 square.\",\n    \"King safety.\",\n    \"Connect rooks and prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement, eyes f7.\",\n    \"Develop and connect rooks.\",\n    \"Opposite side castling, race begins.\",\n    \"Counterplay on the c-file.\",\n    \"Retreat bishop to safety while keeping pressure.\",\n    \"Trade off the centralized knight.\",\n    \"White recaptures to maintain piece activity.\",\n    \"Queenside expansion, gains space.\",\n    \"White starts kingside pawn storm.\",\n    \"Black expands on queenside to match.\",\n    \"White prepares for ...b4 push.\",\n    \"Break open the queenside structure.\",\n    \"White captures to avoid being locked in.\",\n    \"Black recaptures, opening the a-file.\",\n    \"Knight jump to create threats and simplify.\",\n    \"Capture the intruding knight.\",\n    \"Trade the Dragon bishop, reducing black's attack.\",\n    \"King recaptures, remaining safe.\",\n    \"Recapture and create pawn structure.\",\n    \"Queen activates, targeting weak squares.\",\n    \"Check to gain time and challenge black's king.\",\n    \"King steps back to g8, avoiding further checks.\",\n    \"Continue kingside attack with pawn push.\",\n    \"Develop bishop actively, hitting c2 and supporting queenside.\",\n    \"Exchange to open the h-file and attack.\",\n    \"Recapture, keeping pawn structure and opening f-file for counterplay.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-be2-ng4-variation\",\n  name: \"Dragon: Be2 with ...Ng4 variation\",\n  description: \"Classical Dragon with Be2 where black plays ...Ng4 to trade bishops and develop initiative.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Ng4\",\n    \"Bxg4\", \"Bxg4\", \"f3\", \"Be6\", \"h4\", \"Qa5\"\n  ],\n  explanations: [\n    \"White claims the center.\",\n    \"Sicilian response, fighting for d4.\",\n    \"Develop and prepare d4.\",\n    \"Solid center support.\",\n    \"Open the center.\",\n    \"Exchange and create open lines.\",\n    \"White recaptures and centralizes.\",\n    \"Develop and pressure e4.\",\n    \"Defend e4 and develop.\",\n    \"Dragon fianchetto.\",\n    \"Classical development, less aggressive than Bc4.\",\n    \"Bishop on the long diagonal.\",\n    \"Develop bishop and support center.\",\n    \"King safety.\",\n    \"Prepare queenside castling.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Knight jump to challenge the e3 bishop.\",\n    \"White trades to avoid doubled pawns.\",\n    \"Black recaptures, developing with tempo.\",\n    \"Reinforce e4 and limit bishop's retreat squares.\",\n    \"Bishop retreats to active diagonal.\",\n    \"White starts kingside expansion.\",\n    \"Queen activates, putting pressure on queenside.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-be2-ng4-nxe6-line\",\n  name: \"Dragon: Be2 ...Ng4 with Nxe6 exchange\",\n  description: \"Classical Dragon line where white exchanges on e6 and trades bishops with Bh6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be2\", \"Bg7\", \"Be3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Ng4\",\n    \"Bxg4\", \"Bxg4\", \"f3\", \"Be6\", \"Nxe6\", \"fxe6\", \"Bh6\", \"Qa5\",\n    \"Bxg7\", \"Kxg7\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Support center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Classical development.\",\n    \"Fianchetto bishop.\",\n    \"Develop bishop.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Challenge the e3 bishop.\",\n    \"Trade bishop for knight.\",\n    \"Recapture and develop.\",\n    \"Support e4 and limit bishop.\",\n    \"Bishop finds active square.\",\n    \"Exchange to damage black's pawn structure.\",\n    \"Recapture, creating doubled e-pawns but opening f-file.\",\n    \"Threaten to trade the Dragon bishop.\",\n    \"Queen activates with threats.\",\n    \"Execute the bishop trade.\",\n    \"King recaptures, remaining in center but with pawn cover.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-g4-be6-line\",\n  name: \"Dragon Yugoslav: g4 with ...Be6 response\",\n  description: \"Yugoslav attack with early g4, met by ...Be6 and knight exchange on e6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"g4\", \"Be6\",\n    \"Nxe6\", \"fxe6\", \"O-O-O\", \"Ne5\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Early kingside pawn storm.\",\n    \"Develop bishop actively, hitting d5 and c4.\",\n    \"Exchange to damage black's pawn structure.\",\n    \"Recapture, creating doubled e-pawns but opening f-file.\",\n    \"White completes queenside castling.\",\n    \"Knight centralizes to strong outpost.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-g5-nh5-line\",\n  name: \"Dragon Yugoslav: g5 forcing ...Nh5\",\n  description: \"Yugoslav attack with g4-g5 push, forcing knight to h5 where it's less active.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n    \"g4\", \"Rc8\", \"g5\", \"Nh5\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian counterplay.\",\n    \"Develop and prepare d4.\",\n    \"Support center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Yugoslav system.\",\n    \"Bishop on diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Develop bishop.\",\n    \"Start kingside pawn storm.\",\n    \"Rook to c-file for counterplay.\",\n    \"Push pawn, attacking knight.\",\n    \"Knight retreats to edge, avoiding exchange but less active.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-h5-a4-bxf6\",\n  name: \"Dragon Yugoslav: h5, ...a4, and Bxf6 exchange\",\n  description: \"Yugoslav line with h5 push, met by ...a4 pawn advance and bishop exchange on f6.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"h4\", \"a5\", \"h5\", \"a4\",\n    \"Bxf6\", \"exf6\"\n  ],\n  explanations: [\n    \"White takes center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement.\",\n    \"Develop bishop.\",\n    \"Opposite side castling.\",\n    \"Rook to c-file.\",\n    \"Retreat bishop.\",\n    \"Trade knight.\",\n    \"Recapture with bishop.\",\n    \"Queenside expansion.\",\n    \"Kingside pawn storm.\",\n    \"Black's queenside counter.\",\n    \"Continue kingside attack.\",\n    \"Pawn push, threatening to trap bishop.\",\n    \"Trade bishop for knight to relieve pressure.\",\n    \"Recapture, doubling pawns but opening e-file.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-h4-h5-be2-line\",\n  name: \"Dragon Yugoslav: h4 met by ...h5 with Be2 setup\",\n  description: \"Yugoslav attack where black responds to h4 with ...h5, blocking white's pawn storm.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"O-O-O\", \"Bd7\",\n    \"h4\", \"h5\", \"Be2\", \"Rc8\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian response.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon setup.\",\n    \"Yugoslav system.\",\n    \"Bishop on diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"White castles queenside.\",\n    \"Develop bishop.\",\n    \"Start kingside pawn storm.\",\n    \"Black blocks the pawn advance, stopping h5 ideas.\",\n    \"Develop bishop, more solid than Bc4.\",\n    \"Rook to c-file for queenside counterplay.\"\n  ]\n},\n\n{\n  id: \"sicilian-dragon-yugoslav-nd5-early-line\",\n  name: \"Dragon Yugoslav: Early Nd5 before h4\",\n  description: \"Yugoslav line where white plays Nd5 immediately after ...b5, skipping h4 initially.\",\n  moves: [\n    \"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\",\n    \"Be3\", \"Bg7\", \"f3\", \"O-O\", \"Qd2\", \"Nc6\", \"Bc4\", \"Bd7\", \"O-O-O\", \"Rc8\",\n    \"Bb3\", \"Nxd4\", \"Bxd4\", \"b5\", \"Nd5\", \"Nxd5\", \"Bxg7\", \"Kxg7\",\n    \"exd5\", \"a5\", \"a3\", \"Kg8\"\n  ],\n  explanations: [\n    \"White claims center.\",\n    \"Sicilian defense.\",\n    \"Develop and prepare d4.\",\n    \"Solid center.\",\n    \"Open center.\",\n    \"Exchange.\",\n    \"White recaptures.\",\n    \"Pressure e4.\",\n    \"Defend and develop.\",\n    \"Dragon fianchetto.\",\n    \"Yugoslav setup.\",\n    \"Bishop on long diagonal.\",\n    \"Support e4.\",\n    \"King safety.\",\n    \"Prepare long castle.\",\n    \"Develop and pressure d4.\",\n    \"Active bishop placement.\",\n    \"Develop bishop.\",\n    \"Opposite side castling.\",\n    \"Rook to c-file.\",\n    \"Retreat bishop.\",\n    \"Trade knight.\",\n    \"Recapture with bishop.\",\n    \"Queenside expansion.\",\n    \"Knight jump to d5, creating threats.\",\n    \"Capture the knight.\",\n    \"Trade the Dragon bishop.\",\n    \"King recaptures.\",\n    \"Recapture, creating passed d-pawn.\",\n    \"Black continues queenside expansion.\",\n    \"White prepares to meet ...a4.\",\n    \"King steps back to g8, connecting rooks.\"\n  ]\n},\n\n  {\n    id: \"sicilian-closed-mainline-g3-g6\",\n    name: \"Closed Sicilian: g3 setup vs ...g6\",\n    description: \"Closed Sicilian: White plays g3 and d3. Black fianchettos and strikes with ...d6 and ...e5.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"Be3\", \"e5\", \"Nf3\", \"Nge7\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes space and keeps options for Open or Closed setups.\",\n      \"Sicilian. Black fights for d4 and creates an imbalanced structure.\",\n      \"Closed Sicilian move order, keep the d pawn flexible and develop.\",\n      \"Develop and add control of d4 and e5.\",\n      \"Commit to a kingside fianchetto and a slower buildup.\",\n      \"Mirror the fianchetto, aiming for ...Bg7 pressure on the long diagonal.\",\n      \"Place the bishop on the long diagonal and support central breaks later.\",\n      \"Develop bishop and increase control of the center.\",\n      \"Keep the center closed, support e4, and prepare piece development.\",\n      \"Solid, supports ...e5 and controls key central squares.\",\n      \"Develop and support queenside development, also eyes c5 squares.\",\n      \"Stake out space and reduce white's easy f4 break, typical Closed Sicilian plan.\",\n      \"Develop naturally and prepare to castle.\",\n      \"Develop flexibly, keeping options like ...f5 or ...Be6.\",\n      \"King safety and connect rooks before attacking.\",\n      \"Match castling and keep the position stable before choosing pawn breaks.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-mainline-g3-e6\",\n    name: \"Closed Sicilian: g3 setup vs ...e6\",\n    description: \"Closed Sicilian where Black chooses ...e6 and ...d5 ideas, staying flexible and solid.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"e6\", \"Bg2\", \"Nge7\", \"d3\", \"d5\", \"exd5\", \"exd5\", \"Nf3\", \"Be6\", \"O-O\", \"Bd7\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian structure, fight for d4.\",\n      \"Closed move order, develop and keep d pawn back.\",\n      \"Develop and pressure d4.\",\n      \"Prepare Bg2 and a slower kingside buildup.\",\n      \"Solid, opens the dark bishop and keeps ...d5 in mind.\",\n      \"Fianchetto bishop, supports central control.\",\n      \"Develop without blocking the c pawn and support ...d5.\",\n      \"Keep the center closed and support e4.\",\n      \"The typical break in this structure, challenge white's e4 and fight for central equality.\",\n      \"Simplify the tension and avoid allowing ...d4 later.\",\n      \"Recapture and keep a central pawn presence, opening lines for pieces.\",\n      \"Develop, defend e5 and prepare to castle.\",\n      \"Develop and support ...d4 ideas if White is careless.\",\n      \"Castle and get king safe, keeping plans flexible.\",\n      \"Develop and support central control, aiming for ...O-O soon.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-f4-plan-quick\",\n    name: \"Closed Sicilian: quick f4 plan\",\n    description: \"Closed Sicilian where White plays d3 and f4. Black responds with ...g6 and ...Bg7, then ...d6.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"f4\", \"e6\", \"Nf3\", \"Nge7\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes space and keeps options open.\",\n      \"Sicilian counterplay.\",\n      \"Closed move order, develop and keep d pawn flexible.\",\n      \"Develop and contest key central squares.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Fianchetto structure for black as well.\",\n      \"Bishop supports central breaks and kingside play.\",\n      \"Black mirrors and sets long diagonal pressure.\",\n      \"Keep center closed and prepare f4 without losing e4.\",\n      \"Solid support, keeps ...e5 available.\",\n      \"Main Closed Sicilian plan, expand on kingside and aim for f5.\",\n      \"Solid, prepares ...Nge7 and keeps the center flexible.\",\n      \"Develop and support e5 and g5 squares before pushing further.\",\n      \"Develop and keep ...d5 and ...f5 options open.\",\n      \"Castle and get the rook to the f file behind the f pawn.\",\n      \"Castle and prepare to meet kingside play with central or queenside counterplay.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-early-nge7-0-0\",\n    name: \"Closed Sicilian: ...Nge7 and quick castling\",\n    description: \"Simple Closed Sicilian plan for Black: develop pieces, castle, then decide between ...d6 or ...d5 based on White's setup.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"e6\", \"Be3\", \"Nge7\", \"Qd2\", \"O-O\", \"f4\", \"d6\", \"Nf3\", \"f5\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay and imbalance.\",\n      \"Closed Sicilian structure, develop and keep d pawn back.\",\n      \"Develop and control d4 and e5.\",\n      \"Commit to fianchetto and a slower plan.\",\n      \"Black fianchetto, keeping a flexible structure.\",\n      \"Develop bishop and strengthen kingside.\",\n      \"Develop bishop and control central squares.\",\n      \"Closed center, support e4.\",\n      \"Develop, keep ...d5 available, and support ...f5 ideas later.\",\n      \"Develop and keep options for Qd2 and f4.\",\n      \"King safety and connect rooks before committing to pawn breaks.\",\n      \"Typical Closed Sicilian coordination, support f4 and connect rooks.\",\n      \"Solidify the center and keep ...e5 available later.\",\n      \"Start the main kingside expansion plan.\",\n      \"Directly challenge the f pawn and claim space, a common practical reaction.\",\n      \"(Added) Keep development consistent and the move order legal.\",\n      \"(Added) Keep development consistent and the move order legal.\"\n    ]\n  },\n  {\n    id: \"sicilian-closed-e5-clamp\",\n    name: \"Closed Sicilian: early ...e5 clamp\",\n    description: \"Black plays an early ...e5 to clamp down on f4 and seize central space. A very common practical response.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"e5\", \"Nf3\", \"d6\", \"O-O\", \"Nge7\", \"Be3\", \"O-O\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay, fight for d4.\",\n      \"Closed Sicilian structure, flexible development.\",\n      \"Develop and reinforce central control.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Black mirrors with a fianchetto.\",\n      \"Bishop supports kingside play and central control.\",\n      \"Black completes the fianchetto.\",\n      \"Keep the center closed and support e4.\",\n      \"Key move. Black clamps down on f4 and claims space, forcing White to find slower plans.\",\n      \"Develop and prepare to castle, keeping options for f4 later.\",\n      \"Support the e5 pawn and keep the position solid.\",\n      \"Castle before committing to pawn pushes.\",\n      \"Develop and keep ...f5 and ...Be6 options available.\",\n      \"Develop and support queenside safety or a later f4 push.\",\n      \"Castle and finish basic development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-botvinnik-style\",\n    name: \"Closed Sicilian: Botvinnik-style buildup\",\n    description: \"Classic Closed Sicilian plan with Be3, Qd2, and f4 ideas. Slow but dangerous kingside buildup.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"d6\", \"Be3\", \"e6\", \"Qd2\", \"Nf6\", \"f4\", \"O-O\", \"Nf3\", \"Rb8\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian structure.\",\n      \"Closed setup, avoid early d4.\",\n      \"Develop and contest central squares.\",\n      \"Prepare Bg2 and a kingside plan.\",\n      \"Black fianchetto structure.\",\n      \"Strong diagonal pressure.\",\n      \"Black mirrors development.\",\n      \"Solidify the center.\",\n      \"Support ...e5 and keep structure flexible.\",\n      \"Key Botvinnik idea, supports Qd2 and f4.\",\n      \"Flexible development, keeps ...f5 ideas alive.\",\n      \"Prepare f4, Bh6, and potential kingside pressure.\",\n      \"Castle and get the king safe before counterplay starts.\",\n      \"Commit to kingside space and prepare f5 attacks.\",\n      \"Practical queenside prep, often supports ...b5.\",\n      \"Develop and connect the king side pieces before pushing more pawns.\",\n      \"(Added) Keep development consistent and the move order legal.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-direct-d5-break\",\n    name: \"Closed Sicilian: direct ...d5 break\",\n    description: \"Black challenges the center immediately with ...d5. White must understand the structure, not memorize moves.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"e6\", \"Bg2\", \"d5\", \"exd5\", \"exd5\", \"d3\", \"Nf6\", \"Nge2\", \"Bd6\", \"O-O\", \"O-O\"],\n    explanations: [\n      \"White takes central space.\",\n      \"Sicilian counterplay.\",\n      \"Closed Sicilian move order.\",\n      \"Develop and pressure d4.\",\n      \"Prepare a fianchetto.\",\n      \"Solid setup, opens dark-square bishop.\",\n      \"Develop bishop and support the center.\",\n      \"Critical break. Black immediately challenges e4 and aims for central equality.\",\n      \"Remove the central tension and avoid allowing ...d4 at the wrong moment.\",\n      \"Recapture and keep central presence, opening lines for pieces.\",\n      \"Return to a Closed structure and support e4.\",\n      \"Develop and hit e4, forcing White to keep defending the center.\",\n      \"Develop and keep f-pawn flexible for f4 ideas.\",\n      \"Develop actively and support kingside castling.\",\n      \"Castle and get king safe.\",\n      \"Castle and finish development.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-closed-rb8-queenside\",\n    name: \"Closed Sicilian: ...Rb8 queenside expansion\",\n    description: \"Black prepares queenside play early instead of committing to central breaks. Common in practical games.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"g3\", \"g6\", \"Bg2\", \"Bg7\", \"d3\", \"Rb8\", \"f4\", \"b5\", \"Nf3\", \"b4\", \"Ne2\", \"a5\"],\n    explanations: [\n      \"White claims central space.\",\n      \"Sicilian structure.\",\n      \"Closed Sicilian setup.\",\n      \"Develop and contest central squares.\",\n      \"Prepare a kingside fianchetto.\",\n      \"Black mirrors with a fianchetto.\",\n      \"Develop bishop on the long diagonal.\",\n      \"Black completes development.\",\n      \"Keep the center closed and flexible.\",\n      \"Prepare ...b5 and queenside expansion without committing the center.\",\n      \"White starts kingside play and prepares f5.\",\n      \"Black expands on the queenside and aims to open files.\",\n      \"Develop and prepare to castle before pushing more.\",\n      \"Gain space and kick the knight, trying to open lines on the queenside.\",\n      \"Re-route the knight and keep the center stable.\",\n      \"Support queenside expansion and prepare ...a4 in some lines.\"\n    ]\n  },\n\n\n\n  {\n    id: \"sicilian-qxd4-line-early-queen\",\n    name: \"Sideline: early Qxd4 and ...Nc6 hit\",\n    description: \"White recaptures with the queen, Black develops with tempo and equalizes quickly.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Qxd4\", \"Nc6\", \"Bb5\", \"Bd7\", \"Bxc6\", \"Bxc6\", \"Nc3\", \"Nf6\", \"Bg5\", \"e6\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian counterplay.\",\n      \"Develop and prepare d4.\",\n      \"Solid support of the center.\",\n      \"Open the center.\",\n      \"Exchange and open lines.\",\n      \"Early queen recapture, but it can be hit with tempo.\",\n      \"Develop and attack the queen immediately.\",\n      \"Pin and keep pressure while avoiding queen harassment.\",\n      \"Break the pin and develop.\",\n      \"Trade to reduce black development and simplify.\",\n      \"Recapture, maintain structure and development.\",\n      \"Develop and keep the queen supported on d4 if needed.\",\n      \"Develop and hit e4, also prepares ...e6.\",\n      \"Develop and pin the knight, aiming for pressure on d8/a5 lines.\",\n      \"Solidify the center and open the dark bishop.\"\n    ]\n  },\n\n  {\n    id: \"sicilian-bg5-h6-bh4-nxe4-core\",\n    name: \"Dragon: Bg5 and ...Nxe4 tactic core\",\n    description: \"Bg5 lines where ...Nxe4 appears as a central tactic and trades follow.\",\n    moves: [\"e4\", \"c5\", \"Nf3\", \"d6\", \"d4\", \"cxd4\", \"Nxd4\", \"Nf6\", \"Nc3\", \"g6\", \"Bg5\", \"Bg7\", \"Qd2\", \"h6\", \"Bh4\", \"Nc6\", \"O-O-O\", \"Nxe4\", \"Nxe4\", \"Nxd4\"],\n    explanations: [\n      \"White takes space.\",\n      \"Sicilian response.\",\n      \"Develop and prepare d4.\",\n      \"Solid, control e5.\",\n      \"Open center.\",\n      \"Exchange and open lines.\",\n      \"White develops with recapture.\",\n      \"Pressure e4.\",\n      \"Defend and develop.\",\n      \"Dragon setup.\",\n      \"Pin the knight and increase pressure.\",\n      \"Develop bishop and keep pressure on diagonal.\",\n      \"Support long castle and coordination.\",\n      \"Ask the bishop a question and gain luft.\",\n      \"Keep the pin and avoid giving up bishop pair.\",\n      \"Develop and pressure d4.\",\n      \"Commit to queenside castling and attack.\",\n      \"Tactical grab in the center, testing white coordination.\",\n      \"White recaptures to avoid losing pawn and keep pieces active.\",\n      \"Follow up by trading the centralized knight and simplifying.\"\n    ]\n  },\n\n  {\n    category: \"Closed Sicilian\",\n    id: \"sicilian-closed-classical-f4-g3\",\n    name: \"Closed Sicilian: Classical f4-g3 setup\",\n    description: \"Slow kingside buildup with f4, g3, Bg2, and long maneuvering plans.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"g3\", \"d6\", \"Bg2\", \"e6\", \"O-O\", \"Nge7\", \"d3\", \"O-O\"],\n    explanations: [\n      \"Claim central space.\",\n      \"Sicilian structure.\",\n      \"Avoid Open Sicilian and keep structure closed.\",\n      \"Develop and control d4.\",\n      \"Gain kingside space and signal attack.\",\n      \"Prepare kingside fianchetto.\",\n      \"Develop and support center.\",\n      \"Bishop on long diagonal.\",\n      \"Prepare Bg2 and solid king safety.\",\n      \"Solidify center.\",\n      \"Complete fianchetto.\",\n      \"Control d5 and prepare ...Nge7.\",\n      \"King safety.\",\n      \"Flexible knight, supports ...d5 breaks.\",\n      \"Lock the center and prepare f5 or Be3.\",\n      \"Castle and connect rooks, preparing ...d5 breaks later.\"\n    ]\n  },\n  {\n    category: \"Closed Sicilian\",\n    id: \"sicilian-closed-kingside-storm-f5\",\n    name: \"Closed Sicilian: Kingside storm with f5\",\n    description: \"Direct pawn expansion. Risky but common at club level.\",\n    moves: [\"e4\", \"c5\", \"Nc3\", \"Nc6\", \"f4\", \"g6\", \"Nf3\", \"Bg7\", \"f5\", \"d6\", \"g4\", \"h5\", \"gxh5\", \"gxh5\", \"d3\", \"Nf6\"],\n    explanations: [\n      \"Central space.\",\n      \"Asymmetry.\",\n      \"Closed Sicilian choice.\",\n      \"Develop.\",\n      \"Kingside expansion.\",\n      \"Prepare defense.\",\n      \"Develop.\",\n      \"Fianchetto bishop.\",\n      \"Close the center and start attack.\",\n      \"Stabilize.\",\n      \"Space grab, very committal.\",\n      \"Typical counter, creates targets.\",\n      \"Open the g-file and change the structure on the wing.\",\n      \"Recapture and keep material equal while opening lines.\",\n      \"Support the center and prepare piece development behind the pawn storm.\",\n      \"Develop and challenge e4 and g4 squares.\"\n    ]\n  },\n\n];\n","import React, { Component } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport TopNav from \"./TopNav\";\nimport { londonLines } from \"../openings/londonLines\";\nimport { sicilianDefenseLines } from \"../openings/sicilianDefenseLines\";\nimport \"./Home.css\";\n\nconst STORAGE_KEY = \"notation_trainer_opening_progress_v2\";\n\nconst OPENINGS = [\n  {\n    key: \"london\",\n    title: \"London\",\n    description:\n      \"Reliable structure and easy development. Drill the move orders until it stops collapsing in real games.\",\n    lines: londonLines,\n    accent: \"gold\",\n    badge: \"New\",\n    position: \"start\",\n    orientation: \"white\"\n  },\n  {\n    key: \"sicilian\",\n    title: \"Sicilian Defense\",\n    description:\n      \"Fight for imbalance as Black. Learn the common setups and the move orders that actually show up.\",\n    lines: sicilianDefenseLines,\n    accent: \"purple\",\n    badge: null,\n    position: \"start\",\n    orientation: \"black\"\n  }\n];\n\nfunction _safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction _loadProgress() {\n  const empty = { lines: {}, openings: {} };\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    if (!raw) return empty;\n    const parsed = _safeJsonParse(raw, empty);\n    if (!parsed || typeof parsed !== \"object\") return empty;\n    if (!parsed.lines) parsed.lines = {};\n    if (!parsed.openings) parsed.openings = {};\n    return parsed;\n  } catch (_) {\n    return empty;\n  }\n}\n\nfunction _isCompleted(stats) {\n  return (stats && stats.timesClean >= 1) || false;\n}\n\nfunction _deriveCompletedCount(progress, openingKey, lines) {\n  const total = (lines && lines.length) || 0;\n  const statsMap = (progress && progress.lines && progress.lines[openingKey]) || {};\n\n  let completed = 0;\n  for (const l of lines || []) {\n    const s = statsMap[l.id];\n    if (_isCompleted(s)) completed += 1;\n  }\n\n  return { completed, total };\n}\n\nconst calcThumbWidth = ({ screenWidth, screenHeight }) => {\n  const w = screenWidth || screenHeight || 0;\n  if (w && w < 520) return 96;\n  return 120;\n};\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    const progress = _loadProgress();\n\n    const perOpening = {};\n    let totalCompleted = 0;\n    let totalLines = 0;\n\n    for (const o of OPENINGS) {\n      const r = _deriveCompletedCount(progress, o.key, o.lines);\n      perOpening[o.key] = r;\n      totalCompleted += r.completed;\n      totalLines += r.total;\n    }\n\n    this.state = {\n      search: \"\",\n      progress,\n      perOpening,\n      totalCompleted,\n      totalLines\n    };\n  }\n\n  onSearchChange = (e) => {\n    this.setState({ search: (e && e.target && e.target.value) || \"\" });\n  };\n\n  goToOpening = (openingKey) => {\n    if (!openingKey) return;\n    if (!this.props || !this.props.history || !this.props.history.push) return;\n    this.props.history.push(`/openings?opening=${encodeURIComponent(openingKey)}&custom=1`);\n  };\n\n  goToCreateCustomRep = () => {\n    if (!this.props || !this.props.history || !this.props.history.push) return;\n    // Minimal: land user in Openings Trainer where they can click Menu then + Add rep.\n    // Default to London to keep the flow deterministic.\n    this.props.history.push(`/openings?opening=${encodeURIComponent(\"london\")}&custom=1`);\n  };\n\n  renderCard = (o) => {\n    const stats = this.state.perOpening[o.key] || { completed: 0, total: (o.lines && o.lines.length) || 0 };\n    const pct = stats.total > 0 ? Math.round((stats.completed / stats.total) * 100) : 0;\n\n    return (\n      <div\n        key={o.key}\n        class={`home-course-card ${o.accent ? `accent-${o.accent}` : \"\"}`}\n        role=\"button\"\n        tabIndex={0}\n        onClick={() => this.goToOpening(o.key)}\n        onKeyDown={(e) => {\n          if (e && (e.key === \"Enter\" || e.key === \" \")) this.goToOpening(o.key);\n        }}\n      >\n        <div class=\"home-course-thumb\">\n          <Chessboard\n            draggable={false}\n            position={o.position || \"start\"}\n            orientation={o.orientation || \"white\"}\n            showNotation={false}\n            calcWidth={calcThumbWidth}\n          />\n        </div>\n\n        <div class=\"home-course-main\">\n          <div class=\"home-course-top\">\n            <div class=\"home-course-title\">{o.title}</div>\n            {o.badge ? <div class=\"home-course-badge\">{o.badge}</div> : null}\n          </div>\n\n          <div class=\"home-course-desc\">{o.description}</div>\n\n          <div class=\"home-course-progress-row\">\n            <div class=\"home-course-progress\">\n              <div class=\"home-course-progress-fill\" style={{ width: `${pct}%` }} />\n            </div>\n            <div class=\"home-course-total\">{stats.total} lines total</div>\n          </div>\n\n          <div class=\"home-course-cta\">Start learning ></div>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const q = (this.state.search || \"\").trim().toLowerCase();\n    const filtered = !q\n      ? OPENINGS\n      : OPENINGS.filter((o) => {\n          const t = (o.title || \"\").toLowerCase();\n          const d = (o.description || \"\").toLowerCase();\n          return t.includes(q) || d.includes(q);\n        });\n\n    return (\n      <div class=\"home-page\">\n      <TopNav title=\"Chess Opening Drills\" />\n<div class=\"home-courses\">\n          <div class=\"home-courses-header\">\n            <div class=\"home-search\">\n              <span class=\"home-search-icon\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M10.5 18.5C14.6421 18.5 18 15.1421 18 11C18 6.85786 14.6421 3.5 10.5 3.5C6.35786 3.5 3 6.85786 3 11C3 15.1421 6.35786 18.5 10.5 18.5Z\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                  />\n                  <path d=\"M21 21L16.65 16.65\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n                </svg>\n              </span>\n              <input\n                class=\"home-search-input\"\n                placeholder=\"Search openings...\"\n                value={this.state.search}\n                onChange={this.onSearchChange}\n              />\n            </div>\n\n            <div class=\"home-header-right\">\n              <button class=\"home-create-rep\" onClick={this.goToCreateCustomRep}>\n                <span class=\"home-create-rep-icon\" role=\"img\" aria-label=\"create custom line\">\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M12 20H21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                    <path d=\"M16.5 3.5L20.5 7.5L8 20H4V16L16.5 3.5Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\"/>\n                  </svg>\n                </span>\n                Create custom line\n              </button>\n\n              <div class=\"home-lines-learned\">\n                {this.state.totalCompleted}/{this.state.totalLines} lines learned\n              </div>\n            </div>\n          </div>\n\n          <div class=\"home-course-grid\">{filtered.map(this.renderCard)}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport GithubCorner from 'react-github-corner';\nimport TopNav from './TopNav';\nimport './About.css';\nimport './Board.css';\nimport '../App.css';\n\nclass About extends Component {\n  render() {\n    return (\n      <div className=\"about-page\">\n        <GithubCorner href=\"https://github.com/Luvvydev\" />\n\n        <TopNav active=\"about\" title=\"Chess Opening Drills\" />\n\n        <div className=\"about-wrap\">\n          <div className=\"about-card\">\n            <h2 className=\"about-title\">Thanks for stopping by!</h2>\n\n            <p className=\"about-lead\">\n              Chess Opening Drills is a practice tool for memorizing opening move orders and basic notation through repetition.\n              It is built for players who already know the rules and want the first phase of the game to feel automatic.\n            </p>\n\n            <p className=\"about-muted\">\n              \n            </p>\n\n            <div className=\"about-chips\" aria-label=\"What you get\">\n              <div className=\"about-chip\">Instant feedback</div>\n              <div className=\"about-chip\">Randomized reps</div>\n              <div className=\"about-chip\">Progress saved</div>\n             \n            </div>\n\n            <div className=\"button-container\">\n              <a\n                className=\"coffee-button\"\n                href=\"https://buymeacoffee.com/luvvydev\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span role=\"img\" aria-label=\"coffee\"></span> Buy me a coffee\n              </a>\n            </div>\n\n            <div className=\"about-links\">\n              <a href=\"https://github.com/Luvvydev\" aria-label=\"Luvvydev on GitHub\">\n                GitHub\n              </a>\n              <span className=\"about-dot\"></span>\n              <span className=\"about-smile\">\n                <span role=\"img\" aria-label=\"smile\"></span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default About;\n","import React, { Component } from 'react';\nimport Chessboard from \"chessboardjsx\";\nimport * as Chess from 'chess.js';\nimport PGNData from '../PGN/outfile.json';\nimport { faCircle as blackCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCircle as whiteCircle } from \"@fortawesome/free-regular-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport './Board.css';\n\nconst game = new Chess();\nconst orientations = ['white', 'black'];\n\nclass Board extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      fen: 'start', \n      randomGameIndex: 0, \n      randomMoveIndex: 0,\n      initMove: '',\n      initMoveData: {},\n      nextMove: '',\n      nextMoveData: {},\n      history: [],\n      nextMoveColor: '',\n      squareStyles: {},\n      answer: '',\n      correctMoves: 0,\n      time: 60,\n      timerCount: 0,\n      incorrect: false,\n      correct: false,\n      selectedSquare: null,\n      legalTargets: []\n    }\n  }\n\n  /* ====================================== Lifecylcle Methods ====================================== */\n\n  componentDidMount() {\n    this.newPosition();\n\n    if(this.props.timed) {\n      this.interval = setInterval(() => this.setState({ timerCount: this.state.timerCount+1 }), 1000); // Start timer\n    \n      // Call callbackEnd once timer stops\n      setTimeout(() => {\n        const finalBoardProps = {\n          position: this.state.fen,\n          squareStyles: this.state.squareStyles,\n          allowDrag: () => false , \n          showNotation: this.props.showNotation,\n          orientation: this.props.orientation === 'random' ? this.state.orientation : this.props.orientation,\n          calcWidth: this.props.calcWidth,\n        }\n        this.props.callbackEnd(\n          this.state.correctMoves,\n          finalBoardProps)\n      }, this.state.time * 1000);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if(!this.props.timed) {\n      if(this.props.orientation !== prevProps.orientation){\n        this.newPosition();\n      }\n    } \n  }\n\n  componentWillUnmount() {\n    if(this.props.timed) {\n      clearInterval(this.interval);\n    } \n  }\n\n  /* ====================================== Component Methods ====================================== */\n\n  // Generate new board position\n  newPosition = () => {\n    let orientation = null;\n    if (this.props.orientation === 'random'){\n      orientation = orientations[Math.floor(Math.random() * 2)];\n    } else {\n      orientation = this.props.orientation;\n    }\n    let randomGameIndex = Math.floor(Math.random() * PGNData.length);\n    game.load_pgn(PGNData[randomGameIndex].data);\n    let history = game.history();\n\n    // In case game was not played\n    if(history.length <= 2) {\n      while(history.length <= 2){\n        randomGameIndex = Math.floor(Math.random() * PGNData.length);\n        game.load_pgn(PGNData[randomGameIndex].data);\n        history = game.history();\n      }\n    }\n    game.reset();\n\n    // Initial half move must be the opposite color of orientation. Initial move cannot be last half move\n    let randomMoveIndex = (orientation === 'white') ? \n      Math.floor(Math.random() *  Math.floor((history.length - 3) / 2)) * 2 + 1: \n      Math.floor(Math.random() *  Math.floor((history.length - 2) / 2)) * 2;\n    \n    // Do not use castles as move\n    if (history[randomMoveIndex+1] === 'O-O' || history[randomMoveIndex+1] === 'O-O-O') {\n        randomMoveIndex = (randomMoveIndex - 2) % history.length;\n    }\n\n    const initMove = history[randomMoveIndex];\n    const nextMove = history[randomMoveIndex+1];\n\n    // Save lastFullMove for defining the nextMoveColor state (ensures color and nextMove render at the same time)\n    let i;\n    let lastFullMove = {};\n      for (i = 0; i < (randomMoveIndex); i++) {\n        lastFullMove = game.move(history[i]);\n    }\n    \n    this.setState({ \n      fen: game.fen(), \n      randomGameIndex: randomGameIndex,\n      randomMoveIndex: randomMoveIndex,\n      initMove: initMove,\n      initMoveData: {},\n      nextMove: nextMove,\n      nextMoveData: {},\n      history: history,\n      nextMoveColor: lastFullMove.color === 'w' ? 'White' : 'Black',\n      squareStyles: {},\n      answer: '',\n      orientation: orientation\n    });\n\n    setTimeout(() => this.makeInitMove(), 100);\n    setTimeout(() => this.updateSquareStyling(), 800);\n  }\n\n  // For initMove animation\n  makeInitMove = () => {\n    const initMoveData =  game.move(this.state.initMove);\n    const nextMoveData = game.move(this.state.nextMove);\n    game.undo();\n    this.setState({ fen: game.fen(), initMoveData: initMoveData, nextMoveData: nextMoveData });\n  }\n\n  // For initMove colors\n  updateSquareStyling = () => {\n    console.log(this.state);\n    let squareStyles = {};\n    squareStyles[this.state.initMoveData.from] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\n    squareStyles[this.state.initMoveData.to] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\n    this.setState({ squareStyles: squareStyles });\n  }\n\n  // Validate user move input\n  onDrop = ({ sourceSquare, targetSquare, piece }) => {\n    if (this.state.nextMoveData.from === sourceSquare \n       && this.state.nextMoveData.to === targetSquare\n       && (this.state.nextMoveData.color + this.state.nextMoveData.piece.toUpperCase()) === piece) {\n        if(!this.props.timed) {\n          this.props.callbackDisableSettings(true);\n        }\n        game.move(this.state.nextMove); \n        this.setState({ \n          answer: 'correct', \n          fen: game.fen(), \n          correctMoves: this.state.correctMoves+1,\n          correct: true,\n          selectedSquare: null,\n          legalTargets: []\n        });\n       } else if (sourceSquare === targetSquare) {\n        // Skip if piece is dropped onto original square\n       } else {\n         this.setState({ answer: 'incorrect', incorrect: true, selectedSquare: null, legalTargets: [] });\n       }\n  }\n\n  // Only allow correct colored pieces to be dragged\n  allowDrag = ({ piece }) => {\n    if (piece.charAt(0) === this.state.nextMoveData.color) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  clearSelection = () => {\n    if (this.state.selectedSquare || (this.state.legalTargets && this.state.legalTargets.length)) {\n      this.setState({ selectedSquare: null, legalTargets: [] });\n    }\n  };\n\n  getLegalTargets = (fromSquare) => {\n    if (!fromSquare) return [];\n    try {\n      const moves = game.moves({ square: fromSquare, verbose: true });\n      if (!moves || !moves.length) return [];\n      return moves.map((m) => m.to);\n    } catch (_) {\n      return [];\n    }\n  };\n\n  onSquareClick = (square) => {\n    const piece = game.get(square);\n    // only let user interact with the correct side to move (the expected move color)\n    if (!this.allowDrag({ piece: piece ? (piece.color + piece.type.toUpperCase()) : \"\" })) return;\n\n    if (!this.state.selectedSquare) {\n      if (!piece) return;\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    if (square === this.state.selectedSquare) {\n      this.clearSelection();\n      return;\n    }\n\n    // switch selection if clicking another own piece\n    if (piece && piece.color === this.state.nextMoveData.color) {\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    const from = this.state.selectedSquare;\n    const to = square;\n    this.setState({ selectedSquare: null, legalTargets: [] }, () => {\n      this.onDrop({ sourceSquare: from, targetSquare: to, piece: (this.state.nextMoveData.color + this.state.nextMoveData.piece.toUpperCase()) });\n    });\n  };\n\n  onSquareRightClick = () => {\n    this.clearSelection();\n  };\n\n\n\n  // Wait for movePrompt animation to end\n  onAnimationEnd = () => {\n    if (this.state.correct) {\n      this.setState({ incorrect: false, correct: false });\n      this.newPosition();\n    }\n    this.setState({ incorrect: false, correct: false });\n\n    if(!this.props.timed) {\n      setTimeout(() => {\n        this.props.callbackDisableSettings(false)\n      }, 800);\n    }\n  }\n\n  /* ====================================== Render Function ====================================== */\n\n  render() {\n    const incorrect = this.state.incorrect;\n    const correct = this.state.correct;\n\n\n    const renderSquareStyles = { ...(this.state.squareStyles || {}) };\n\n    if (this.state.selectedSquare) {\n      renderSquareStyles[this.state.selectedSquare] = {\n        ...(renderSquareStyles[this.state.selectedSquare] || {}),\n        boxShadow: \"inset 0 0 0 3px rgba(170, 80, 255, 0.75)\"\n      };\n    }\n\n    if (this.state.legalTargets && this.state.legalTargets.length) {\n      for (const toSq of this.state.legalTargets) {\n        const existing = renderSquareStyles[toSq] || {};\n        const dot = \"radial-gradient(circle at center, rgba(170, 80, 255, 0.55) 18%, rgba(0,0,0,0) 20%)\";\n        const mergedBg = existing.backgroundImage ? (existing.backgroundImage + \", \" + dot) : dot;\n        renderSquareStyles[toSq] = {\n          ...existing,\n          backgroundImage: mergedBg,\n          backgroundRepeat: existing.backgroundRepeat ? existing.backgroundRepeat + \", no-repeat\" : \"no-repeat\",\n          backgroundPosition: existing.backgroundPosition ? existing.backgroundPosition + \", center\" : \"center\",\n          backgroundSize: existing.backgroundSize ? existing.backgroundSize + \", 100% 100%\" : \"100% 100%\"\n        };\n      }\n    }\n\n    return (\n      <div>\n        <Timer \n          time={this.state.time - this.state.timerCount} \n          display={this.props.timed ? 'block' : 'none'} />\n        <Chessboard\n          position={this.state.fen} \n          squareStyles={renderSquareStyles}\n          onDrop={this.onDrop}\n          allowDrag={this.allowDrag} \n          showNotation={this.props.showNotation} \n          orientation={this.props.orientation === 'random' ? this.state.orientation : this.props.orientation}\n          calcWidth={this.props.calcWidth}\n          onSquareClick={this.onSquareClick}\n          onSquareRightClick={this.onSquareRightClick}\n          />\n        <div \n        id='movePrompt' >\n          {this.state.nextMoveColor === 'White' ? <FontAwesomeIcon icon={whiteCircle} /> : <FontAwesomeIcon icon={blackCircle} />}   \n          <span> </span>\n          <span \n          onAnimationEnd={this.onAnimationEnd}\n          className={incorrect ? 'incorrect' : (correct ? 'correct' : '')}>\n            {this.state.nextMove}\n            </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction Timer(props) {\n  return (\n    <div \n      class=\"timer-container\" \n      style={props.time < 10 ? {color: 'red', display: props.display} : {display: props.display}} >\n      <div>{props.time}</div>\n    </div>\n  );\n}\n\n\nexport default Board;\n","import React, { Component } from 'react';\nimport './Settings.css';\n\nclass Settings extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orientation: 'white',\n      showNotation: false\n    };\n    this.onChangeOrientation = this.onChangeOrientation.bind(this);\n    this.onChangeNotation = this.onChangeNotation.bind(this);\n  }\n\n  onChangeOrientation(event) {\n    this.setState({ orientation: event.target.value }, () => {\n      this.props.callbackSettings(\n        this.state.orientation, \n        this.state.showNotation);\n    });\n  }\n\n  onChangeNotation(event) {\n    this.setState({ showNotation: event.target.checked }, () => {\n      this.props.callbackSettings(\n        this.state.orientation, \n        this.state.showNotation\n        );\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"settingsContainer\" style={this.props.style} >\n        <div class=\"radio-group-container\" onChange={this.onChangeOrientation}>\n          <label class=\"radio-container\">White\n            <input type=\"radio\" value=\"white\" name=\"orientation\" defaultChecked disabled={this.props.disabled}/> \n            <span class=\"checkmark\"></span>\n          </label>\n          <label class=\"radio-container\">Black \n            <input type=\"radio\" value=\"black\" name=\"orientation\" disabled={this.props.disabled}/> \n            <span class=\"checkmark\"></span>\n          </label>\n          <label class=\"radio-container\">Random\n            <input type=\"radio\" value=\"random\" name=\"orientation\" disabled={this.props.disabled}/> \n            <span class=\"checkmark\"></span>\n          </label>\n        </div>\n\n        <div class=\"checkbox-group-container\">\n          <label class=\"checkbox-container\">Show Coordinates \n            <input type=\"checkbox\" onChange={this.onChangeNotation} disabled={this.props.disabled}/> \n            <span class=\"checkmark\"></span>\n          </label>\n        </div>   \n      </div>\n    );\n  }\n}\n\nexport default Settings;","import React, { Component } from 'react';\nimport Board from './Board';\nimport Settings from './Settings';\nimport TopNav from './TopNav';\nimport './Board.css';\nimport './Practice.css';\n\nconst calcWidth = ({ screenWidth, screenHeight }) => {\n  return (screenWidth || screenHeight) < 1800 ? ((screenWidth || screenHeight) < 550 ? screenWidth : 500) : 600;\n}\n\nclass Practice extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orientation: 'white',\n      showNotation: false,\n      disableSettings: false\n    }\n  }\n\n  callbackSettings = (orientation, showNotation) => {\n    this.setState({\n      orientation: orientation,\n      showNotation: showNotation\n    });\n  }\n\n  callbackDisableSettings = (disableSettings) => {\n    this.setState({\n      disableSettings: disableSettings\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"page-dark\">\n        <TopNav active=\"about\" title=\"Chess Notation Drills\" />\n<div class=\"page-body\">\n          <Board\n            callbackDisableSettings={this.callbackDisableSettings}\n            orientation={this.state.orientation}\n            showNotation={this.state.showNotation}\n            calcWidth={calcWidth}\n            timed={false}\n          />\n\n          <Settings\n            callbackSettings={this.callbackSettings}\n            style={{ marginTop: 15 }}\n            disabled={this.state.disableSettings}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Practice;\n","import React, { Component } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport * as Chess from \"chess.js\";\nimport { londonLines } from \"../openings/londonLines\";\nimport { sicilianDefenseLines } from \"../openings/sicilianDefenseLines\";\nimport TopNav from \"./TopNav\";\nimport \"./OpeningTrainer.css\";\n\nconst OPENING_SETS = {\n  london: { key: \"london\", label: \"London\", playerColor: \"w\", lines: londonLines },\n  sicilian: { key: \"sicilian\", label: \"Sicilian Defense\", playerColor: \"b\", lines: sicilianDefenseLines }\n};\n\nconst calcWidth = ({ screenWidth, screenHeight }) => {\n  return (screenWidth || screenHeight) < 1800\n    ? (screenWidth || screenHeight) < 550\n      ? screenWidth\n      : 500\n    : 600;\n};\n\nconst X_SVG_DATA_URI =\n  \"data:image/svg+xml;utf8,\" +\n  encodeURIComponent(\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\">\n      <circle cx=\"32\" cy=\"32\" r=\"28\" fill=\"#d11f1f\"/>\n      <path d=\"M20 20 L44 44 M44 20 L20 44\" stroke=\"white\" stroke-width=\"6\" stroke-linecap=\"round\"/>\n    </svg>`\n  );\n\nfunction _randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction _pickRandomLineId(lines, excludeId) {\n  if (!lines || !lines.length) return null;\n  if (lines.length === 1) return lines[0].id;\n  let tries = 0;\n  while (tries < 20) {\n    const idx = _randInt(0, lines.length - 1);\n    const id = lines[idx].id;\n    if (id !== excludeId) return id;\n    tries += 1;\n  }\n  return lines[0].id;\n}\n\nconst STORAGE_KEY = \"notation_trainer_opening_progress_v2\";\nconst SETTINGS_KEY = \"notation_trainer_opening_settings_v1\";\nconst CUSTOM_REPS_KEY = \"notation_trainer_custom_lines_v1\";\n\nfunction _loadCustomLines() {\n  try {\n    const raw = window.localStorage.getItem(CUSTOM_REPS_KEY);\n    if (!raw) return [];\n    const parsed = _safeJsonParse(raw, []);\n    return Array.isArray(parsed) ? parsed : [];\n  } catch (_) {\n    return [];\n  }\n}\n\nfunction _saveCustomLines(lines) {\n  try {\n    window.localStorage.setItem(CUSTOM_REPS_KEY, JSON.stringify(lines || []));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction _makeCustomId() {\n  return \"custom-\" + Date.now() + \"-\" + Math.floor(Math.random() * 1000000);\n}\n\nfunction _splitMovesText(text) {\n  const t = String(text || \"\").trim();\n  if (!t) return [];\n  return t\n    .split(/[\\n\\r\\t ,]+/g)\n    .map((s) => s.trim())\n    .filter(Boolean);\n}\n\nfunction _validateSanMoves(moves) {\n  try {\n    const g = new Chess();\n    for (let i = 0; i < moves.length; i += 1) {\n      const san = moves[i];\n      const mv = g.move(san, { sloppy: true });\n      if (!mv) return { ok: false, index: i, san: san };\n    }\n    return { ok: true };\n  } catch (_) {\n    return { ok: false, index: 0, san: \"\" };\n  }\n}\n\n\nfunction _safeJsonParse(text, fallback) {\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return fallback;\n  }\n}\n\nfunction _todayKey() {\n  const d = new Date();\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\n\nfunction _loadProgress() {\n  const empty = { lines: {}, openings: {} };\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    if (!raw) return empty;\n    const parsed = _safeJsonParse(raw, empty);\n    if (!parsed || typeof parsed !== \"object\") return empty;\n    if (!parsed.lines) parsed.lines = {};\n    if (!parsed.openings) parsed.openings = {};\n    return parsed;\n  } catch (_) {\n    return empty;\n  }\n}\n\nfunction _saveProgress(progress) {\n  try {\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction _loadSettings() {\n  const defaults = { showConfetti: true, playSounds: true };\n  try {\n    const raw = window.localStorage.getItem(SETTINGS_KEY);\n    if (!raw) return defaults;\n    const parsed = _safeJsonParse(raw, defaults);\n    if (!parsed || typeof parsed !== \"object\") return defaults;\n\n    return {\n      showConfetti: parsed.showConfetti !== false,\n      playSounds: parsed.playSounds !== false\n    };\n  } catch (_) {\n    return defaults;\n  }\n}\n\nfunction _saveSettings(settings) {\n  try {\n    window.localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));\n  } catch (_) {\n    // ignore\n  }\n}\n\nfunction _ensureOpening(progress, openingKey) {\n  if (!progress.lines[openingKey]) progress.lines[openingKey] = {};\n  if (!progress.openings[openingKey]) {\n    progress.openings[openingKey] = {\n      streak: 0,\n      bestStreak: 0,\n      completedToday: 0,\n      todayKey: _todayKey(),\n      totalCompleted: 0,\n      totalClean: 0\n    };\n  }\n  const o = progress.openings[openingKey];\n  const t = _todayKey();\n  if (o.todayKey !== t) {\n    o.todayKey = t;\n    o.completedToday = 0;\n    o.streak = 0;\n  }\n}\n\nfunction _getLineStats(progress, openingKey, lineId) {\n  _ensureOpening(progress, openingKey);\n  const bucket = progress.lines[openingKey];\n  if (!bucket[lineId]) {\n    bucket[lineId] = {\n      timesSeen: 0,\n      timesCompleted: 0,\n      timesClean: 0,\n      lastResult: null\n    };\n  }\n  return bucket[lineId];\n}\n\nfunction _isCompleted(stats) {\n  return (stats && stats.timesClean >= 1) || false;\n}\n\n\nfunction _sideForIndex(i) {\n  return i % 2 === 0 ? \"w\" : \"b\";\n}\n\nfunction _countMovesForSide(moves, side) {\n  if (!moves || !moves.length) return 0;\n  let n = 0;\n  for (let i = 0; i < moves.length; i += 1) {\n    if (_sideForIndex(i) === side) n += 1;\n  }\n  return n;\n}\n\nfunction _countDoneMovesForSide(stepIndex, side) {\n  let n = 0;\n  for (let i = 0; i < stepIndex; i += 1) {\n    if (_sideForIndex(i) === side) n += 1;\n  }\n  return n;\n}\n\n\nfunction _categoryForLine(line) {\n  if (!line) return \"Other\";\n  if (line.category) return String(line.category);\n  const name = line.name ? String(line.name) : \"\";\n  // If you already use \"Prefix: Title\", treat Prefix as category hint.\n  const parts = name.split(\":\");\n  if (parts.length > 1) return parts[0].trim();\n  return \"Other\";\n}\n\nfunction _groupLines(lines) {\n  const out = {};\n  (lines || []).forEach((l) => {\n    const cat = _categoryForLine(l);\n    if (!out[cat]) out[cat] = [];\n    out[cat].push(l);\n  });\n  // stable-ish category order: main ones first, then alpha\n  const preferred = [\n    \"Classic London\",\n    \"Early ...c5 Systems\",\n    \"Anti Bishop Ideas\",\n    \"Jobava London\",\n    \"Aggressive Plans\",\n    \"Open Sicilian\",\n    \"Anti-Sicilian\",\n    \"Closed Sicilian\",\n    \"Grand Prix\",\n    \"Moscow/Rossolimo\",\n    \"Other\"\n  ];\n  const cats = Object.keys(out);\n  cats.sort((a, b) => {\n    const ia = preferred.indexOf(a);\n    const ib = preferred.indexOf(b);\n    if (ia !== -1 || ib !== -1) {\n      return (ia === -1 ? 999 : ia) - (ib === -1 ? 999 : ib);\n    }\n    return a.localeCompare(b);\n  });\n\n  return { cats, map: out };\n}\n\n\nclass OpeningTrainer extends Component {\n  constructor(props) {\n    super(props);\n\n    \n\n    this._openCustomOnMount = false;\n    this.game = new Chess();\n\n    this._settingsAnchorEl = null;\n    this._linePickerAnchorEl = null;\n\n    let firstSetKey = \"london\";\n    try {\n      const search = (props && props.location && props.location.search) || \"\";\n      const params = new URLSearchParams(search);\n      \n      this._openCustomOnMount = params.get(\"custom\") === \"1\";\n      const fromHome = params.get(\"opening\");\n      if (fromHome && OPENING_SETS[fromHome]) firstSetKey = fromHome;\n    } catch (_) {\n      // ignore\n    }\n\n    const firstLinesBuiltIn = OPENING_SETS[firstSetKey].lines;\n    const customAll = _loadCustomLines();\n    const customForFirst = customAll.filter((l) => l && l.openingKey === firstSetKey);\n    const firstLines = firstLinesBuiltIn.concat(customForFirst);\n    const firstId = _pickRandomLineId(firstLines, null) || (firstLines[0] ? firstLines[0].id : \"\");\n\n    this._autoNextTimer = null;\n    this._confettiTimer = null;\n\n    const progress = _loadProgress();\n    const settings = _loadSettings();\n\n    this.state = {\n      openingKey: firstSetKey,\n      lineId: firstId,\n      linePicker: \"random\",\n      fen: \"start\",\n      stepIndex: 0,\n      mistakeUnlocked: false,\n      lastMistake: null,\n      completed: false,\n      confettiActive: false,\n      wrongAttempt: null,\n      progress: progress,\n      showHint: false,\n      settingsOpen: false,\n      lineMenuOpen: false,\n      settings: settings,\n      customLines: customAll,\n      customModalOpen: false,\n      customName: \"\",\n      customMovesText: \"\",\n      customError: \"\"\n    ,\n      viewing: false,\n      viewIndex: 0,\n      viewFen: \"start\",\n      hintFromSquare: null,\n      solveArmed: false,\n      selectedSquare: null,\n      legalTargets: []\n    };\n\n    this._countedSeenForRun = false;\n\n    const base = process.env.PUBLIC_URL || \"\";\n    this.sfx = {\n      capture: new Audio(base + \"/sounds/capture.mp3\"),\n      illegal: new Audio(base + \"/sounds/illegal.mp3\"),\n      moveSelf: new Audio(base + \"/sounds/move-self.mp3\"),\n      moveOpponent: new Audio(base + \"/sounds/move-opponent.mp3\")\n    };\n\n    Object.values(this.sfx).forEach((a) => {\n      if (!a) return;\n      a.preload = \"auto\";\n      a.volume = 0.55;\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"mousedown\", this.onWindowClick);\n    window.addEventListener(\"keydown\", this.onKeyDown);\n    this.resetLine(false);\n  \n    if (this._openCustomOnMount) {\n      this._openCustomOnMount = false;\n      this.openCustomModal();\n    }\n}\n\n  componentWillUnmount() {\n    if (this._autoNextTimer) clearTimeout(this._autoNextTimer);\n    if (this._confettiTimer) clearTimeout(this._confettiTimer);\n    window.removeEventListener(\"mousedown\", this.onWindowClick);\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onWindowClick = (e) => {\n    if (!this.state.settingsOpen && !this.state.lineMenuOpen) return;\n\n    const t = e && e.target;\n\n    if (this._settingsAnchorEl && t && this._settingsAnchorEl.contains(t)) return;\n    if (this._linePickerAnchorEl && t && this._linePickerAnchorEl.contains(t)) return;\n\n    this.setState({ settingsOpen: false, lineMenuOpen: false });\n  };\n\n  onKeyDown = (e) => {\n    const t = e && e.target;\n    const tag = t && t.tagName;\n    const editable = t && t.isContentEditable;\n\n    if (editable || tag === \"INPUT\" || tag === \"TEXTAREA\" || tag === \"SELECT\") return;\n\n    const key = e.key;\n\n    if (key === \"ArrowUp\" || key === \"Up\") {\n      e.preventDefault();\n      this.viewLive();\n      return;\n    }\n\n    if (key === \"ArrowLeft\" || key === \"Left\") {\n      e.preventDefault();\n      this.viewBack();\n      return;\n    }\n\n    if (key === \"ArrowRight\" || key === \"Right\") {\n      e.preventDefault();\n      this.viewForward();\n      return;\n    }\n\n    const isSpace = e.code === \"Space\" || key === \" \" || key === \"Spacebar\";\n    if (isSpace) {\n      if (e.repeat) return;\n      e.preventDefault();\n\n      if (this.state.solveArmed) {\n        this.playMoveForMe();\n      } else {\n        this.onHint();\n      }\n    }\n  };\n\n\n  getOpeningSet = () => {\n    return OPENING_SETS[this.state.openingKey] || OPENING_SETS.london;\n  };\nopenCustomModal = () => {\n  this.setState({\n    customModalOpen: true,\n    customName: \"\",\n    customMovesText: \"\",\n    customError: \"\"\n  });\n};\n\ncloseCustomModal = () => {\n  this.setState({ customModalOpen: false, customError: \"\" });\n};\n\nsaveCustomModal = () => {\n  const openingKey = this.state.openingKey;\n  const nameRaw = String(this.state.customName || \"\").trim();\n  const moves = _splitMovesText(this.state.customMovesText);\n\n  if (!moves.length) {\n    this.setState({ customError: \"Paste moves in SAN format first.\" });\n    return;\n  }\n\n  const v = _validateSanMoves(moves);\n  if (!v.ok) {\n    this.setState({\n      customError: `Bad move at #${(v.index || 0) + 1}: ${v.san || \"\"}`\n    });\n    return;\n  }\n\n  const name = nameRaw || `My rep (${moves.length} moves)`;\n\n  const nextLine = {\n    id: _makeCustomId(),\n    openingKey: openingKey,\n    category: \"My Reps\",\n    name: name,\n    description: \"\",\n    moves: moves,\n    explanations: moves.map(() => \"\")\n  };\n\n  const existing = (this.state.customLines || []).slice();\n  const next = existing.concat([nextLine]);\n  _saveCustomLines(next);\n\n  this.setState(\n    {\n      customLines: next,\n      customModalOpen: false,\n      customError: \"\",\n      linePicker: nextLine.id,\n      lineId: nextLine.id,\n      lineMenuOpen: false\n    },\n    () => this.resetLine(false)\n  );\n};\n\nrenderCustomModal = () => {\n  if (!this.state.customModalOpen) return null;\n\n  return (\n    <div class=\"ot-modal-overlay\" onMouseDown={this.closeCustomModal}>\n      <div class=\"ot-modal\" onMouseDown={(e) => e.stopPropagation()}>\n        <div class=\"ot-modal-title\">Add custom rep</div>\n\n        {this.state.customError ? <div class=\"ot-modal-error\">{this.state.customError}</div> : null}\n\n        <label class=\"ot-modal-label\">\n          Name (optional)\n          <input\n            class=\"ot-modal-input\"\n            value={this.state.customName}\n            onChange={(e) => this.setState({ customName: e.target.value })}\n            placeholder=\"Example: My London vs Qb6\"\n          />\n        </label>\n\n        <label class=\"ot-modal-label\">\n          Moves (SAN, separated by spaces, commas, or new lines)\n          <textarea\n            class=\"ot-modal-textarea\"\n            value={this.state.customMovesText}\n            onChange={(e) => this.setState({ customMovesText: e.target.value })}\n            placeholder=\"d4 d5 Bf4 Nf6 e3 e6 Nd2 c5 c3 Nc6\"\n          />\n        </label>\n\n        <div class=\"ot-modal-actions\">\n          <button class=\"ot-button ot-button-small\" onClick={this.closeCustomModal}>\n            Cancel\n          </button>\n          <button class=\"ot-button ot-button-small ot-button-primary\" onClick={this.saveCustomModal}>\n            Save\n          </button>\n        </div>\n\n        <div class=\"ot-modal-hint\">\n          Tip: use standard SAN like Nf3, Bb5, O-O, exd5, Qxd8.\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n  \n  getLines = () => {\n    const set = this.getOpeningSet();\n    const builtIn = (set && set.lines) || [];\n\n    const openingKey = this.state.openingKey;\n    const customAll = this.state.customLines || [];\n    const customForOpening = customAll.filter((l) => l && l.openingKey === openingKey);\n\n    return builtIn.concat(customForOpening);\n  };\n\n\n\n  getPlayerColor = () => {\n    const set = this.getOpeningSet();\n    return (set && set.playerColor) || \"w\";\n  };\n\n  getLine = () => {\n    const lines = this.getLines();\n    return lines.find((l) => l.id === this.state.lineId) || lines[0];\n  };\n\n  getHintFromSquare = (expectedSan) => {\n    if (!expectedSan) return null;\n\n    try {\n      const fen = this.state.fen;\n      const g = !fen || fen === \"start\" ? new Chess() : new Chess(fen);\n      const mv = g.move(expectedSan, { sloppy: true });\n      if (!mv) return null;\n      return mv.from || null;\n    } catch (_) {\n      return null;\n    }\n  };\n\n  onHint = () => {\n    if (this.state.completed) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const fromSq = this.getHintFromSquare(expected);\n\n    this.setState({\n      showHint: true,\n      solveArmed: true,\n      hintFromSquare: fromSq\n    });\n  };\n\n  playMoveForMe = () => {\n    if (this.state.completed) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    if (this.state.viewing) this.viewLive();\n\n    const mv = this.game.move(expected, { sloppy: true });\n    if (!mv) return;\n\n    const flags = typeof mv.flags === \"string\" ? mv.flags : \"\";\n    const isCapture = flags.includes(\"c\") || flags.includes(\"e\");\n    this.playSfx(isCapture ? \"capture\" : \"moveSelf\");\n\n    const nextStep = this.state.stepIndex + 1;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: nextStep,\n        viewing: false,\n        viewIndex: nextStep,\n        viewFen: this.game.fen(),\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        // Solve breaks clean completion\n        mistakeUnlocked: true\n      },\n      () => {\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  toggleSettingsOpen = (e) => {\n    if (e && e.stopPropagation) e.stopPropagation();\n    this.setState({ settingsOpen: !this.state.settingsOpen });\n  };\n\n  toggleLineMenuOpen = (e) => {\n    if (e && e.stopPropagation) e.stopPropagation();\n    this.setState({ lineMenuOpen: !this.state.lineMenuOpen });\n  };\n\n\n  setSetting = (key, value) => {\n    const next = { ...(this.state.settings || {}) };\n    next[key] = value;\n    _saveSettings(next);\n    this.setState({ settings: next });\n  };\n\n  _sfxLastAt = {};\n\n  playSfx = (key) => {\n    if (!this.state.settings || !this.state.settings.playSounds) return;\n\n    const a = this.sfx && this.sfx[key];\n    if (!a) return;\n\n    const now = Date.now();\n    const last = this._sfxLastAt[key] || 0;\n\n    // debounce to prevent duplicate overlapping playback\n    if (now - last < 80) return;\n    this._sfxLastAt[key] = now;\n\n    try {\n      if (!a.paused) a.pause();\n      a.currentTime = 0;\n\n      const p = a.play();\n      if (p && typeof p.catch === \"function\") p.catch(() => {});\n    } catch (_) {\n      // ignore\n    }\n  };\n\n\n  getFenAtIndex = (index) => {\n    const line = this.getLine();\n    if (!line) return \"start\";\n\n    const g = new Chess();\n    const n = Math.max(0, Math.min(index || 0, line.moves.length));\n\n    for (let i = 0; i < n; i += 1) {\n      const mv = g.move(line.moves[i]);\n      if (!mv) break;\n    }\n\n    return g.fen();\n  };\n\n  getViewIndex = () => {\n    return this.state.viewing ? this.state.viewIndex : this.state.stepIndex;\n  };\n\n  goToViewIndex = (nextIndex) => {\n    const line = this.getLine();\n    if (!line) return;\n\n    const clamped = Math.max(0, Math.min(nextIndex, this.state.stepIndex));\n\n    if (clamped === this.state.stepIndex) {\n      this.setState({\n        viewing: false,\n        viewIndex: clamped,\n        viewFen: this.state.fen\n      });\n      return;\n    }\n\n    this.setState({\n      viewing: true,\n      viewIndex: clamped,\n      viewFen: this.getFenAtIndex(clamped),\n      showHint: false\n    });\n  };\n\n  viewBack = () => {\n    const i = this.getViewIndex();\n    if (i <= 0) return;\n    this.goToViewIndex(i - 1);\n  };\n\n  viewForward = () => {\n    const i = this.getViewIndex();\n    if (i >= this.state.stepIndex) return;\n    this.goToViewIndex(i + 1);\n  };\n\n  viewLive = () => {\n    this.goToViewIndex(this.state.stepIndex);\n  };\n\n\n  undoMistake = () => {\n    if (!this.state.lastMistake && !this.state.wrongAttempt) return;\n    this.setState({\n      fen: this.game.fen(),\n      wrongAttempt: null,\n      lastMistake: null,\n      completed: false,\n      showHint: false\n    });\n  };\n\n  resetLine = (keepUnlocked) => {\n    this.game.reset();\n    this.setState(\n      {\n        fen: \"start\",\n        stepIndex: 0,\n        completed: false,\n        mistakeUnlocked: keepUnlocked ? this.state.mistakeUnlocked : false,\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false\n      },\n      () => {\n        this._countedSeenForRun = false;\n        this.bumpSeen();\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  startRandomLine = () => {\n    const lines = this.getLines();\n    const nextId = _pickRandomLineId(lines, this.state.lineId);\n    if (!nextId) return;\n    this.setState(\n      {\n        lineId: nextId,\n        linePicker: \"random\",\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  startLine = () => {\n    this.resetLine(true);\n  };\n\n  retryLine = () => {\n    this.resetLine(true);\n  };\n\n  setOpeningKey = (e) => {\n    const nextKey = e && e.target ? e.target.value : \"london\";\n    const nextSet = OPENING_SETS[nextKey] || OPENING_SETS.london;\n    const nextLines = nextSet.lines || [];\n    const nextId = _pickRandomLineId(nextLines, null) || (nextLines[0] ? nextLines[0].id : \"\");\n\n    this.setState(\n      {\n        openingKey: nextKey,\n        lineId: nextId,\n        linePicker: \"random\",\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  setLinePicker = (e) => {\n    const val = e && e.target ? e.target.value : \"random\";\n    if (!val) return;\n    if (val === \"__divider__\") return;\n\n    if (val === \"random\") {\n      this.setState({ linePicker: \"random\" }, () => {\n        this.startRandomLine();\n      });\n      return;\n    }\n\n    this.setState(\n      {\n        linePicker: val,\n        lineId: val,\n        mistakeUnlocked: false,\n        lastMistake: null,\n        completed: false,\n        wrongAttempt: null,\n        showHint: false\n      },\n      () => {\n        this.resetLine(false);\n      }\n    );\n  };\n\n  bumpSeen = () => {\n    if (this._countedSeenForRun) return;\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    _ensureOpening(progress, openingKey);\n    const s = _getLineStats(progress, openingKey, lineId);\n    s.timesSeen += 1;\n\n    _saveProgress(progress);\n    this._countedSeenForRun = true;\n    this.setState({ progress });\n  };\n\n  bumpMistake = () => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    const s = _getLineStats(progress, openingKey, lineId);\n    s.lastResult = \"fail\";\n    _saveProgress(progress);\n    this.setState({ progress });\n  };\n\n  bumpCompleted = (wasClean) => {\n    const openingKey = this.state.openingKey;\n    const lineId = this.state.lineId;\n    if (!openingKey || !lineId) return;\n\n    const progress = { ...this.state.progress };\n    _ensureOpening(progress, openingKey);\n    const o = progress.openings[openingKey];\n    const s = _getLineStats(progress, openingKey, lineId);\n\n    s.timesCompleted += 1;\n    s.lastResult = wasClean ? \"success\" : \"fail\";\n\n    o.totalCompleted = (o.totalCompleted || 0) + 1;\n    o.completedToday = (o.completedToday || 0) + 1;\n\n    if (wasClean) {\n      s.timesClean += 1;\n      o.totalClean = (o.totalClean || 0) + 1;\n      o.streak = (o.streak || 0) + 1;\n      o.bestStreak = Math.max(o.bestStreak || 0, o.streak);\n    } else {\n      o.streak = 0;\n    }\n\n    _saveProgress(progress);\n    this.setState({ progress });\n  };\n\n  playAutoMovesIfNeeded = () => {\n    const line = this.getLine();\n    if (!line) return;\n\n    let stepIndex = this.state.stepIndex;\n    const playerColor = this.getPlayerColor();\n\n    let didAutoMove = false;\n\n    while (stepIndex < line.moves.length && this.game.turn() !== playerColor) {\n      const expected = line.moves[stepIndex];\n      const mv = this.game.move(expected);\n      if (!mv) {\n        this.setState({ fen: this.game.fen() });\n        return;\n      }\n      stepIndex += 1;\n      didAutoMove = true;\n    }\n\n    const completed = stepIndex >= line.moves.length;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: stepIndex,\n        completed: completed\n      },\n      () => {\n        if (didAutoMove) this.playSfx(\"moveOpponent\");\n        if (completed) this.onCompletedLine();\n      }\n    );\n  };\n\n  onCompletedLine = () => {\n    if (this._autoNextTimer) clearTimeout(this._autoNextTimer);\n    if (this._confettiTimer) clearTimeout(this._confettiTimer);\n\n    const wasClean = !this.state.mistakeUnlocked;\n    this.bumpCompleted(wasClean);\n\n    if (this.state.settings && this.state.settings.showConfetti) {\n      this.setState({ confettiActive: true });\n\n      this._confettiTimer = setTimeout(() => {\n        this.setState({ confettiActive: false });\n      }, 1200);\n    } else {\n      this.setState({ confettiActive: false });\n    }\n\n    if (this.state.linePicker === \"random\") {\n      this._autoNextTimer = setTimeout(() => {\n        this.startRandomLine();\n      }, 900);\n    }\n  };\n\n  onDrop = ({ sourceSquare, targetSquare }) => {\n    if (this.state.completed) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const expected = line.moves[this.state.stepIndex];\n    if (!expected) return;\n\n    const move = this.game.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\"\n    });\n\n    if (!move) return;\n\n    const playedSAN = move.san;\n\n    if (playedSAN !== expected) {\n      const explanation = line.explanations[this.state.stepIndex] || \"\";\n\n      this.playSfx(\"illegal\");\n\n      this.bumpMistake();\n      this.game.undo();\n\n      this.setState({\n        fen: this.game.fen(),\n        completed: false,\n        mistakeUnlocked: true,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        lastMistake: {\n          expected: expected,\n          played: playedSAN,\n          explanation: explanation\n        },\n        wrongAttempt: {\n          from: sourceSquare,\n          to: targetSquare\n        },\n        selectedSquare: null,\n        legalTargets: []\n      });\n\n      return;\n    }\n\n    const flags = typeof move.flags === \"string\" ? move.flags : \"\";\n    const isCapture = flags.includes(\"c\") || flags.includes(\"e\");\n    this.playSfx(isCapture ? \"capture\" : \"moveSelf\");\n\n    const nextStep = this.state.stepIndex + 1;\n\n    this.setState(\n      {\n        fen: this.game.fen(),\n        stepIndex: nextStep,\n        lastMistake: null,\n        wrongAttempt: null,\n        showHint: false,\n        solveArmed: false,\n        hintFromSquare: null,\n        selectedSquare: null,\n        legalTargets: []\n      },\n      () => {\n        this.playAutoMovesIfNeeded();\n      }\n    );\n  };\n\n  allowDrag = ({ piece }) => {\n    if (this.state.completed) return false;\n    if (this.state.wrongAttempt) return false;\n    if (this.state.viewing) return false;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return false;\n\n    return piece && piece.charAt(0) === playerColor;\n  };\n\n  clearSelection = () => {\n    if (this.state.selectedSquare || (this.state.legalTargets && this.state.legalTargets.length)) {\n      this.setState({ selectedSquare: null, legalTargets: [] });\n    }\n  };\n\n  getLegalTargets = (fromSquare) => {\n    if (!fromSquare) return [];\n    try {\n      const moves = this.game.moves({ square: fromSquare, verbose: true });\n      if (!moves || !moves.length) return [];\n      return moves.map((m) => m.to);\n    } catch (_) {\n      return [];\n    }\n  };\n\n  onSquareClick = (square) => {\n    if (this.state.completed) return;\n    if (this.state.wrongAttempt) return;\n    if (this.state.viewing) return;\n\n    const line = this.getLine();\n    if (!line) return;\n\n    const playerColor = this.getPlayerColor();\n    if (this.game.turn() !== playerColor) return;\n\n    const piece = this.game.get(square);\n\n    // If nothing selected yet: only allow selecting your own piece\n    if (!this.state.selectedSquare) {\n      if (!piece || piece.color !== playerColor) return;\n\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    // Click same square: deselect\n    if (square === this.state.selectedSquare) {\n      this.clearSelection();\n      return;\n    }\n\n    // Clicking another of your pieces switches selection\n    if (piece && piece.color === playerColor) {\n      const targets = this.getLegalTargets(square);\n      this.setState({ selectedSquare: square, legalTargets: targets });\n      return;\n    }\n\n    // Otherwise treat as destination\n    const from = this.state.selectedSquare;\n    const to = square;\n\n    // Clear highlights before attempting move\n    this.setState({ selectedSquare: null, legalTargets: [] }, () => {\n      this.onDrop({ sourceSquare: from, targetSquare: to });\n    });\n  };\n\n  onSquareRightClick = () => {\n    this.clearSelection();\n  };\n\n\n  stripMovePrefix = (text) => {\n  if (!text) return \"\";\n  const s = String(text).trim();\n\n  const idx = s.indexOf(\":\");\n  if (idx > 0 && idx <= 8) {\n    const head = s.slice(0, idx).trim();\n    const isSAN =\n      head === \"O-O\" ||\n      head === \"O-O-O\" ||\n      /^[KQRBN]?[a-h]?[1-8]?x?[a-h][1-8](=[QRBN])?[+#]?$/.test(head) ||\n      /^[a-h][1-8](=[QRBN])?[+#]?$/.test(head);\n\n    if (isSAN) return s.slice(idx + 1).trim();\n  }\n\n  return s;\n};\n\nsanitizeExplanation = (text, expectedSan) => {\n  let s = this.stripMovePrefix(text);\n  if (!s) return \"\";\n\n  if (expectedSan) {\n    const esc = String(expectedSan).replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    const reSan = new RegExp(\"\\\\b\" + esc + \"\\\\b\", \"g\");\n    s = s.replace(reSan, \"this move\");\n  }\n\n  return s;\n};\n\nrenderCoachArea = (line, doneYourMoves, totalYourMoves, expectedSan) => {\n  if (!line) return null;\n\n  const canUndo = !!(this.state.lastMistake || this.state.wrongAttempt);\n\n  const unlocked = !!this.state.mistakeUnlocked;\n\n  // Sync explanation with viewIndex when using the back and forward buttons\n  const coachIndex = this.getViewIndex();\n  const raw = unlocked ? (line.explanations[coachIndex] || \"\") : \"What's the best move?\";\n  const text = unlocked ? this.sanitizeExplanation(raw, expectedSan) : raw;\n\n  return (\n    <div class=\"ot-coach\">\n      <div class=\"ot-coach-head\">\n        <div class=\"ot-coach-left\">\n          <div class=\"ot-coach-title\"></div>\n        </div>\n\n        <div class=\"ot-card-head-right\">\n          <span class=\"ot-mini-count\">\n            {doneYourMoves}/{totalYourMoves}\n          </span>\n          {canUndo ? (\n            <button class=\"ot-mini-btn\" onClick={this.undoMistake} title=\"Undo mistake\">\n              Undo\n            </button>\n          ) : null}\n        </div>\n      </div>\n\n      <div class=\"ot-bubble\">\n        <div class=\"ot-bubble-row\">\n          <div class=\"ot-buddy\" title=\"Your drill buddy\"></div>\n          <div class=\"ot-coach-text\">{text}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n  renderConfetti = () => {\n    if (!this.state.confettiActive) return null;\n\n    const pieces = [];\n    for (let i = 0; i < 60; i += 1) {\n      const left = _randInt(10, 90);\n      const delay = Math.random() * 0.15;\n      const dur = 0.85 + Math.random() * 0.55;\n      const rot = _randInt(0, 360);\n      const size = _randInt(6, 11);\n\n      pieces.push(\n        <span\n          key={i}\n          class=\"ot-confetti\"\n          style={{\n            left: left + \"vw\",\n            animationDelay: delay + \"s\",\n            animationDuration: dur + \"s\",\n            transform: \"rotate(\" + rot + \"deg)\",\n            width: size + \"px\",\n            height: Math.max(4, Math.floor(size * 0.55)) + \"px\"\n          }}\n        />\n      );\n    }\n\n    return <div class=\"ot-confetti-layer\">{pieces}</div>;\n  };\n\n  render() {\n    const line = this.getLine();\n    if (!line) return null;\n    const lines = this.getLines();\n    const nextExpected = line.moves[this.state.stepIndex] || null;\n\n\n    const viewIndex = this.getViewIndex();\n    const coachExpected = line.moves[viewIndex] || null;\n    const boardFen = this.state.viewing ? this.state.viewFen : this.state.fen;\n    const canViewBack = viewIndex > 0;\n    const canViewForward = viewIndex < this.state.stepIndex;\n\n    const playerColor = this.getPlayerColor();\n\n    const totalYourMoves = _countMovesForSide(line.moves, playerColor);\n    const doneYourMoves = _countDoneMovesForSide(this.state.stepIndex, playerColor);\n\n    const yourProgressPct = totalYourMoves > 0 ? Math.round((doneYourMoves / totalYourMoves) * 100) : 0;\n\n    const squareStyles = {};\n    if (this.state.wrongAttempt && this.state.wrongAttempt.to) {\n      squareStyles[this.state.wrongAttempt.to] = {\n        backgroundImage: `url(\"${X_SVG_DATA_URI}\")`,\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"center\",\n        backgroundSize: \"70%\"\n      };\n    }\n\n    if (this.state.hintFromSquare) {\n      squareStyles[this.state.hintFromSquare] = {\n        background: \"rgba(80, 170, 255, 0.45)\"\n      };\n    }\n\n\n\n    // Click-to-move highlights (mobile friendly)\n    if (this.state.selectedSquare) {\n      squareStyles[this.state.selectedSquare] = {\n        ...(squareStyles[this.state.selectedSquare] || {}),\n        boxShadow: \"inset 0 0 0 3px rgba(170, 80, 255, 0.75)\"\n      };\n    }\n\n    if (this.state.legalTargets && this.state.legalTargets.length) {\n      for (const toSq of this.state.legalTargets) {\n        const existing = squareStyles[toSq] || {};\n        const dot = \"radial-gradient(circle at center, rgba(170, 80, 255, 0.55) 18%, rgba(0,0,0,0) 20%)\";\n        const mergedBg = existing.backgroundImage ? (existing.backgroundImage + \", \" + dot) : dot;\n        squareStyles[toSq] = {\n          ...existing,\n          backgroundImage: mergedBg,\n          backgroundRepeat: existing.backgroundRepeat ? existing.backgroundRepeat + \", no-repeat\" : \"no-repeat\",\n          backgroundPosition: existing.backgroundPosition ? existing.backgroundPosition + \", center\" : \"center\",\n          backgroundSize: existing.backgroundSize ? existing.backgroundSize + \", 100% 100%\" : \"100% 100%\"\n        };\n      }\n    }\n    return (\n      <div class=\"ot-container\">\n        {this.renderConfetti()}\n        {this.renderCustomModal()}\n\n        <TopNav title=\"Chess Opening Drills\" />\n{/* Per-line progress (moved to top) */}\n        <div class=\"ot-top-line\">\n          <div class=\"ot-top-line-row\">\n            <div class=\"ot-top-line-count\">\n              \n            </div>\n          </div>\n\n          <div class=\"ot-progress-bar ot-progress-bar-top\">\n            <div class=\"ot-progress-fill\" style={{ width: yourProgressPct + \"%\" }} />\n          </div>\n        </div>\n\n        <div class=\"ot-controls\">\n          <span class=\"ot-label ot-label-plain\">Mode:</span>\n\n          <select class=\"ot-select\" value={this.state.openingKey} onChange={this.setOpeningKey}>\n            <option value=\"london\">London</option>\n            <option value=\"sicilian\">Sicilian Defense</option>\n          </select>\n\n          <button class=\"ot-button\" onClick={this.startLine}>\n            Restart current line\n          </button>\n\n          <button class=\"ot-button\" onClick={this.startRandomLine}>\n            Next\n          </button>\n\n          <span class=\"ot-pill\">{this.state.mistakeUnlocked ? \"Explanations unlocked\" : \"Explanations locked\"}</span>\n        </div>\n\n        {/* replaced standalone subtitle rows with a header card (same content, cleaner layout) */}\n\n        <div class=\"ot-main\">\n          <div class=\"ot-board\">\n\n            <div class=\"ot-board-head\">\n              <select class=\"ot-opening-select\" value={this.state.openingKey} onChange={this.setOpeningKey}>\n                <option value=\"london\">London</option>\n                <option value=\"sicilian\">Sicilian Defense</option>\n              </select>\n            </div>\n            <Chessboard\n              position={boardFen}\n              onDrop={this.onDrop}\n              allowDrag={this.allowDrag}\n              orientation={playerColor === \"b\" ? \"black\" : \"white\"}\n              showNotation={true}\n              calcWidth={calcWidth}\n              squareStyles={squareStyles}\n              onSquareClick={this.onSquareClick}\n              onSquareRightClick={this.onSquareRightClick}\n            />\n          </div>\n\n          \n          <div class=\"ot-side\">\n            <div class=\"ot-panel\">\n              <div class=\"ot-panel-body\">\n              {this.renderCoachArea(line, doneYourMoves, totalYourMoves, coachExpected)}\n\n              <div class=\"ot-dock\">\n                <div class=\"ot-dock-left\">\n                  <div\n                    class=\"ot-line-picker\"\n                    ref={(el) => {\n                      this._linePickerAnchorEl = el;\n                    }}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <button\n                      class=\"ot-icon-btn-tight\"\n                      onClick={this.toggleLineMenuOpen}\n                      title=\"Choose line\"\n                      aria-label=\"Choose line\"\n                    >\n                      \n                    </button>\n\n                    {this.state.lineMenuOpen ? (\n                      <div class=\"ot-line-popover\" onClick={(e) => e.stopPropagation()}>\n                        <div class=\"ot-line-popover-title\">Line select</div>\n                        <button class=\"ot-mini-btn ot-add-rep-btn\" onClick={this.openCustomModal} title=\"Paste a custom rep\">\n                          + Add rep\n                        </button>\n\n                        <select\n                          class=\"ot-line-select ot-line-select-compact\"\n                          value={this.state.linePicker}\n                          onChange={(e) => {\n                            this.setLinePicker(e);\n                            this.setState({ lineMenuOpen: false });\n                          }}\n                        >\n                          <option value=\"random\">Random line</option>\n                          <option value=\"__divider__\" disabled>\n                            \n                          </option>\n\n                          {(() => {\n                            const grouped = _groupLines(lines);\n                            return grouped.cats.map((cat) => {\n                              const arr = grouped.map[cat] || [];\n                              return (\n                                <optgroup key={cat} label={cat}>\n                                  {arr.map((l) => {\n                                    const s = _getLineStats(this.state.progress, this.state.openingKey, l.id);\n                                    const symbol = _isCompleted(s) ? \"\" : s.timesSeen > 0 ? \"\" : \"\";\n                                    return (\n                                      <option key={l.id} value={l.id}>\n                                        {symbol} {l.name}\n                                      </option>\n                                    );\n                                  })}\n                                </optgroup>\n                              );\n                            });\n                          })()}\n                        </select>\n                      </div>\n                    ) : null}\n                  </div>\n\n                  <div\n                    class=\"ot-panel-header-actions\"\n                    ref={(el) => {\n                      this._settingsAnchorEl = el;\n                    }}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <button class=\"ot-gear\" onClick={this.toggleSettingsOpen} title=\"Settings\" aria-label=\"Settings\">\n                      \n                    </button>\n\n                    {this.state.settingsOpen ? (\n                      <div class=\"ot-settings-menu\" onClick={(e) => e.stopPropagation()}>\n                        <div class=\"ot-settings-title\">Settings</div>\n\n                        <label class=\"ot-settings-row\">\n                          <input\n                            type=\"checkbox\"\n                            checked={!!(this.state.settings && this.state.settings.showConfetti)}\n                            onChange={(e) => this.setSetting(\"showConfetti\", !!e.target.checked)}\n                          />\n                          <span>Show Confetti</span>\n                        </label>\n\n                        <label class=\"ot-settings-row\">\n                          <input\n                            type=\"checkbox\"\n                            checked={!!(this.state.settings && this.state.settings.playSounds)}\n                            onChange={(e) => this.setSetting(\"playSounds\", !!e.target.checked)}\n                          />\n                          <span>Play Sounds</span>\n                        </label>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div class=\"ot-dock-center\">\n                  <button class=\"ot-button ot-button-small ot-button-dock\" onClick={this.retryLine}>\n                    Retry\n                  </button>\n\n                  <button\n                    class=\"ot-button ot-button-small ot-button-dock\"\n                    onClick={this.startRandomLine}\n                    disabled={this.state.linePicker !== \"random\"}\n                    title={\n                      this.state.linePicker === \"random\"\n                        ? \"Pick a new random line\"\n                        : \"Switch to Random line to use this\"\n                    }\n                  >\n                    Next\n                  </button>\n\n                  <button\n                    class={\n                      \"ot-button ot-button-small ot-button-dock ot-hint-btn\" +\n                      (this.state.showHint ? \" ot-hint-btn-on\" : \"\")\n                    }\n                    onClick={this.state.solveArmed ? this.playMoveForMe : this.onHint}\n                    disabled={!nextExpected || this.state.completed || this.state.viewing}\n                    title={\n                      !nextExpected\n                        ? \"Line complete\"\n                        : this.state.solveArmed\n                        ? \"Play the move (breaks clean completion)\"\n                        : \"Highlight the piece to move\"\n                    }\n                  >\n                    {this.state.solveArmed ? \"Solve\" : \"Hint\"}\n                  </button>\n                </div>\n\n                <div class=\"ot-dock-right\">\n                  {this.state.viewing ? (\n                    <button class=\"ot-mini-btn\" onClick={this.viewLive} title=\"Jump back to current position\">\n                      Live\n                    </button>\n                  ) : null}\n\n                  <button\n                    class=\"ot-icon-btn\"\n                    onClick={this.viewBack}\n                    disabled={!canViewBack}\n                    title=\"Back\"\n                    aria-label=\"Back\"\n                  >\n                    \n                  </button>\n\n                  <button\n                    class=\"ot-icon-btn\"\n                    onClick={this.viewForward}\n                    disabled={!canViewForward}\n                    title=\"Forward\"\n                    aria-label=\"Forward\"\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n\n{/* Mistake box removed (was revealing the expected move) */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OpeningTrainer;\n","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport Home from './components/Home';\nimport About from './components/About';\nimport Practice from './components/Practice';\nimport OpeningTrainer from './components/OpeningTrainer';\n\nclass App extends React.Component {\n  render () {\n    return (\n      <div className=\"board-container\">\n        <HashRouter basename='/'>\n          <Route exact path='/' component={Home} />\n          <Route path='/practice' component={Practice} />\n          <Route path='/openings' component={OpeningTrainer} />\n          <Route path='/about' component={About} />\n        </HashRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}